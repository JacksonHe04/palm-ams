import{_ as P,u as X,a as it,b as Be,B as dt,d as ut,e as ct,Z as pt,K as mt,f as _t,h as ye,i as Le,j as ft,k as vt,r as Ee,l as ge,m as bt,n as qe,o as Ve,p as yt,q as ht,s as Pe,t as gt,v as wt,w as xt,x as $t,y as kt,z as Vt,A as Te,C as St,D as Ct,E as It,F as Ye,G as Ft,H as Pt,I as pe,J as Dt,L as Tt}from"./main.js";import{g as f,o as r,h as l,J as He,U as j,ai as M,T as O,S as x,B as z,i as C,l as E,G as H,aR as je,Q as B,V as t,r as Z,P as n,b as F,K as jt,aS as Oe,M as Ot,u as g,F as K,w as le,aw as De,v as Ut,a1 as ve,aT as We,ap as At,L as be,Z as Mt,aU as Nt,C as Lt,aV as me,R as fe,aW as Et}from"./vendor-core.js";import{a as R,b as Ue,c as Ke,d as te,E as S,e as W,f as ae,g as Je,h as oe,j as zt,v as he,k as we,l as ne,m as Ge,n as Ze,o as Rt,p as xe,q as se,r as Bt,s as Qe,t as ie,u as Q,w as Xe,x as Ae,y as qt,A as Yt,B as Ht,C as $e,D as ke,F as et,G as ze,H as Wt}from"./vendor-element-plus.js";import{v as Kt,c9 as Jt,ca as Gt}from"./vendors.js";import{i as de}from"./vendor-echarts.js";import{u as ce,w as tt,r as Zt}from"./vendor-xlsx.js";import{Q as Qt}from"./vendor-icons.js";const Xt={},ea={class:"hero-section"},ta={class:"container"};function aa(h,e){return r(),f("div",ea,[l("div",ta,[He(h.$slots,"default",{},void 0,!0)])])}const la=P(Xt,[["render",aa],["__scopeId","data-v-d4948bb0"]]),oa={data(){return{footerSections:[{title:"项目开源",links:[{name:"个人项目",url:"https://github.com/JacksonHe04"},{name:"Gitee 仓库",url:"https://gitee.com/JacksonHe04/PalmAdmissionsSystem"},{name:"GitHub 仓库",url:"https://github.com/JacksonHe04/PalmAdmissionsSystem"}]},{title:"联系我们",links:[{name:"联系管理员",url:"/contact"},{name:"联系开发者",url:"/contact"}]},{title:"更多网站",links:[{name:"东南大学官网",url:"https://www.seu.edu.cn/"},{name:"东南大学计算机学院",url:"https://cs.sdu.edu.cn/"},{name:"东大计软智导航",url:"https://seucseweb.github.io/"}]},{title:"关于 PALM",links:[{name:"PALM 实验室",url:"https://palm.seu.edu.cn/"},{name:"研究生申请指南",url:"https://palm.seu.edu.cn/application.html"},{name:"实验室成员",url:"https://palm.seu.edu.cn/members.html"}]}]}}},na={class:"w-full mt-0 py-5 sm:py-10 px-4 sm:px-6 lg:px-8"},sa={class:"mx-auto max-w-screen-lg px-4 sm:px-6 lg:px-8"},ra={class:"flex flex-col sm:flex-row gap-4 sm:gap-8"},ia={class:"text-gray-500 font-bold mb-2"},da={class:"space-y-2"},ua=["href"];function ca(h,e,s,d,i,_){return r(),f("footer",na,[l("div",sa,[l("div",ra,[(r(!0),f(j,null,M(i.footerSections,(o,c)=>(r(),f("div",{key:c,class:"mx-auto my-0 md:text-left"},[l("h3",ia,O(o.title),1),l("ul",da,[(r(!0),f(j,null,M(o.links,(m,p)=>(r(),f("li",{key:p},[l("a",{href:m.url,target:"_blank",class:"text-gray-500 hover:text-blue-500"},O(m.name),9,ua)]))),128))])]))),128))]),e[0]||(e[0]=l("div",{class:"mt-8 sm:mt-10 border-t border-white pt-5 sm:pt-10"},[l("p",{class:"text-center text-gray-500"},[x(" CopyRight © 何锦诚 | 刘宇轩 | 戴雨成 | 胡瀚 "),l("br",{class:"md:hidden"}),x("2025 All rights reserved. ")]),l("p",{class:"text-center text-gray-500 mt-3"}," 东南大学 2025 年创业实践项目作品 ")],-1))])])}const pa=P(oa,[["render",ca],["__scopeId","data-v-6491b9b2"]]),ma={class:"container mx-auto flex justify-between items-center py-3 md:py-4"},_a={class:"hidden md:flex space-x-8"},fa={key:0,class:"md:hidden bg-transparent py-4 px-4 space-y-4"},va=z({__name:"Header",setup(h){const e=je(),s=C(!1),d=X(),i=C(new Date().getFullYear()),_=E(()=>it(i.value));H(async()=>{try{await d.fetchYear(),i.value=d.year.year}catch(m){console.error("Failed to fetch year:",m)}});const o=E(()=>e.path.startsWith("/admin")?{backgroundColor:"white"}:{backgroundImage:"url('/home-bg-m.png')"}),c=()=>{s.value=!s.value};return(m,p)=>{const a=Z("RouterLink");return r(),f("nav",{class:"bg-cover bg-center",style:jt(o.value)},[l("div",ma,[t(a,{to:"/",class:"flex items-center gap-2 text-2xl font-bold text-gray-800"},{default:n(()=>p[0]||(p[0]=[l("img",{src:Be,alt:"Palm Logo",class:"logo"},null,-1),l("div",{class:"nav-title"},"SEU PALM Lab",-1)])),_:1}),l("div",_a,[(r(!0),f(j,null,M(_.value,u=>(r(),F(a,{key:u.to,to:u.to,class:"text-gray-600 hover:text-gray-800"},{default:n(()=>[x(O(u.name),1)]),_:2},1032,["to"]))),128))]),l("div",{class:"md:hidden"},[l("button",{onClick:c,class:"text-gray-600 hover:text-gray-800"},p[1]||(p[1]=[l("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16m-7 6h7"})],-1)]))])]),s.value?(r(),f("div",fa,[(r(!0),f(j,null,M(_.value,u=>(r(),F(a,{key:u.to,to:u.to,class:"block text-gray-600 hover:text-gray-800"},{default:n(()=>[x(O(u.name),1)]),_:2},1032,["to"]))),128))])):B("",!0)],4)}}}),ba=P(va,[["__scopeId","data-v-b6d2c5e0"]]),ya={},ha={class:"main mt-14 md:mt-16"};function ga(h,e){const s=Z("RouterView");return r(),f("div",ha,[t(s)])}const wa=P(ya,[["render",ga],["__scopeId","data-v-7aa6606c"]]),xa={__name:"index",setup(h){return(e,s)=>(r(),F(la,null,{default:n(()=>[t(ba),t(wa),t(dt)]),_:1}))}},ai=Object.freeze(Object.defineProperty({__proto__:null,default:xa},Symbol.toStringTag,{value:"Module"})),$a={},ka={class:"not-found"},Va={class:"not-found-content"},Sa={class:"action-form"};function Ca(h,e){const s=R,d=Z("RouterLink");return r(),f("div",ka,[l("div",Va,[e[1]||(e[1]=l("h1",{class:"not-found-title"},"404",-1)),e[2]||(e[2]=l("p",{class:"not-found-description"}," 抱歉，您访问的页面不存在 ",-1)),l("div",Sa,[t(d,{to:"/"},{default:n(()=>[t(s,{type:"primary",size:"large"},{default:n(()=>e[0]||(e[0]=[x("返回首页")])),_:1})]),_:1})])])])}const Ia=P($a,[["render",Ca],["__scopeId","data-v-da6ea603"]]),li=Object.freeze(Object.defineProperty({__proto__:null,default:Ia},Symbol.toStringTag,{value:"Module"})),Fa={},Pa={class:"hero"},Da={class:"hero-content"},Ta={class:"email-form"};function ja(h,e){const s=R,d=Z("RouterLink");return r(),f("div",Pa,[l("div",Da,[e[1]||(e[1]=l("h1",{class:"hero-title"},"PAttern Learning and Mining(PALM) Lab",-1)),e[2]||(e[2]=l("p",{class:"hero-description"}," PALM 实验室隶属东南大学计算机科学与工程学院，地点位于东南大学九龙湖校区计算机楼，主要从事数据挖掘与知识发现、机器学习、模式识别以及相关领域的基础性、前沿性、创新性的研究工作。 ",-1)),l("div",Ta,[t(d,{to:"/join"},{default:n(()=>[t(s,{type:"primary",size:"large"},{default:n(()=>e[0]||(e[0]=[x("申请加入我们")])),_:1})]),_:1})])]),e[3]||(e[3]=Oe('<div class="hero-image" data-v-b654dff6><div class="achievement-badge" data-v-b654dff6><div style="display:flex;align-items:center;gap:8px;" data-v-b654dff6><div data-v-b654dff6><div style="font-weight:bold;font-size:20px;" data-v-b654dff6>100+</div><div style="font-size:14px;color:#6b7280;" data-v-b654dff6>Students</div></div></div></div><img src="'+ut+'" alt="home-img" class="home-img" data-v-b654dff6><div class="users-badge" data-v-b654dff6><div style="font-weight:bold;font-size:20px;" data-v-b654dff6>25+</div><div style="font-size:14px;color:#6b7280;" data-v-b654dff6>Mentors</div></div></div>',1))])}const Oa=P(Fa,[["render",ja],["__scopeId","data-v-b654dff6"]]),Ua={class:"cards mt-0"},Aa={href:"https://palm.seu.edu.cn/application.html",target:"_blank"},Ma={class:"stats-card h-full"},Na={class:"stats-number"},La={class:"small-cards-list"},Ea={class:"small-cards"},za=["href"],Ra={class:"small-card"},Ba={__name:"HomeCards",setup(h){const e=X(),s=C("");H(async()=>{await e.fetchYear(),s.value=e.year.year});const d=C([{icon:"👥",title:"PALM 实验室简介",href:"https://palm.seu.edu.cn/home.html"},{icon:"👩‍🎓",title:"研究队伍及人才培养",href:"https://palm.seu.edu.cn/members.html"},{icon:"🎓",title:"科学研究及主要成果",href:"https://palm.seu.edu.cn/publication.html"},{icon:"📚️",title:"科研资源共享",href:"https://palm.seu.edu.cn/projects.html"}]);return(i,_)=>(r(),f("div",Ua,[l("a",Aa,[l("div",Ma,[l("div",Na,[x(O(s.value),1),_[0]||(_[0]=l("br",null,null,-1)),_[1]||(_[1]=x("Join Us"))]),_[2]||(_[2]=l("div",null,"请阅读PALM实验室招生说明",-1)),_[3]||(_[3]=l("div",{class:"mt-2 read"},"点击阅读",-1))])]),l("div",La,[_[4]||(_[4]=Oe('<a href="https://palm.seu.edu.cn" target="_blank" data-v-f7511f04><div class="horizontal-card" data-v-f7511f04><div class="flex justify-center" data-v-f7511f04><div data-v-f7511f04><div style="font-weight:600;" data-v-f7511f04> 东南大学 PALM 实验室 </div><p style="font-size:14px;color:#6b7280;margin-top:4px;" data-v-f7511f04> 计算机科学与工程学院 </p><div style="margin-top:8px;" data-v-f7511f04>了解详情</div></div></div></div></a>',1)),l("div",Ea,[(r(!0),f(j,null,M(d.value,(o,c)=>(r(),f("a",{key:c,href:o.href,target:"_blank"},[l("div",Ra,[l("span",null,O(o.icon),1),l("div",null,O(o.title),1)])],8,za))),128))])])]))}},qa=P(Ba,[["__scopeId","data-v-f7511f04"]]),Ya={class:"home-main my-0 md:my-8 pb-20 px-5"},Ha={__name:"FrontMain",setup(h){return(e,s)=>(r(),f(j,null,[l("div",Ya,[He(e.$slots,"default",{},void 0,!0)]),t(pa)],64))}},Me=P(Ha,[["__scopeId","data-v-8a3fb0bd"]]),Wa={__name:"Home",setup(h){return(e,s)=>(r(),F(Me,null,{default:n(()=>[t(Oa),t(qa)]),_:1}))}},Ka={__name:"index",setup(h){return(e,s)=>(r(),F(Wa))}},oi=Object.freeze(Object.defineProperty({__proto__:null,default:Ka},Symbol.toStringTag,{value:"Module"})),Ja={class:"recruitment-card"},Ga={class:"card-content"},Za={class:"icon"},Qa=["src","alt"],Xa={class:"text-content"},el={class:"info"},tl={key:1},al=z({__name:"JoinCard",props:{iconSrc:{},title:{},labelText:{},description:{},path:{}},setup(h){return(e,s)=>{const d=Z("RouterLink");return r(),F(d,{to:e.path},{default:n(()=>[l("div",Ja,[l("div",Ga,[l("div",Za,[l("img",{src:e.iconSrc,alt:e.title,class:"svg-icon"},null,8,Qa)]),l("div",Xa,[l("h3",null,O(e.title),1),l("div",el,[e.labelText?(r(),f(j,{key:0},[l("p",null,O(e.labelText)+":",1),l("p",null,O(e.description),1)],64)):(r(),f("p",tl,O(e.description),1))]),s[0]||(s[0]=l("div",{class:"arrow"},[l("p",{class:"apply-text"},"立即申请"),l("p",{class:"arrow-icon"},"→")],-1))])])])]),_:1},8,["to"])}}}),ll=P(al,[["__scopeId","data-v-5f078945"]]),ol={class:"join-container mt-24"},nl={class:"recruitment-grid"},sl=z({__name:"index",setup(h){const e=[{iconSrc:ct,title:"硕士推免招生",labelText:"招收对象",description:"获得推免资格的优秀本科应届生",path:"/apply/recommend-master"},{iconSrc:pt,title:"直博招生",labelText:"招收对象",description:"获得推免资格的优秀本科应届生",path:"/apply/direct-phd"},{iconSrc:mt,title:"考研招生",labelText:"招收方向",description:"全国硕士研究生统一招生考试招生",path:"/apply/exam-master"},{iconSrc:_t,title:"博士招生",labelText:"招收对象",description:"全年招收优秀博士研究生",path:"/apply/phd"}];return(s,d)=>(r(),f("div",ol,[l("div",nl,[(r(),f(j,null,M(e,i=>t(ll,Ot({key:i.title,ref_for:!0},i),null,16)),64))])]))}}),rl=P(sl,[["__scopeId","data-v-d03097f0"]]),ni=Object.freeze(Object.defineProperty({__proto__:null,default:rl},Symbol.toStringTag,{value:"Module"})),il={class:"dev-notice"},dl=z({__name:"DevNotice",setup(h){return(e,s)=>{const d=Ue;return r(),f("div",il,[t(d,{title:"开发阶段提示",type:"warning",description:"本网站目前处于开发阶段，可能存在一些问题。如遇到任何问题，请发送邮件至 palmapplication@163.com，我们会尽快处理。",closable:!1,"show-icon":""})])}}}),Re=P(dl,[["__scopeId","data-v-eae27149"]]),ul=()=>{const h=C(["name","phone","email","applicationType","university","major","majorCount","rank","year"]);return{requiredFields:h,isFieldRequired:d=>h.value.includes(d),validateForm:(d,i)=>{for(const _ of h.value){const o=d[_];if(o===void 0||o===""||Array.isArray(o)&&o.length===0){const c=i.find(m=>m.variableName===_);throw new Error(`${(c==null?void 0:c.name)||_}是必填项`)}}return!0}}},cl=h=>{const e=ye();return{calculatePercentage:()=>{const d=Number(h.value.rank),i=Number(h.value.majorCount);if(!isNaN(d)&&!isNaN(i)&&i!==0){const _=Math.floor(d/i*100);return e.updateField("percentage",`${_}%`),`${_}%`}return""}}},pl={class:"upload-container"},ml={key:0,class:"file-list"},_l=z({__name:"UploadFile",setup(h){const e=C([]),s=ye(),d=E(()=>s.formData.id),i=E(()=>Le.headers(d.value)),_=a=>["application/zip","application/x-zip-compressed"].includes(a.type)?a.size/1024/1024<20?a.name.split(".")[0].endsWith("-证明")?!0:(S.error('文件名格式不正确，请按照"学校-姓名-证明.zip"格式命名'),!1):(S.error("文件大小不能超过20MB！"),!1):(S.error("只能上传ZIP格式的文件！"),!1),o=a=>{S.success("文件上传成功"),p(),s.updateField("proofs",a.file_path)},c=()=>{S.error("文件上传失败，请重试")},m=async a=>{try{await vt(a.id),S.success("文件删除成功"),p()}catch{S.error("文件删除失败，请重试")}},p=async()=>{try{const{data:a}=await ft(d.value);e.value=a}catch(a){console.error("获取文件列表失败：",a.message)}};return(a,u)=>{const v=R,b=Ke,V=W,w=te;return r(),f("div",pl,[t(b,{class:"upload-area",action:g(Le).action,headers:i.value,"on-success":o,"on-error":c,"before-upload":_,multiple:""},{tip:n(()=>u[1]||(u[1]=[l("div",{class:"el-upload__tip"},[x(" 请上传ZIP格式的压缩文件，文件大小不超过20MB"),l("br"),x(" 请将简历命名为：你目前就读的学校-姓名-证明.zip"),l("br"),x(" 示例：东南大学-小明-证明.zip ")],-1)])),default:n(()=>[t(v,{type:"primary"},{default:n(()=>u[0]||(u[0]=[x("上传证明材料")])),_:1})]),_:1},8,["action","headers"]),e.value.length>0?(r(),f("div",ml,[u[3]||(u[3]=l("h3",null,"已上传文件：",-1)),t(w,{data:e.value,style:{width:"100%"}},{default:n(()=>[t(V,{prop:"name",label:"文件名"}),t(V,{prop:"file_type",label:"类型",width:"100"}),t(V,{prop:"upload_time",label:"上传时间",width:"180"}),t(V,{fixed:"right",label:"操作",width:"100"},{default:n(y=>[t(v,{type:"danger",size:"small",onClick:U=>m(y.row)},{default:n(()=>u[2]||(u[2]=[x(" 删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])):B("",!0)])}}}),fl=P(_l,[["__scopeId","data-v-d32e6371"]]),vl={class:"upload-container"},bl=z({__name:"UploadResume",setup(h){const e=ye(),s=E(()=>e.formData.id),d=E(()=>Ee.headers(s.value)),i=c=>c.type==="application/pdf"?c.size/1024/1024<10?c.name.split(".")[0].endsWith("-简历")?!0:(S.error('文件名格式不正确，请按照"学校-姓名-简历.pdf"格式命名'),!1):(S.error("文件大小不能超过10MB！"),!1):(S.error("只能上传PDF格式的文件！"),!1),_=c=>{S.success("简历上传成功"),e.updateField("resume",c.file_path)},o=()=>{S.error("简历上传失败，请重试")};return(c,m)=>{const p=R,a=Ke;return r(),f("div",vl,[t(a,{class:"upload-area",action:g(Ee).action,headers:d.value,"on-success":_,"on-error":o,"before-upload":i,limit:1,"auto-upload":!0},{tip:n(()=>m[1]||(m[1]=[l("div",{class:"el-upload__tip"},[x(" 请上传PDF格式的简历文件，文件大小不超过10MB"),l("br"),x(" 请将简历命名为：你目前就读的学校-姓名-简历.pdf"),l("br"),x(" 示例：东南大学-小明-简历.pdf ")],-1)])),default:n(()=>[t(p,{type:"primary"},{default:n(()=>m[0]||(m[0]=[x("上传简历")])),_:1})]),_:1},8,["action","headers"])])}}}),yl=P(bl,[["__scopeId","data-v-846c7ad8"]]),Se=[{value:"A",label:"A"},{value:"B",label:"B"},{value:"C",label:"C"},{value:"中科院一区",label:"中科院一区"},{value:"中科院二区",label:"中科院二区"},{value:"其他",label:"其他"}],Ce=[{value:"国家级",label:"国家级"},{value:"省级",label:"省级"},{value:"校级",label:"校级"},{value:"其他",label:"其他"}],Ie=[{value:"特等奖",label:"特等奖"},{value:"一等奖",label:"一等奖/金奖"},{value:"二等奖",label:"二等奖/银奖"},{value:"三等奖",label:"三等奖/铜奖"}],hl=[{value:"男",label:"男"},{value:"女",label:"女"}],Ne=h=>{const e=["个人信息","学历信息","申请志愿","论文情况","奖项","其他"],s=["name","gender","birthDate","phone","email","university","major","majorCount","rank","percentage","isTopClass","applicationType","firstChoice","secondChoice","thirdChoice","isAdjustable","year"],d=c=>{const m=s.findIndex(p=>c===p);return m===-1?s.length:m},i=["awardName","awardTime","levelRanking","awardRanking"],_=c=>{for(let m=0;m<i.length;m++)if(c.includes(i[m]))return m;return i.length};return{sortedFields:E(()=>[...h].sort((c,m)=>{var b,V,w,y;const p=e.indexOf(c.regionInForm),a=e.indexOf(m.regionInForm);if(p!==a)return p-a;if(c.regionInForm==="论文情况"){const U=parseInt(((b=c.variableName.match(/paper(\d+)/))==null?void 0:b[1])||"0"),k=parseInt(((V=m.variableName.match(/paper(\d+)/))==null?void 0:V[1])||"0");if(U!==k)return U-k}if(c.regionInForm==="奖项"){const U=parseInt(((w=c.variableName.match(/award(\d+)/))==null?void 0:w[1])||"0"),k=parseInt(((y=m.variableName.match(/award(\d+)/))==null?void 0:y[1])||"0");if(U!==k)return U-k;const D=_(c.variableName),I=_(m.variableName);if(D!==I)return D-I}const u=d(c.variableName),v=d(m.variableName);return u!==v?u-v:c.name.localeCompare(m.name,"zh-CN")}))}},gl={class:"autocomplete-container"},wl=["placeholder"],xl={class:"suggestions-container"},$l=["onMousedown"],kl=z({__name:"AutoCompleteInput",props:{modelValue:{},options:{},placeholder:{}},emits:["update:modelValue"],setup(h,{emit:e}){const s=h,d=e,i=C(s.modelValue),_=C(!1);K(()=>s.modelValue,a=>{i.value=a});const o=E(()=>{if(!i.value)return s.options;const a=i.value.toLowerCase();return s.options.filter(u=>u.label.toLowerCase().includes(a)||u.value.toLowerCase().includes(a))}),c=()=>{d("update:modelValue",i.value),_.value=!0},m=a=>{i.value=a.value,d("update:modelValue",a.value),_.value=!1},p=()=>{setTimeout(()=>{_.value=!1},200)};return(a,u)=>(r(),f("div",gl,[le(l("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=v=>i.value=v),placeholder:a.placeholder,class:"form-input",onInput:c,onFocus:u[1]||(u[1]=v=>_.value=!0),onBlur:p},null,40,wl),[[De,i.value]]),le(l("div",xl,[(r(!0),f(j,null,M(o.value,v=>(r(),f("div",{key:v.value,class:"suggestion-item",onMousedown:b=>m(v)},O(v.label),41,$l))),128))],512),[[Ut,_.value&&o.value.length>0]])]))}}),Vl=P(kl,[["__scopeId","data-v-b8864236"]]),Sl=()=>{const h=je(),e=ye(),s=X();return{getApplicationType:E(()=>{const i=h.path;let _="";switch(i){case"/apply/recommend-master":_="推免硕士";break;case"/apply/exam-master":_="考研硕士";break;case"/apply/phd":_="博士";break;case"/apply/direct-phd":_="直博";break;default:_=""}return e.updateField("applicationType",_),e.updateField("year",s.year.year),_})}},Cl={class:"form-item"},Il=["for"],Fl={key:0,class:"required-asterisk"},Pl={class:"field-description"},Dl=["type","id","value","name","required"],Tl=["id","value","name"],jl=["id","value","name"],Ol=["id","value","name"],Ul=["id","value","name","required"],Al=["id","value","name","required"],Ml=["value"],Nl=["type","id","value","name","required"],Ll=z({__name:"FormField",props:{field:{},modelValue:{},required:{type:Boolean,default:!1},options:{default:()=>[]},contributionData:{default:()=>({rank:"",total:""})}},emits:["update:modelValue","input","contribution-change"],setup(h,{emit:e}){const s=h,d=e,i=E({get:()=>s.modelValue,set:a=>d("update:modelValue",a)}),_=E(()=>(s.field.type==="text"||s.field.type==="number"||s.field.type==="email")&&s.field.variableName!=="percentage"&&s.field.variableName!=="year"),o=E(()=>s.field.type==="select"&&["本科学校","硕士学校"].includes(s.field.name)),c=a=>{const u=a instanceof Event?a.target.value:a;d("update:modelValue",u),a instanceof Event&&d("input",a)},{getApplicationType:m}=Sl(),p=X();return(a,u)=>(r(),f("div",Cl,[l("label",{for:a.field.variableName},[x(O(a.field.name)+" ",1),a.required?(r(),f("span",Fl,"*")):B("",!0)],8,Il),l("div",Pl,O(a.field.description),1),_.value?(r(),f("input",{key:0,type:a.field.type,id:a.field.variableName,value:i.value,name:a.field.variableName,class:"form-input",required:a.required,onInput:c},null,40,Dl)):a.field.variableName==="year"?(r(),f("input",{key:1,type:"number",id:a.field.variableName,value:g(p).year.year,name:a.field.variableName,class:"form-input",disabled:""},null,8,Tl)):a.field.variableName==="percentage"?(r(),f("input",{key:2,type:"text",id:a.field.variableName,value:i.value,name:a.field.variableName,class:"form-input",disabled:""},null,8,jl)):a.field.variableName==="applicationType"?(r(),f("input",{key:3,type:"text",id:a.field.variableName,value:g(m),name:a.field.variableName,class:"form-input",disabled:""},null,8,Ol)):a.field.type==="textarea"?(r(),f("textarea",{key:4,id:a.field.variableName,value:i.value,name:a.field.variableName,class:"form-textarea",required:a.required,onInput:c},null,40,Ul)):o.value?(r(),F(Vl,{key:5,"model-value":i.value,options:a.options,placeholder:"请输入"+a.field.name,"onUpdate:modelValue":c},null,8,["model-value","options","placeholder"])):a.field.type==="select"?(r(),f("select",{key:6,id:a.field.variableName,value:i.value,name:a.field.variableName,class:"form-select",required:a.required,onInput:c},[u[0]||(u[0]=l("option",{value:""},"请选择",-1)),(r(!0),f(j,null,M(a.options,v=>(r(),f("option",{key:v.value,value:v.value},O(v.label),9,Ml))),128))],40,Al)):a.field.type==="boolean"?(r(),F(g(ae),{key:7,id:a.field.variableName,"model-value":i.value,name:a.field.variableName,class:"form-switch",required:a.required,"onUpdate:modelValue":c},null,8,["id","model-value","name","required"])):(r(),f("input",{key:8,type:a.field.type,id:a.field.variableName,value:i.value,name:a.field.variableName,class:"form-input",required:a.required,onInput:c},null,40,Nl))]))}}),Fe=P(Ll,[["__scopeId","data-v-787b3360"]]),El={class:"new-apply-container"},zl={key:0,class:"form-region"},Rl={class:"region-title"},Bl={key:0,class:"sub-sections-wrapper"},ql={class:"sub-section-header"},Yl={class:"sub-section-title"},Hl={class:"button-group"},Wl={class:"form-item-container"},Kl={key:1,class:"sub-sections-wrapper"},Jl={class:"sub-section-header"},Gl={class:"sub-section-title"},Zl={class:"button-group"},Ql={class:"form-item-container"},Xl={key:2,class:"form-item-container"},eo=z({__name:"index",setup(h){const e=ge(),s=X(),d=E(()=>({"论文一 CCF等级":Se,"论文二 CCF等级":Se,"论文三 CCF等级":Se,"奖项一 等级":Ce,"奖项二 等级":Ce,"奖项三 等级":Ce,"奖项一 获奖情况":Ie,"奖项二 获奖情况":Ie,"奖项三 获奖情况":Ie,性别:hl,本科学校:s.universities.map($=>({value:$.name,label:$.name})),硕士学校:s.universities.map($=>({value:$.name,label:$.name})),本科专业:s.majors.map($=>({value:$.name,label:$.name})),硕士专业:s.majors.map($=>({value:$.name,label:$.name})),第一志愿:s.personnel.map($=>({value:$.name,label:`${$.name} (${$.research_direction})`})),第二志愿:s.personnel.map($=>({value:$.name,label:`${$.name} (${$.research_direction})`})),第三志愿:s.personnel.map($=>({value:$.name,label:`${$.name} (${$.research_direction})`}))})),i=$=>d.value[$]||[],_=je(),o=We(),c=E(()=>{const $=_.path,T=e.fields.filter(L=>{switch($){case"/apply/recommend-master":return L.showInRecommendMaster;case"/apply/exam-master":return L.showInExamMaster;case"/apply/phd":return L.showInPhd;case"/apply/direct-phd":return L.showInDirectPhd;default:return!1}});return Ne(T).sortedFields.value}),m=$=>c.value.filter(T=>T.regionInForm===$),{isFieldRequired:p,validateForm:a}=ul(),u=async()=>{try{a(b.value,c.value),await v.submitForm(),S.success("申请提交成功"),o.push("/wait")}catch($){S.error($.message||v.submitError||"提交失败")}},v=ye(),b=E(()=>v.formData),{calculatePercentage:V}=cl(b);K(()=>[b.value.rank,b.value.majorCount],()=>{V()},{immediate:!0});const w=()=>{const $={id:Kt()};c.value.forEach(T=>{T.variableName==="isAdjustable"?$[T.variableName]=!0:$[T.variableName]=T.type==="boolean"?!1:""}),v.setFormData($)};H(async()=>{await Promise.all([e.fetchFields(),s.fetchUniversities(),s.fetchMajors(),s.fetchPersonnel()]),w()});const y=$=>c.value.filter(T=>T.regionInForm==="论文情况"&&T.variableName.startsWith(`paper${$}`)),U=$=>c.value.filter(T=>T.regionInForm==="奖项"&&T.variableName.startsWith(`award${$}`)),k=C(1),D=C(1),I=$=>{const T=c.value.filter(L=>L.regionInForm==="论文情况");for(let L=$;L<k.value;L++)T.forEach(J=>{const G=`paper${L}`,re=`paper${L+1}`;if(J.variableName.startsWith(G)){const ee=J.variableName.replace(G,re);b.value[J.variableName]=b.value[ee]}});T.forEach(L=>{L.variableName.startsWith(`paper${k.value}`)&&(b.value[L.variableName]="")}),k.value--},A=$=>{const T=c.value.filter(L=>L.regionInForm==="奖项");for(let L=$;L<D.value;L++)T.forEach(J=>{const G=`award${L}`,re=`award${L+1}`;if(J.variableName.startsWith(G)){const ee=J.variableName.replace(G,re);b.value[J.variableName]=b.value[ee]}});T.forEach(L=>{L.variableName.startsWith(`award${D.value}`)&&(b.value[L.variableName]="")}),D.value--};return($,T)=>{const L=Z("Delete"),J=Je,G=R,re=Z("Plus");return r(),f("div",El,[t(Re),l("form",{onSubmit:ve(u,["prevent"]),class:"apply-form"},[(r(),f(j,null,M(["个人信息","学历信息","申请志愿","论文情况","奖项","其他"],ee=>(r(),f(j,{key:ee},[m(ee).length>0?(r(),f("div",zl,[l("h2",Rl,O(ee),1),ee==="论文情况"?(r(),f("div",Bl,[(r(!0),f(j,null,M(k.value,Y=>(r(),f("div",{key:`paper${Y}`,class:"sub-section"},[l("div",ql,[l("h3",Yl,"论文 "+O(Y),1),l("div",Hl,[k.value>1?(r(),F(G,{key:0,type:"danger",link:"",onClick:q=>I(Y)},{default:n(()=>[t(J,null,{default:n(()=>[t(L)]),_:1}),T[2]||(T[2]=x("删除 "))]),_:2},1032,["onClick"])):B("",!0),Y===k.value&&k.value<3?(r(),F(G,{key:1,type:"primary",link:"",onClick:T[0]||(T[0]=q=>k.value++)},{default:n(()=>[t(J,null,{default:n(()=>[t(re)]),_:1}),T[3]||(T[3]=x("添加论文 "))]),_:1})):B("",!0)])]),l("div",Wl,[(r(!0),f(j,null,M(y(Y),q=>(r(),F(Fe,{key:q.id,field:q,modelValue:b.value[q.variableName],"onUpdate:modelValue":_e=>b.value[q.variableName]=_e,required:g(p)(q.variableName),options:i(q.name)},null,8,["field","modelValue","onUpdate:modelValue","required","options"]))),128))])]))),128))])):ee==="奖项"?(r(),f("div",Kl,[(r(!0),f(j,null,M(D.value,Y=>(r(),f("div",{key:`award${Y}`,class:"sub-section"},[l("div",Jl,[l("h3",Gl,"奖项 "+O(Y),1),l("div",Zl,[D.value>1?(r(),F(G,{key:0,type:"danger",link:"",onClick:q=>A(Y)},{default:n(()=>[t(J,null,{default:n(()=>[t(L)]),_:1}),T[4]||(T[4]=x("删除 "))]),_:2},1032,["onClick"])):B("",!0),Y===D.value&&D.value<3?(r(),F(G,{key:1,type:"primary",link:"",onClick:T[1]||(T[1]=q=>D.value++)},{default:n(()=>[t(J,null,{default:n(()=>[t(re)]),_:1}),T[5]||(T[5]=x("添加奖项 "))]),_:1})):B("",!0)])]),l("div",Ql,[(r(!0),f(j,null,M(U(Y),q=>(r(),F(Fe,{key:q.id,field:q,modelValue:b.value[q.variableName],"onUpdate:modelValue":_e=>b.value[q.variableName]=_e,required:g(p)(q.variableName),options:i(q.name)},null,8,["field","modelValue","onUpdate:modelValue","required","options"]))),128))])]))),128))])):(r(),f("div",Xl,[(r(!0),f(j,null,M(m(ee),Y=>(r(),F(Fe,{key:Y.id,field:Y,modelValue:b.value[Y.variableName],"onUpdate:modelValue":q=>b.value[Y.variableName]=q,required:g(p)(Y.variableName),options:i(Y.name)},null,8,["field","modelValue","onUpdate:modelValue","required","options"]))),128))]))])):B("",!0)],64))),64)),t(yl),t(fl,{"applicant-id":b.value.id},null,8,["applicant-id"]),T[6]||(T[6]=l("button",{type:"submit",class:"submit-button"},"提交申请",-1))],32),t(Re)])}}}),to=P(eo,[["__scopeId","data-v-885f7b01"]]),si=Object.freeze(Object.defineProperty({__proto__:null,default:to},Symbol.toStringTag,{value:"Module"})),ao={};function lo(h,e){return null}const oo=P(ao,[["render",lo]]),ri=Object.freeze(Object.defineProperty({__proto__:null,default:oo},Symbol.toStringTag,{value:"Module"})),no={};function so(h,e){return null}const ro=P(no,[["render",so]]),ii=Object.freeze(Object.defineProperty({__proto__:null,default:ro},Symbol.toStringTag,{value:"Module"})),io={};function uo(h,e){return null}const co=P(io,[["render",uo]]),di=Object.freeze(Object.defineProperty({__proto__:null,default:co},Symbol.toStringTag,{value:"Module"})),po={};function mo(h,e){return null}const _o=P(po,[["render",mo]]),ui=Object.freeze(Object.defineProperty({__proto__:null,default:_o},Symbol.toStringTag,{value:"Module"})),fo={},vo={class:"wait"},bo={class:"wait-content"},yo={class:"action-form"};function ho(h,e){const s=R,d=Z("RouterLink");return r(),f("div",vo,[l("div",bo,[e[1]||(e[1]=Oe('<div class="success-icon" data-v-772d9ed6><svg class="h-24 w-24 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-772d9ed6><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-v-772d9ed6></path></svg></div><h1 class="wait-title" data-v-772d9ed6>申请提交成功！</h1><p class="wait-description" data-v-772d9ed6> 您的申请已成功提交，我们将尽快进行审核。<br data-v-772d9ed6> 审核结果将通过邮件通知您，请注意查收。 </p>',3)),l("div",yo,[t(d,{to:"/"},{default:n(()=>[t(s,{type:"primary",size:"large"},{default:n(()=>e[0]||(e[0]=[x("返回首页")])),_:1})]),_:1})])])])}const go=P(fo,[["render",ho],["__scopeId","data-v-772d9ed6"]]),ci=Object.freeze(Object.defineProperty({__proto__:null,default:go},Symbol.toStringTag,{value:"Module"})),wo={setup(){const h=C(""),e=C(""),s=C(!1),d=qe(),i=We();return{username:h,password:e,rememberMe:s,handleLogin:async()=>{await d.login(h.value,e.value,s.value)?(S.success("登录成功"),await i.push("/admin")):S.error("登录失败，请检查用户名和密码")}}}},xo={class:"login-container"},$o={class:"form-side md:w-1/2"},ko={class:"form-group"},Vo={class:"form-group"},So={class:"password-input"},Co={class:"form-row"},Io={class:"remember-me"};function Fo(h,e,s,d,i,_){return r(),f("div",xo,[e[12]||(e[12]=l("div",{class:"illustration-side hidden md:flex"},[l("img",{src:bt,alt:"Palm Logo"})],-1)),l("div",$o,[e[9]||(e[9]=l("div",{class:"logo"},[l("img",{src:Be,alt:"Palm Logo"})],-1)),e[10]||(e[10]=l("h1",null,"Welcome back!",-1)),e[11]||(e[11]=l("p",null,"Please enter your details",-1)),l("form",{class:"login-form",onSubmit:e[3]||(e[3]=ve((...o)=>d.handleLogin&&d.handleLogin(...o),["prevent"]))},[l("div",ko,[e[4]||(e[4]=l("label",{for:"username"},"User Name",-1)),le(l("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=o=>d.username=o),required:""},null,512),[[De,d.username]])]),l("div",Vo,[e[6]||(e[6]=l("label",{for:"password"},"Password",-1)),l("div",So,[le(l("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=o=>d.password=o),required:""},null,512),[[De,d.password]]),e[5]||(e[5]=l("button",{type:"button",class:"eye-icon"},null,-1))])]),l("div",Co,[l("label",Io,[le(l("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=o=>d.rememberMe=o)},null,512),[[At,d.rememberMe]]),e[7]||(e[7]=l("span",null,"Remember for 7 days",-1))])]),e[8]||(e[8]=l("button",{type:"submit",class:"login-button"},"Log In",-1))],32)]),e[13]||(e[13]=l("div",{class:"invisible md:hidden"},[l("div",{class:"w-screen"})],-1))])}const Po=P(wo,[["render",Fo],["__scopeId","data-v-e7d41df7"]]),Do={class:"login-main p-5 md:p-0"},To={__name:"index",setup(h){return(e,s)=>(r(),f("div",Do,[t(Po)]))}},jo=P(To,[["__scopeId","data-v-70642aaf"]]),pi=Object.freeze(Object.defineProperty({__proto__:null,default:jo},Symbol.toStringTag,{value:"Module"})),Oo={class:"button-container"},Uo=["data-feather"],Ao={key:0,class:"menu"},Mo=["onClick"],No={class:"category-name"},Lo={class:"icon"},Eo={class:"label"},zo={key:1,class:"divider"},Ro=z({__name:"SideBar",props:{isCollapsed:Boolean},emits:["toggle"],setup(h,{emit:e}){const s=e,d=C(Ve.value.map(()=>!1)),i=()=>{s("toggle"),Jt.replace()},_=o=>{d.value=d.value.map((c,m)=>m===o?!c:c)};return(o,c)=>{const m=Z("RouterLink");return r(),f("aside",{class:be(["sidebar",{collapsed:h.isCollapsed}])},[l("div",Oo,[l("button",{onClick:i,class:"toggle-button"},[l("i",{"data-feather":h.isCollapsed?"chevrons-right":"chevrons-left"},null,8,Uo)])]),h.isCollapsed?B("",!0):(r(),f("ul",Ao,[(r(!0),f(j,null,M(g(Ve),(p,a)=>(r(),f(j,{key:a},[l("li",{class:"category-header",onClick:u=>_(a)},[l("span",No,O(p.category),1)],8,Mo),d.value[a]?B("",!0):(r(),f("ul",{key:0,class:be(["sub-menu",{expanded:!d.value[a]}])},[(r(!0),f(j,null,M(p.items,u=>(r(),f("li",{key:u.name,class:"menu-item"},[t(m,{to:u.path,class:"menu-link","active-class":"active"},{default:n(()=>[l("span",Lo,O(u.icon),1),l("span",Eo,O(u.label),1)]),_:2},1032,["to"])]))),128))],2)),a!==g(Ve).length-1?(r(),f("li",zo)):B("",!0)],64))),128))]))],2)}}}),Bo=P(Ro,[["__scopeId","data-v-1449b1ca"]]),qo={class:"content-container"},Yo={__name:"Content",setup(h){const e=C(null);let s=!1,d,i;const _=m=>{s=!0,d=m.pageY-e.value.offsetTop,i=e.value.scrollTop},o=()=>{s=!1},c=m=>{if(!s)return;m.preventDefault();const a=(m.pageY-e.value.offsetTop-d)*1.5;e.value.scrollTop=i-a};return window.addEventListener("mouseup",o),window.addEventListener("mouseleave",o),(m,p)=>{const a=Z("RouterView");return r(),f("div",{class:"content",ref_key:"contentRef",ref:e,onMousedown:_,onMousemove:c},[l("div",qo,[t(a)])],544)}}},Ho=P(Yo,[["__scopeId","data-v-2191f445"]]),Wo={class:"admin-layout"},Ko={__name:"View",setup(h){const e=C(!1),s=()=>{e.value=!e.value};return(d,i)=>(r(),f("div",Wo,[l("div",{class:be(["sidebar-container",{collapsed:e.value}])},[t(Bo,{isCollapsed:e.value,onToggle:s},null,8,["isCollapsed"])],2),l("main",{class:be(["main-container",{expanded:e.value}])},[t(Ho)],2)]))}},Jo=P(Ko,[["__scopeId","data-v-3acb8aa5"]]),Go={__name:"index",setup(h){return(e,s)=>(r(),F(Jo))}},mi=Object.freeze(Object.defineProperty({__proto__:null,default:Go},Symbol.toStringTag,{value:"Module"})),Zo={class:"dev-notice"},Qo={class:"database-management"},Xo={class:"operation-bar"},en={key:1},tn={class:"dialog-footer"},an=z({__name:"index",setup(h){const e=C("apply"),s=C([]),d=C([]),i=C(!1),_=C([]),o=C(!1),c=C("add"),m=C({}),p=C(),a=E(()=>[...s.value]),u=async()=>{await v()},v=async()=>{i.value=!0;try{let U;e.value==="apply"?U=await yt():U=await ht(),s.value=U.data.records,d.value=U.data.fields,_.value=U.data.fields.map(k=>k.name)}catch{S.error("获取数据失败")}finally{i.value=!1}},b=()=>{c.value="add",m.value={},o.value=!0},V=U=>{c.value="edit",m.value={...U},o.value=!0},w=async()=>{try{c.value==="add"?(e.value==="apply"?await gt(m.value):await wt(m.value),S.success("创建成功")):(e.value==="apply"?await xt(m.value.id,m.value):await $t(m.value.id,m.value),S.success("更新成功")),o.value=!1,v()}catch{S.error("操作失败")}},y=async U=>{try{await Bt.confirm("确定要删除这条记录吗？","警告",{type:"warning"}),e.value==="apply"?await kt(U.id):await Vt(U.id),S.success("删除成功"),v()}catch(k){k!=="cancel"&&S.error("删除失败")}};return H(()=>{v()}),(U,k)=>{const D=Ue,I=ne,A=oe,$=R,T=Qe,L=Ge,J=zt,G=W,re=Ze,ee=Rt,Y=te,q=se,_e=ie,nt=xe,st=we,rt=he;return r(),f(j,null,[l("div",Zo,[t(D,{title:"开发阶段提示",type:"warning",description:"请勿对当前数据库中的数据进行修改，否则可能导致数据不一致。",closable:!1,"show-icon":"",center:""})]),l("div",Qo,[l("div",Xo,[t(A,{modelValue:e.value,"onUpdate:modelValue":k[0]||(k[0]=N=>e.value=N),class:"database-select",onChange:u},{default:n(()=>[t(I,{label:"Apply数据库",value:"apply"}),t(I,{label:"Files数据库",value:"files"})]),_:1},8,["modelValue"]),t($,{type:"primary",onClick:b},{default:n(()=>k[4]||(k[4]=[x("新增申请")])),_:1}),t(J,{placement:"bottom",width:300,trigger:"click"},{reference:n(()=>[t($,null,{default:n(()=>k[5]||(k[5]=[x("列显示设置")])),_:1})]),default:n(()=>[t(L,{modelValue:_.value,"onUpdate:modelValue":k[1]||(k[1]=N=>_.value=N)},{default:n(()=>[(r(!0),f(j,null,M(d.value,N=>(r(),F(T,{key:N.name,label:N.name},{default:n(()=>[x(O(N.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),le((r(),F(Y,{data:a.value,style:{width:"100%"},border:""},{default:n(()=>[t(G,{type:"index",label:"#",width:"70",align:"center",fixed:"left"}),(r(!0),f(j,null,M(d.value,N=>(r(),f(j,{key:N.name},[_.value.includes(N.name)?(r(),F(G,{key:0,prop:N.name,label:N.name,sortable:"","show-overflow-tooltip":"","min-width":200,width:N.name==="id"?100:null,fixed:N.name==="name"?"left":null},{default:n(ue=>[N.name==="download_url"&&e.value==="files"?(r(),F(re,{key:0,type:"primary",href:g(Pe)(ue.row[N.name]),target:"_blank"},{default:n(()=>[x(O(ue.row[N.name]||"下载文件"),1)]),_:2},1032,["href"])):(r(),f("span",en,O(ue.row[N.name]),1))]),_:2},1032,["prop","label","width","fixed"])):B("",!0)],64))),128)),t(G,{label:"操作",width:"180",fixed:"right"},{default:n(N=>[t(ee,null,{default:n(()=>[t($,{size:"small",onClick:ue=>V(N.row)},{default:n(()=>k[6]||(k[6]=[x("编辑")])),_:2},1032,["onClick"]),t($,{size:"small",type:"danger",onClick:ue=>y(N.row)},{default:n(()=>k[7]||(k[7]=[x("删除")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[rt,i.value]]),t(st,{modelValue:o.value,"onUpdate:modelValue":k[3]||(k[3]=N=>o.value=N),title:c.value==="add"?"新增申请":"编辑申请",width:"50%"},{footer:n(()=>[l("span",tn,[t($,{onClick:k[2]||(k[2]=N=>o.value=!1)},{default:n(()=>k[8]||(k[8]=[x("取消")])),_:1}),t($,{type:"primary",onClick:w},{default:n(()=>k[9]||(k[9]=[x("确定")])),_:1})])]),default:n(()=>[t(nt,{ref_key:"formRef",ref:p,model:m.value,"label-width":"120px"},{default:n(()=>[(r(!0),f(j,null,M(d.value,N=>(r(),f(j,{key:N.name},[N.name!=="id"?(r(),F(_e,{key:0,label:N.name,prop:N.name},{default:n(()=>[t(q,{modelValue:m.value[N.name],"onUpdate:modelValue":ue=>m.value[N.name]=ue,placeholder:`请输入${N.name}`,disabled:N.name==="id"},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled"])]),_:2},1032,["label","prop"])):B("",!0)],64))),128))]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])],64)}}}),ln=P(an,[["__scopeId","data-v-2e516480"]]),_i=Object.freeze(Object.defineProperty({__proto__:null,default:ln},Symbol.toStringTag,{value:"Module"})),on={name:"SchoolLevelDashboard",data(){return{Apercentage:60,Bpercentage:30,Cpercentage:10}},mounted(){this.initChart()},methods:{initChart(){const h=document.getElementById("school-level-chart"),e=de(h),s={tooltip:{trigger:"item"},series:[{name:"院校等级",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!0,position:"outside",formatter:"{b}: {c}%"},emphasis:{label:{show:!1}},labelLine:{show:!0},data:[{value:this.Apercentage,name:"A级"},{value:this.Bpercentage,name:"B级"},{value:this.Cpercentage,name:"C级"}]}]};e.setOption(s)}}};function nn(h,e,s,d,i,_){const o=Q;return r(),F(o,{class:"dashboard-card","body-style":{padding:"20px"}},{default:n(()=>e[0]||(e[0]=[l("div",{class:"dashboard-title"},"院校等级统计",-1),l("div",{id:"school-level-chart",style:{width:"100%",height:"300px"}},null,-1)])),_:1})}const sn=P(on,[["render",nn],["__scopeId","data-v-3d1a74a4"]]),rn={name:"MajorDistributionDashboard",data(){return{barChartData:[{name:"计算机",value:50},{name:"电子工程",value:30},{name:"机械工程",value:20}]}},mounted(){this.initChart()},methods:{initChart(){const h=this.$refs.chart,e=de(h),s={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:this.barChartData.map(d=>d.name)},yAxis:{type:"value"},series:[{name:"专业分布",type:"bar",data:this.barChartData.map(d=>d.value)}]};e.setOption(s)}}},dn={ref:"chart",style:{width:"100%",height:"300px"}};function un(h,e,s,d,i,_){const o=Q;return r(),F(o,{class:"dashboard-card","body-style":{padding:"20px"}},{default:n(()=>[e[0]||(e[0]=l("div",{class:"dashboard-title"},"专业分布",-1)),l("div",dn,null,512)]),_:1})}const cn=P(rn,[["render",un],["__scopeId","data-v-2823a088"]]),pn={name:"SchoolDistributionDashboard",data(){return{barChartData:[{name:"清华大学",value:50},{name:"北京大学",value:30},{name:"复旦大学",value:20}]}},mounted(){this.initChart()},methods:{initChart(){const h=this.$refs.chart,e=de(h),s={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:this.barChartData.map(d=>d.name)},yAxis:{type:"value"},series:[{name:"专业分布",type:"bar",data:this.barChartData.map(d=>d.value)}]};e.setOption(s)}}},mn={ref:"chart",style:{width:"100%",height:"300px"}};function _n(h,e,s,d,i,_){const o=Q;return r(),F(o,{class:"dashboard-card","body-style":{padding:"20px"}},{default:n(()=>[e[0]||(e[0]=l("div",{class:"dashboard-title"},"院校分布",-1)),l("div",mn,null,512)]),_:1})}const fn=P(pn,[["render",_n],["__scopeId","data-v-49e057b3"]]),vn={name:"EnrollmentTypeDashboard",data(){return{masterPercentage:50,doctorPercentage:30,directDoctorPercentage:20}},mounted(){this.initChart()},methods:{initChart(){const h=document.getElementById("enrollment-type-chart"),e=de(h),s={tooltip:{trigger:"item"},series:[{name:"报名类型",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!0,position:"outside",formatter:"{b}: {c}%"},emphasis:{label:{show:!1}},labelLine:{show:!0},data:[{value:this.masterPercentage,name:"硕士"},{value:this.doctorPercentage,name:"博士"},{value:this.directDoctorPercentage,name:"直博"}]}]};e.setOption(s)}}};function bn(h,e,s,d,i,_){const o=Q;return r(),F(o,{class:"dashboard-card","body-style":{padding:"20px"}},{default:n(()=>e[0]||(e[0]=[l("div",{class:"dashboard-title"},"报名类型统计",-1),l("div",{id:"enrollment-type-chart",style:{width:"100%",height:"300px"}},null,-1)])),_:1})}const yn=P(vn,[["render",bn],["__scopeId","data-v-8e9e3aa5"]]),hn={name:"DashboardLayout",components:{SchoolLevelDashboard:sn,MajorDistributionDashboard:cn,SchoolDistributionDashboard:fn,EnrollmentTypeDashboard:yn}};function gn(h,e,s,d,i,_){const o=Z("SchoolLevelDashboard"),c=Xe,m=Z("EnrollmentTypeDashboard"),p=Z("MajorDistributionDashboard"),a=Z("SchoolDistributionDashboard"),u=Ae;return r(),F(u,{class:"dashboard-layout",gutter:"{20}"},{default:n(()=>[t(c,{span:12},{default:n(()=>[t(o)]),_:1}),t(c,{span:12},{default:n(()=>[t(m)]),_:1}),t(c,{span:12},{default:n(()=>[t(p)]),_:1}),t(c,{span:12},{default:n(()=>[t(a)]),_:1})]),_:1})}const wn=P(hn,[["render",gn]]),xn={__name:"index",setup(h){return(e,s)=>(r(),F(wn))}},fi=Object.freeze(Object.defineProperty({__proto__:null,default:xn},Symbol.toStringTag,{value:"Module"})),$n={props:{fields:Array,visibleFields:Array},emits:["update-visible-fields"],setup(h,{emit:e}){const s=C([...h.visibleFields]);return K(()=>h.visibleFields,i=>{s.value=[...i]}),{checkedFields:s,updateFields:()=>{e("update-visible-fields",s.value)}}}},kn={class:"floating-container"},Vn={class:"checkbox-row"};function Sn(h,e,s,d,i,_){const o=Qe,c=Ge,m=qt,p=Yt;return r(),F(p,null,{default:n(()=>[t(m,{title:"选择字段",name:"1"},{default:n(()=>[l("div",kn,[t(c,{modelValue:d.checkedFields,"onUpdate:modelValue":e[0]||(e[0]=a=>d.checkedFields=a),onChange:d.updateFields},{default:n(()=>[l("div",Vn,[(r(!0),f(j,null,M(s.fields,a=>(r(),F(o,{key:a,label:a,class:"horizontal-checkbox"},{default:n(()=>[x(O(a),1)]),_:2},1032,["label"]))),128))])]),_:1},8,["modelValue","onChange"])])]),_:1})]),_:1})}const Cn=P($n,[["render",Sn],["__scopeId","data-v-6edd146e"]]),In={props:{tableData:{type:Array,required:!0},visibleFields:{type:Array,required:!0},fieldProps:{type:Object,required:!0},store:{type:Object,required:!0}},methods:{exportTable(){const h=this.visibleFields.map(a=>a),e=this.tableData.map(a=>this.visibleFields.reduce((u,v)=>(u[v]=a[this.fieldProps[v]]!==void 0&&a[this.fieldProps[v]]!==null?a[this.fieldProps[v]]:"无",u),{})),s=this.store.paperFields.map((a,u)=>`论文${u+1}`),d=this.tableData.map(a=>this.store.paperFields.reduce((u,v,b)=>(u[`论文${b+1}`]=a.papers&&a.papers[b]?a.papers[b].ccfLevel:"无",u),{})),i=this.store.awardFields.map((a,u)=>`奖项${u+1}`),_=this.tableData.map(a=>this.store.awardFields.reduce((u,v,b)=>(u[`奖项${b+1}`]=a.awards&&a.awards[b]?a.awards[b].levelRanking:"无",u),{})),o=[...h,...s,...i],c=this.tableData.map((a,u)=>({...e[u],...d[u],..._[u]})),m=ce.json_to_sheet(c,{header:o}),p=ce.book_new();ce.book_append_sheet(p,m,"表格数据"),tt(p,"学生信息表格.xlsx")}}};function Fn(h,e,s,d,i,_){const o=R;return r(),F(o,{type:"primary",onClick:_.exportTable},{default:n(()=>e[0]||(e[0]=[x("导出表格")])),_:1},8,["onClick"])}const Pn=P(In,[["render",Fn]]),Dn={class:"form-setting border-x p-1 form-filed-choose"},Tn={class:"form-setting form-search"},jn={class:"form-setting form-sort"},On={class:"form-setting form-export"},Un={__name:"FormSettings",props:{fields:{type:Array,required:!0},visibleFields:{type:Array,required:!0},tableData:{type:Array,required:!0},fieldProps:{type:Object,required:!0},onFilter:{type:Function,required:!0}},emits:["update-visible-fields","update-sort"],setup(h,{emit:e}){const s=Te(),d=C(""),i=C("ID"),_=h,o=E(()=>s.sortableFields.map(a=>({label:a,value:a}))),c=a=>{_.onFilter(a)},m=a=>{p("update-visible-fields",a)};K(i,a=>{p("update-sort",a),console.log("Selected Sort:",a)});const p=e;return(a,u)=>{const v=se,b=ne,V=oe,w=Ae;return r(),F(w,{class:"form-settings"},{default:n(()=>[l("div",Dn,[t(Cn,{fields:h.fields,"visible-fields":h.visibleFields,onUpdateVisibleFields:m},null,8,["fields","visible-fields"])]),l("div",Tn,[t(v,{modelValue:d.value,"onUpdate:modelValue":u[0]||(u[0]=y=>d.value=y),placeholder:"搜索",onInput:c},null,8,["modelValue"])]),l("div",jn,[t(V,{modelValue:i.value,"onUpdate:modelValue":u[1]||(u[1]=y=>i.value=y),placeholder:"排序"},{default:n(()=>[(r(!0),f(j,null,M(o.value,y=>(r(),F(b,{key:y.value,label:y.label,value:y.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),l("div",On,[t(Pn,{"table-data":h.tableData,"visible-fields":h.visibleFields,"field-props":h.fieldProps,store:g(s)},null,8,["table-data","visible-fields","field-props","store"])])]),_:1})}}},An=P(Un,[["__scopeId","data-v-0e2b160b"]]),Mn={class:"students-form"},Nn={class:"table-container"},Ln=["onClick"],En={key:1},zn=["onClick"],Rn={key:1},Bn={key:0},qn={class:"dialog-footer"},Yn=z({__name:"StudentsForm",setup(h){const e=Te();H(()=>{e.fetchStudents()});const s=C(""),d=C("ID"),i=E(()=>e.students||[]),_=E(()=>e.visibleFields.filter(w=>!e.isPaperOrAwardField(w))),o=E(()=>{let w=i.value;return d.value==="硕士等级"&&(w=w.filter(y=>{const U=e.fieldProps[d.value];return y[U]!==""})),w=w.filter(y=>c(y,s.value)),w.sort((y,U)=>{if(!d.value)return 0;const k=e.fieldProps[d.value];let D=y[k],I=U[k];const A=$=>typeof $=="string"&&$.endsWith("%");return A(D)&&A(I)?(D=parseFloat(D.replace("%","")),I=parseFloat(I.replace("%","")),D-I):e.levelOrder[D]!==void 0&&e.levelOrder[I]!==void 0?e.levelOrder[D]-e.levelOrder[I]:typeof D=="string"&&typeof I=="string"?D.localeCompare(I):typeof D=="number"&&typeof I=="number"?D-I:0})});function c(w,y){for(const U in w)if(w.hasOwnProperty(U)){const k=w[U];if(typeof k=="string"&&k.includes(y))return!0;if(Array.isArray(k)){for(const D of k)if(typeof D=="object"&&c(D,y))return!0}else if(typeof k=="object"&&k!==null&&c(k,y))return!0}return!1}const m=w=>{d.value=w},p=w=>{e.visibleFields=w},a=C(!1),u=C({}),v=C("50%"),b=(w,y)=>{u.value=y,v.value="20%",a.value=!0},V=w=>{s.value=w};return K(d,w=>{console.log("Selected Sort:",w)}),K(o,w=>{console.log("Filtered field:",s.value)}),(w,y)=>{const U=W,k=te,D=R,I=we;return r(),f(j,null,[t(An,{fields:g(e).allFields,"visible-fields":g(e).visibleFields,"table-data":o.value,"field-props":g(e).fieldProps,onFilter:V,onUpdateVisibleFields:p,onUpdateSort:m},null,8,["fields","visible-fields","table-data","field-props"]),l("div",Mn,[l("div",Nn,[t(k,{data:o.value,style:{width:"100%"},border:"","table-layout":"auto","default-sort":{prop:d.value,order:"ascending"}},{default:n(()=>[t(U,{type:"index",label:"#",width:"50"}),(r(!0),f(j,null,M(_.value,A=>(r(),F(U,{key:A,prop:g(e).fieldProps[A],label:A,"min-width":150},{default:n(({row:$})=>[l("span",null,O($[g(e).fieldProps[A]]!==void 0&&$[g(e).fieldProps[A]]!==null&&$[g(e).fieldProps[A]]!==""?$[g(e).fieldProps[A]]:""),1)]),_:2},1032,["prop","label"]))),128)),(r(!0),f(j,null,M(g(e).paperFields,(A,$)=>(r(),F(U,{key:`论文-${$}`,label:`论文${$+1}`},{default:n(({row:T})=>[T.papers&&T.papers[$]?(r(),f("span",{key:0,onClick:L=>b("paper",T.papers[$]),class:"expandable-cell"},O(T.papers[$].ccfLevel),9,Ln)):(r(),f("span",En,"无"))]),_:2},1032,["label"]))),128)),(r(!0),f(j,null,M(g(e).awardFields,(A,$)=>(r(),F(U,{key:`奖项-${$}`,label:`奖项${$+1}`},{default:n(({row:T})=>[T.awards&&T.awards[$]?(r(),f("span",{key:0,onClick:L=>b("award",T.awards[$]),class:"expandable-cell"},O(T.awards[$].levelRanking),9,zn)):(r(),f("span",Rn,"无"))]),_:2},1032,["label"]))),128))]),_:1},8,["data","default-sort"])]),t(I,{modelValue:a.value,"onUpdate:modelValue":y[1]||(y[1]=A=>a.value=A),title:"详细信息",width:v.value},{footer:n(()=>[l("span",qn,[y[3]||(y[3]=l("h1",null,null,-1)),t(D,{onClick:y[0]||(y[0]=A=>a.value=!1)},{default:n(()=>y[2]||(y[2]=[x("关闭")])),_:1})])]),default:n(()=>[u.value?(r(),f("div",Bn,[(r(!0),f(j,null,M(u.value,(A,$)=>(r(),f("div",{key:$,class:"detail-item"},[l("strong",null,O($)+":",1),x(" "+O(A),1)]))),128))])):B("",!0)]),_:1},8,["modelValue","width"])])],64)}}}),Hn=P(Yn,[["__scopeId","data-v-d1a868bd"]]),Wn={__name:"index",setup(h){return(e,s)=>(r(),F(Hn))}},vi=Object.freeze(Object.defineProperty({__proto__:null,default:Wn},Symbol.toStringTag,{value:"Module"})),Kn={key:1},Jn={key:1},Gn={key:0,class:"error-message"},Zn=z({__name:"StudentTable",props:{data:{},loading:{type:Boolean},error:{},columnConfig:{}},emits:["selectionChange"],setup(h,{emit:e}){const s=e,d=i=>{s("selectionChange",i)};return(i,_)=>{const o=W,c=Ze,m=te,p=he;return r(),f("div",null,[le((r(),F(m,{data:i.data,style:{width:"100%"},border:"","table-layout":"fixed",onSelectionChange:d},{default:n(()=>[t(o,{type:"selection",width:"50",fixed:"left"}),t(o,{type:"index",label:"#",width:"50",fixed:"left"}),(r(!0),f(j,null,M(i.columnConfig,(a,u)=>(r(),F(o,{key:u,prop:u,label:a.label,"min-width":a.width,fixed:a.label==="姓名"?"left":void 0},{default:n(v=>[v.row[u]===!0||v.row[u]===!1?(r(),f(j,{key:0},[x(O(v.row[u]?"是":"否"),1)],64)):(r(),f(j,{key:1},[x(O(v.row[u]||"无"),1)],64))]),_:2},1032,["prop","label","min-width","fixed"]))),128)),t(o,{label:"证明文件","min-width":"150",fixed:"right"},{default:n(a=>[a.row.resume_file_path?(r(),F(c,{key:0,type:"primary",href:g(Pe)(a.row.resume_file_path),target:"_blank"},{default:n(()=>[x(O(a.row.resume_file_name||"证明文件"),1)]),_:2},1032,["href"])):(r(),f("span",Kn,"无证明文件"))]),_:1}),t(o,{label:"简历文件","min-width":"150",fixed:"right"},{default:n(a=>[a.row.proof_file_path?(r(),F(c,{key:0,type:"primary",href:g(Pe)(a.row.proof_file_path),target:"_blank"},{default:n(()=>[x(O(a.row.proof_file_name||"简历文件"),1)]),_:2},1032,["href"])):(r(),f("span",Jn,"无简历"))]),_:1})]),_:1},8,["data"])),[[p,i.loading]]),i.error?(r(),f("div",Gn,O(i.error),1)):B("",!0)])}}}),at=P(Zn,[["__scopeId","data-v-22185a7e"]]),lt=z({__name:"DownloadFiles",props:{students:{},selectedStudents:{},applicationType:{}},setup(h){const e=h,s=C(!1),d=E(()=>e.selectedStudents&&e.selectedStudents.length>0),i=E(()=>s.value?"正在下载...":d.value?"下载选中学生的文件":"下载当前表格的所有文件"),_=C(!1),o=C(0),c=a=>a===100?"打包完成":`${a}%`,m=a=>{o.value=a.detail};H(()=>{window.addEventListener("download-progress",m)}),Mt(()=>{window.removeEventListener("download-progress",m)});async function p(){const a=d.value?e.selectedStudents:e.students;if(!(a!=null&&a.length)){S.warning("没有可下载的文件");return}s.value=!0,_.value=!0,o.value=0;try{const u=new Set;for(const w of a){if(w.resume_file_path){const y=parseInt(w.resume_file_path.split("/").pop()||"");isNaN(y)||u.add(y)}if(w.proof_file_path){const y=parseInt(w.proof_file_path.split("/").pop()||"");isNaN(y)||u.add(y)}}if(u.size===0){S.warning("所选学生没有上传任何文件");return}const v=await St(Array.from(u),e.applicationType),b=new Blob([v.data],{type:"application/zip"}),V=document.createElement("a");V.href=URL.createObjectURL(b),V.download=`申请材料_${e.applicationType}_${new Date().toLocaleDateString()}.zip`,document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(V.href),S.success("文件下载完成")}catch(u){console.error("下载文件时出错:",u),S.error("下载文件时出错")}finally{s.value=!1,_.value=!1,o.value=0}}return(a,u)=>{const v=R,b=Ht,V=we;return r(),f("div",null,[t(v,{type:"primary",loading:s.value,onClick:p,disabled:!d.value&&!a.students.length},{default:n(()=>[x(O(i.value),1)]),_:1},8,["loading","disabled"]),t(V,{modelValue:_.value,"onUpdate:modelValue":u[0]||(u[0]=w=>_.value=w),title:"文件下载中","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,width:"30%"},{default:n(()=>[t(b,{percentage:o.value,format:c,status:"success"},null,8,["percentage"])]),_:1},8,["modelValue"])])}}}),ot=z({__name:"ExportExcel",props:{data:{},columnConfig:{},applicationType:{}},setup(h){const e=h,s=C(!1);async function d(){if(!e.data.length){S.warning("没有可导出的数据");return}s.value=!0;try{const i=e.data.map((c,m)=>{const p={序号:m+1};return Object.entries(e.columnConfig).forEach(([a,u])=>{p[u.label]=c[a]===!0?"是":c[a]===!1?"否":c[a]||"无"}),p.论文=[c.paper1_journalConference,c.paper2_journalConference,c.paper3_journalConference].filter(a=>a&&a.trim()!=="").join(";")||"无",p.奖项=[c.award1_awardName,c.award2_awardName,c.award3_awardName].filter(a=>a&&a.trim()!=="").join(";")||"无",p.证明文件=c.resume_file_name||"无证明文件",p.简历文件=c.proof_file_name||"无简历",p}),_=ce.json_to_sheet(i),o=ce.book_new();ce.book_append_sheet(o,_,"学生信息"),tt(o,`学生信息表_${e.applicationType}_${new Date().toLocaleDateString()}.xlsx`),S.success("导出成功")}catch(i){console.error("导出Excel时出错:",i),S.error("导出Excel时出错")}finally{s.value=!1}}return(i,_)=>{const o=R;return r(),F(o,{type:"success",loading:s.value,onClick:d},{default:n(()=>[x(O(s.value?"正在导出...":"导出当前表格为Excel"),1)]),_:1},8,["loading"])}}}),Qn={class:"dev-notice"},Xn={class:"p-6"},es={class:"flex justify-between items-center"},ts={class:"flex gap-2"},as=z({__name:"index",setup(h){const e=C([]),s=C(!1),d=C(""),i=ge(),_=E(()=>{const v=i.fields.filter(V=>V.showInTable),{sortedFields:b}=Ne(v);return b.value.reduce((V,w)=>(V[w.variableName]={label:w.name,width:"150"},V),{})}),o=async()=>{s.value=!0,d.value="";try{const v=await Ct();e.value=v}catch(v){d.value=v.message||"获取学生数据失败"}finally{s.value=!1}};H(async()=>{await i.fetchFields(),await o()});const c=E(()=>{const v=new Set(e.value.map(b=>b.applicationType));return Array.from(v)}),m=v=>e.value.filter(b=>b.applicationType===v),p=C("");K(c,v=>{v.length&&!p.value&&(p.value=v[0])},{immediate:!0});const a=C([]),u=v=>{a.value=v};return K(p,()=>{a.value=[]}),(v,b)=>{const V=Ue,w=ke,y=$e,U=Q;return r(),f(j,null,[l("div",Qn,[t(V,{title:"开发阶段提示",type:"info",description:"快来使用吧",closable:!1,"show-icon":"",center:""})]),l("div",Xn,[t(U,null,{header:n(()=>[l("div",es,[b[1]||(b[1]=l("div",{class:"flex items-start flex-col"},[l("span",{class:"text-xl font-bold"},"学生列表"),l("div",{class:"text-gray-500 text-sm mt-1"}," 查看和导出所有学生的申请信息 ")],-1)),l("div",ts,[t(lt,{students:m(p.value),"selected-students":a.value,"application-type":p.value},null,8,["students","selected-students","application-type"]),t(ot,{data:m(p.value),"column-config":_.value,"application-type":p.value},null,8,["data","column-config","application-type"])])])]),default:n(()=>[t(y,{modelValue:p.value,"onUpdate:modelValue":b[0]||(b[0]=k=>p.value=k)},{default:n(()=>[(r(!0),f(j,null,M(c.value,k=>(r(),F(w,{key:k,label:k||"其他",name:k},{default:n(()=>[t(at,{data:m(k),loading:s.value,error:d.value,"column-config":_.value,onSelectionChange:u},null,8,["data","loading","error","column-config"])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1})])],64)}}}),ls=P(as,[["__scopeId","data-v-7ec7b289"]]),bi=Object.freeze(Object.defineProperty({__proto__:null,default:ls},Symbol.toStringTag,{value:"Module"})),os={class:"percent-editor-container p-6"},ns={class:"school-section mb-8"},ss={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},rs={class:"school-section mb-8"},is={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ds={class:"school-section"},us={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},cs={class:"flex justify-end mt-6"},ps=z({__name:"Percent",setup(h){const e=It(),s=C(!1);H(()=>{e.fetchPercentData()});const d=()=>{s.value=!0,S({message:"请记得点击保存按钮使配置生效",type:"warning",duration:3e3})},i=async()=>{await e.updatePercentData(e.percentData),s.value=!1};return(_,o)=>{const c=et,m=ie,p=R,a=xe,u=Q;return r(),f("div",os,[t(u,{class:"mb-6"},{header:n(()=>o[9]||(o[9]=[l("div",{class:"card-header text-left"},[l("span",{class:"text-xl font-bold"},"百分比设置"),l("div",{class:"text-gray-500 text-sm mt-1"}," 设置不同类别院校的录取百分比阈值 ")],-1)])),default:n(()=>[t(a,{onSubmit:ve(i,["prevent"])},{default:n(()=>[l("div",ns,[o[13]||(o[13]=l("h3",{class:"text-lg font-semibold mb-4 text-blue-600"},"A类院校",-1)),l("div",ss,[t(m,{label:"普通"},{default:n(()=>[t(c,{modelValue:g(e).percentData.pOfA,"onUpdate:modelValue":o[0]||(o[0]=v=>g(e).percentData.pOfA=v),min:0,max:100,precision:2,step:1,class:"w-full",onChange:d},{suffix:n(()=>o[10]||(o[10]=[x("%")])),_:1},8,["modelValue"])]),_:1}),t(m,{label:"拔尖班"},{default:n(()=>[t(c,{modelValue:g(e).percentData.pOfATop,"onUpdate:modelValue":o[1]||(o[1]=v=>g(e).percentData.pOfATop=v),min:0,max:100,precision:2,step:1,class:"w-full",onChange:d},{suffix:n(()=>o[11]||(o[11]=[x("%")])),_:1},8,["modelValue"])]),_:1}),t(m,{label:"人才"},{default:n(()=>[t(c,{modelValue:g(e).percentData.pOfATalent,"onUpdate:modelValue":o[2]||(o[2]=v=>g(e).percentData.pOfATalent=v),min:0,max:100,precision:2,step:1,class:"w-full",onChange:d},{suffix:n(()=>o[12]||(o[12]=[x("%")])),_:1},8,["modelValue"])]),_:1})])]),l("div",rs,[o[17]||(o[17]=l("h3",{class:"text-lg font-semibold mb-4 text-green-600"},"B类院校",-1)),l("div",is,[t(m,{label:"普通"},{default:n(()=>[t(c,{modelValue:g(e).percentData.pOfB,"onUpdate:modelValue":o[3]||(o[3]=v=>g(e).percentData.pOfB=v),min:0,max:100,precision:2,step:1,class:"w-full",onChange:d},{suffix:n(()=>o[14]||(o[14]=[x("%")])),_:1},8,["modelValue"])]),_:1}),t(m,{label:"拔尖班"},{default:n(()=>[t(c,{modelValue:g(e).percentData.pOfBTop,"onUpdate:modelValue":o[4]||(o[4]=v=>g(e).percentData.pOfBTop=v),min:0,max:100,precision:2,step:1,class:"w-full",onChange:d},{suffix:n(()=>o[15]||(o[15]=[x("%")])),_:1},8,["modelValue"])]),_:1}),t(m,{label:"人才"},{default:n(()=>[t(c,{modelValue:g(e).percentData.pOfBTalent,"onUpdate:modelValue":o[5]||(o[5]=v=>g(e).percentData.pOfBTalent=v),min:0,max:100,precision:2,step:1,class:"w-full",onChange:d},{suffix:n(()=>o[16]||(o[16]=[x("%")])),_:1},8,["modelValue"])]),_:1})])]),l("div",ds,[o[21]||(o[21]=l("h3",{class:"text-lg font-semibold mb-4 text-yellow-600"},"C类院校",-1)),l("div",us,[t(m,{label:"普通"},{default:n(()=>[t(c,{modelValue:g(e).percentData.pOfC,"onUpdate:modelValue":o[6]||(o[6]=v=>g(e).percentData.pOfC=v),min:0,max:100,precision:2,step:1,class:"w-full",onChange:d},{suffix:n(()=>o[18]||(o[18]=[x("%")])),_:1},8,["modelValue"])]),_:1}),t(m,{label:"拔尖班"},{default:n(()=>[t(c,{modelValue:g(e).percentData.pOfCTop,"onUpdate:modelValue":o[7]||(o[7]=v=>g(e).percentData.pOfCTop=v),min:0,max:100,precision:2,step:1,class:"w-full",onChange:d},{suffix:n(()=>o[19]||(o[19]=[x("%")])),_:1},8,["modelValue"])]),_:1}),t(m,{label:"人才"},{default:n(()=>[t(c,{modelValue:g(e).percentData.pOfCTalent,"onUpdate:modelValue":o[8]||(o[8]=v=>g(e).percentData.pOfCTalent=v),min:0,max:100,precision:2,step:1,class:"w-full",onChange:d},{suffix:n(()=>o[20]||(o[20]=[x("%")])),_:1},8,["modelValue"])]),_:1})])]),l("div",cs,[t(p,{type:"primary",class:be({"is-changed":s.value}),onClick:i},{default:n(()=>o[22]||(o[22]=[x("保存设置")])),_:1},8,["class"])])]),_:1})]),_:1})])}}}),ms=P(ps,[["__scopeId","data-v-9b30e49a"]]),_s=z({__name:"index",setup(h){return(e,s)=>(r(),F(Nt,null,[t(ms)],1024))}}),yi=Object.freeze(Object.defineProperty({__proto__:null,default:_s},Symbol.toStringTag,{value:"Module"})),fs={class:"p-6"},vs={class:"flex justify-between items-center"},bs={class:"flex gap-2"},ys=z({__name:"index",setup(h){const e=Ye(),s=ge(),d=E(()=>{const p=s.fields.filter(u=>u.showInTable),{sortedFields:a}=Ne(p);return a.value.reduce((u,v)=>(u[v.variableName]={label:v.name,width:"150"},u),{})});H(async()=>{await s.fetchFields(),await e.fetchFilteredStudents()});const i=E(()=>{const p=new Set(e.filteredStudents.map(a=>a.applicationType));return Array.from(p)}),_=p=>e.filteredStudents.filter(a=>a.applicationType===p),o=C("");K(i,p=>{p.length&&!o.value&&(o.value=p[0])},{immediate:!0});const c=C([]),m=p=>{c.value=p};return K(o,()=>{c.value=[]}),(p,a)=>{const u=ke,v=$e,b=Q;return r(),f("div",fs,[t(b,null,{header:n(()=>[l("div",vs,[a[1]||(a[1]=l("div",{class:"flex items-start flex-col"},[l("span",{class:"text-xl font-bold"},"筛选结果"),l("div",{class:"text-gray-500 text-sm mt-1"}," 查看和导出通过筛选的学生的申请信息 ")],-1)),l("div",bs,[t(lt,{students:_(o.value),"selected-students":c.value,"application-type":o.value},null,8,["students","selected-students","application-type"]),t(ot,{data:_(o.value),"column-config":d.value,"application-type":o.value},null,8,["data","column-config","application-type"])])])]),default:n(()=>[t(v,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=V=>o.value=V)},{default:n(()=>[(r(!0),f(j,null,M(i.value,V=>(r(),F(u,{key:V,label:V||"其他",name:V},{default:n(()=>[t(at,{data:_(V),loading:g(e).loading,error:g(e).error,"column-config":d.value,onSelectionChange:m},null,8,["data","loading","error","column-config"])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1})])}}}),hs=P(ys,[["__scopeId","data-v-89fa3168"]]),hi=Object.freeze(Object.defineProperty({__proto__:null,default:hs},Symbol.toStringTag,{value:"Module"})),gs={class:"p-6"},ws={key:0,class:"error-message mt-4 text-red-500"},xs={__name:"index",setup(h){const e=Ye();return H(async()=>{await e.fetchFailedStudents(),console.log("未通过筛选的学生:",e.failedStudents)}),(s,d)=>{const i=W,_=te,o=Q,c=he;return r(),f("div",gs,[t(o,null,{header:n(()=>d[0]||(d[0]=[l("div",{class:"flex justify-between items-center"},[l("div",{class:"flex items-start flex-col"},[l("span",{class:"text-xl font-bold"},"未通过筛选学生"),l("div",{class:"text-gray-500 text-sm mt-1"}," 查看未通过筛选的学生的申请信息 ")])],-1)])),default:n(()=>[le((r(),F(_,{data:g(e).failedStudents,style:{width:"100%"},border:"","table-layout":"auto"},{default:n(()=>[t(i,{type:"index",label:"#",width:"50"}),t(i,{prop:"name",label:"姓名"}),t(i,{prop:"university",label:"本科院校"}),t(i,{prop:"masterUniversity",label:"硕士院校"}),t(i,{prop:"percentage",label:"排名百分比"}),t(i,{prop:"applicationType",label:"申请类型"})]),_:1},8,["data"])),[[c,g(e).loading]]),g(e).error?(r(),f("div",ws,O(g(e).error),1)):B("",!0)]),_:1})])}}},$s=P(xs,[["__scopeId","data-v-6d6811f7"]]),gi=Object.freeze(Object.defineProperty({__proto__:null,default:$s},Symbol.toStringTag,{value:"Module"})),ks={class:"interview-block p-6"},Vs={__name:"InterviewBlock",setup(h){const e=C([]),s=C(null),d=()=>{s.value.click()},i=async o=>{const c=o.target.files[0];if(c)try{const m=new FileReader;m.onload=async p=>{const a=p.target.result,u=Zt(a,{type:"array"}),v=u.SheetNames[0],b=u.Sheets[v],w=ce.sheet_to_json(b).map(y=>({student:y.student||y.学生,scoreTeacher1:Number(y.scoreTeacher1||y.老师一打分),scoreTeacher2:Number(y.scoreTeacher2||y.老师二打分),scoreTeacher3:Number(y.scoreTeacher3||y.老师三打分),resumeScore:Number(y.resumeScore||y.简历分数||0)}));await Ft(c),e.value=w,S.success("表格导入成功")},m.readAsArrayBuffer(c)}catch(m){console.error("文件处理错误:",m),S.error("表格导入失败")}},_=async()=>{try{const o=await Pt();console.log("归一化数据:",o);const m=(Array.isArray(o.data)?o.data:o).map(p=>({student:p.student,scoreTeacher1:Number(p.scoreTeacher1),scoreTeacher2:Number(p.scoreTeacher2),scoreTeacher3:Number(p.scoreTeacher3),normalizedScore:Number(p.normalizedScore),resumeScore:Number(p.resumeScore||0)}));e.value=m,S.success("归一化处理完成")}catch(o){console.error("归一化处理错误:",o),S.error("归一化处理失败")}};return(o,c)=>{const m=R,p=W,a=te,u=Q;return r(),f("div",ks,[t(u,{class:"mb-6"},{header:n(()=>c[0]||(c[0]=[l("div",{class:"card-header text-left"},[l("span",{class:"text-xl font-bold"},"面试评分"),l("div",{class:"text-gray-500 text-sm mt-1"}," 导入面试评分表格并进行归一化处理 ")],-1)])),default:n(()=>[l("input",{type:"file",ref_key:"fileInput",ref:s,onChange:i,accept:".xlsx,.xls",style:{display:"none"}},null,544),t(m,{type:"primary",onClick:d},{default:n(()=>c[1]||(c[1]=[x("导入表格")])),_:1}),t(m,{type:"success",onClick:_},{default:n(()=>c[2]||(c[2]=[x("归一化")])),_:1}),t(a,{data:e.value,style:{width:"100%","margin-top":"20px"},"default-sort":{prop:"normalizedScore",order:"descending"},"table-layout":"fixed",border:""},{default:n(()=>[t(p,{type:"index",label:"序号","min-width":"60"}),t(p,{prop:"student",label:"学生","min-width":"100"}),t(p,{prop:"scoreTeacher1",label:"老师一打分","min-width":"100"}),t(p,{prop:"scoreTeacher2",label:"老师二打分","min-width":"100"}),t(p,{prop:"scoreTeacher3",label:"老师三打分","min-width":"100"}),t(p,{prop:"normalizedScore",label:"归一化打分","min-width":"100",sortable:""}),t(p,{prop:"resumeScore",label:"简历分数","min-width":"100"})]),_:1},8,["data"])]),_:1})])}}},Ss=P(Vs,[["__scopeId","data-v-2372b2ad"]]),Cs={__name:"index",setup(h){return(e,s)=>(r(),F(Ss))}},wi=Object.freeze(Object.defineProperty({__proto__:null,default:Cs},Symbol.toStringTag,{value:"Module"})),Is={class:"analysis-block"},Fs={class:"charts-container"},Ps={__name:"AnalysisBlock",setup(h){const e=Te(),s=C(null),d=C(null),i=C(null),_=C(null);H(async()=>{await e.fetchStudents(),o(),c(),m(),p()});function o(){const a=de(s.value),u={title:{text:"学生总数",subtext:e.students.length,left:"center"},tooltip:{formatter:"{a} <br/>{b} : {c}"},series:[{name:"学生总数",type:"gauge",detail:{formatter:"{value}"},data:[{value:e.students.length,name:"学生总数"}]}]};a.setOption(u)}function c(){const a=de(d.value),u=e.students.reduce((b,V)=>(b[V.applicationType]=(b[V.applicationType]||0)+1,b),{}),v={title:{text:"报名类型分布"},tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},series:[{name:"报名类型",type:"pie",radius:"50%",data:Object.entries(u).map(([b,V])=>({name:b,value:V})),emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};a.setOption(v)}function m(){const a=de(i.value),u=e.students.reduce((b,V)=>(b[V.university]=(b[V.university]||0)+1,b),{}),v={title:{text:"本科学校分布"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:Object.keys(u)},yAxis:{type:"value"},series:[{name:"数量",data:Object.values(u),type:"bar"}]};a.setOption(v)}function p(){const a=de(_.value),v=[85,90,90,78,78,92,88,76,95,89,89,84,84,91,87,82,93,86,94].reduce((V,w)=>(V[w]=(V[w]||0)+1,V),{}),b={title:{text:"面试分数分布"},tooltip:{},xAxis:{type:"category",data:Object.keys(v).map(Number).sort((V,w)=>V-w)},yAxis:{type:"value"},series:[{name:"数量",data:Object.values(v),type:"bar"}]};a.setOption(b)}return(a,u)=>{const v=Q;return r(),f("div",Is,[t(v,{class:"box-card"},{header:n(()=>u[0]||(u[0]=[l("span",null,"学生数据分析",-1)])),default:n(()=>[l("div",Fs,[l("div",{ref_key:"studentCountChart",ref:s,class:"chart"},null,512),l("div",{ref_key:"applicationTypeChart",ref:d,class:"chart"},null,512),l("div",{ref_key:"universityChart",ref:i,class:"chart"},null,512),l("div",{ref_key:"interviewScoreChart",ref:_,class:"chart"},null,512)])]),_:1})])}}},Ds=P(Ps,[["__scopeId","data-v-aaf52454"]]),Ts={__name:"index",setup(h){return(e,s)=>(r(),F(Ds))}},xi=Object.freeze(Object.defineProperty({__proto__:null,default:Ts},Symbol.toStringTag,{value:"Module"})),js={class:"p-6"},Os={key:0,class:"error-message"},Us=z({__name:"index",setup(h){const e=X(),s=C("university"),d=Lt({university:me(()=>pe(()=>Promise.resolve().then(()=>kr),void 0,import.meta.url)),major:me(()=>pe(()=>Promise.resolve().then(()=>Ir),void 0,import.meta.url)),personnel:me(()=>pe(()=>Promise.resolve().then(()=>jr),void 0,import.meta.url)),admission:me(()=>pe(()=>Promise.resolve().then(()=>Rr),void 0,import.meta.url)),award:me(()=>pe(()=>Promise.resolve().then(()=>Yr),void 0,import.meta.url)),year:me(()=>pe(()=>Promise.resolve().then(()=>Kr),void 0,import.meta.url))}),i=E(()=>d.value[s.value]);return(_,o)=>{const c=ke,m=$e,p=Q,a=he;return r(),f("div",js,[t(p,null,{header:n(()=>o[1]||(o[1]=[l("div",{class:"flex justify-between items-center"},[l("div",{class:"flex items-start flex-col"},[l("span",{class:"text-xl font-bold"},"系统设置"),l("div",{class:"text-gray-500 text-sm mt-1"}," 管理系统的基础配置信息 ")])],-1)])),default:n(()=>[le((r(),F(m,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=u=>s.value=u)},{default:n(()=>[t(c,{label:"院校等级调整",name:"university"},{default:n(()=>[s.value==="university"?(r(),F(fe(i.value),{key:0})):B("",!0)]),_:1}),t(c,{label:"专业分类调整",name:"major"},{default:n(()=>[s.value==="major"?(r(),F(fe(i.value),{key:0})):B("",!0)]),_:1}),t(c,{label:"奖项配置",name:"award"},{default:n(()=>[s.value==="award"?(r(),F(fe(i.value),{key:0})):B("",!0)]),_:1}),t(c,{label:"导师信息调整",name:"personnel"},{default:n(()=>[s.value==="personnel"?(r(),F(fe(i.value),{key:0})):B("",!0)]),_:1}),t(c,{label:"招生年份和时间调整",name:"admission"},{default:n(()=>[s.value==="admission"?(r(),F(fe(i.value),{key:0})):B("",!0)]),_:1})]),_:1},8,["modelValue"])),[[a,g(e).isLoading]]),g(e).error?(r(),f("div",Os,O(g(e).error),1)):B("",!0)]),_:1})])}}}),As=P(Us,[["__scopeId","data-v-2a96d70c"]]),$i=Object.freeze(Object.defineProperty({__proto__:null,default:As},Symbol.toStringTag,{value:"Module"})),Ms={class:"p-6"},Ns={class:"flex justify-between items-center"},Ls={class:"flex gap-2"},Es={class:"flex gap-4 flex-wrap"},zs={class:"flex justify-end gap-2"},Rs=z({__name:"index",setup(h){const e=ge();e.fetchFields().then(()=>{const w=e.fields.map(y=>({variableName:y.variableName,type:y.type}));console.log("Fields Info:",w)});const s=[{value:"string",label:"字符串"},{value:"percent",label:"百分比"},{value:"boolean",label:"布尔值"},{value:"select",label:"单选"},{value:"date",label:"日期"},{value:"number",label:"数字"}],d=[{value:"个人信息",label:"个人信息"},{value:"学历信息",label:"学历信息"},{value:"申请志愿",label:"申请志愿"},{value:"论文情况",label:"论文情况"},{value:"奖项",label:"奖项"},{value:"其他",label:"其他"}],i=C(!1),_=C("新增字段"),o=C({id:0,name:"",description:"",type:"text",showInTable:!0,showInFilter:!0,showInApply:!0,showInRecommendMaster:!0,showInExamMaster:!0,showInPhd:!0,showInDirectPhd:!0,regionInForm:"其他"}),c=()=>{_.value="新增字段",o.value={id:0,name:"",description:"",showInTable:!0,showInFilter:!0,showInApply:!0,showInRecommendMaster:!0,showInExamMaster:!0,showInPhd:!0,showInDirectPhd:!0,regionInForm:"其他"},m.value=!1,i.value=!0},m=C(!1),p=w=>{_.value="编辑字段",o.value={...w},m.value=!0,i.value=!0},a=async()=>{if(!o.value.name||!o.value.description){S.warning("请填写完整信息");return}(m.value?await e.editField(o.value):await e.createField(o.value))&&(i.value=!1,await e.fetchFields())},u=async w=>{await e.removeField(w.id)},v=async w=>{await e.editField(w)&&await e.fetchFields()},b=E(()=>{const w={};return d.forEach(y=>{w[y.value]=e.fields.filter(U=>U.regionInForm===y.value)}),w}),V=C("个人信息");return(w,y)=>{const U=ke,k=$e,D=Q;return r(),f("div",Ms,[t(D,null,{header:n(()=>[l("div",Ns,[y[15]||(y[15]=l("div",{class:"flex items-start flex-col"},[l("span",{class:"text-xl font-bold"},"字段管理"),l("div",{class:"text-gray-500 text-sm mt-1"}," 前台申请表单与后台管理系统中使用的所有字段及其显示设置 ")],-1)),l("div",Ls,[t(g(R),{type:"primary",onClick:c},{default:n(()=>y[14]||(y[14]=[x("新增字段")])),_:1})])])]),default:n(()=>[t(k,{modelValue:V.value,"onUpdate:modelValue":y[0]||(y[0]=I=>V.value=I)},{default:n(()=>[(r(),f(j,null,M(d,I=>t(U,{key:I.value,label:I.label,name:I.value},{default:n(()=>[t(g(te),{data:b.value[I.value],border:"",class:"w-full"},{default:n(()=>[t(g(W),{label:"ID","min-width":"80",type:"index",index:1}),t(g(W),{prop:"name",label:"字段名称","min-width":"120"}),t(g(W),{prop:"description",label:"描述","min-width":"150","show-overflow-tooltip":""}),t(g(W),{label:"字段类型","min-width":"100"},{default:n(({row:A})=>{var $;return[x(O((($=s.find(T=>T.value===A.type))==null?void 0:$.label)||A.type),1)]}),_:1}),t(g(W),{label:"在表格中显示","min-width":"120",align:"center"},{default:n(({row:A})=>[t(g(ae),{modelValue:A.showInTable,"onUpdate:modelValue":$=>A.showInTable=$,onChange:()=>v(A)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(g(W),{label:"在申请页面显示","min-width":"150",align:"center"},{default:n(({row:A})=>[t(g(ae),{modelValue:A.showInApply,"onUpdate:modelValue":$=>A.showInApply=$,onChange:()=>v(A)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(g(W),{label:"操作","min-width":"150",align:"center"},{default:n(({row:A})=>[t(g(R),{type:"primary",size:"small",onClick:$=>p(A)},{default:n(()=>y[16]||(y[16]=[x("编辑")])),_:2},1032,["onClick"]),t(g(R),{type:"danger",size:"small",onClick:$=>u(A)},{default:n(()=>y[17]||(y[17]=[x("删除")])),_:2},1032,["onClick"])]),_:1})]),_:2},1032,["data"])]),_:2},1032,["label","name"])),64))]),_:1},8,["modelValue"])]),_:1}),t(g(we),{modelValue:i.value,"onUpdate:modelValue":y[13]||(y[13]=I=>i.value=I),title:_.value,width:"500px","destroy-on-close":""},{footer:n(()=>[l("div",zs,[t(g(R),{onClick:y[12]||(y[12]=I=>i.value=!1)},{default:n(()=>y[18]||(y[18]=[x("取消")])),_:1}),t(g(R),{type:"primary",onClick:a},{default:n(()=>y[19]||(y[19]=[x("确定")])),_:1})])]),default:n(()=>[t(g(xe),{model:o.value,"label-width":"100px"},{default:n(()=>[t(g(ie),{label:"字段名称",required:""},{default:n(()=>[t(g(se),{modelValue:o.value.name,"onUpdate:modelValue":y[1]||(y[1]=I=>o.value.name=I),placeholder:"请输入字段名称"},null,8,["modelValue"])]),_:1}),t(g(ie),{label:"描述",required:""},{default:n(()=>[t(g(se),{modelValue:o.value.description,"onUpdate:modelValue":y[2]||(y[2]=I=>o.value.description=I),placeholder:"请输入字段描述"},null,8,["modelValue"])]),_:1}),t(g(ie),{label:"字段类型",required:""},{default:n(()=>[t(g(oe),{modelValue:o.value.type,"onUpdate:modelValue":y[3]||(y[3]=I=>o.value.type=I),placeholder:"请选择字段类型"},{default:n(()=>[(r(),f(j,null,M(s,I=>t(g(ne),{key:I.value,label:I.label,value:I.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(g(ie),{label:"显示设置"},{default:n(()=>[l("div",Es,[t(g(ae),{modelValue:o.value.showInTable,"onUpdate:modelValue":y[4]||(y[4]=I=>o.value.showInTable=I),"active-text":"表格显示"},null,8,["modelValue"]),t(g(ae),{modelValue:o.value.showInFilter,"onUpdate:modelValue":y[5]||(y[5]=I=>o.value.showInFilter=I),"active-text":"筛选显示"},null,8,["modelValue"]),t(g(ae),{modelValue:o.value.showInApply,"onUpdate:modelValue":y[6]||(y[6]=I=>o.value.showInApply=I),"active-text":"申请显示"},null,8,["modelValue"]),t(g(ae),{modelValue:o.value.showInRecommendMaster,"onUpdate:modelValue":y[7]||(y[7]=I=>o.value.showInRecommendMaster=I),"active-text":"推免显示"},null,8,["modelValue"]),t(g(ae),{modelValue:o.value.showInExamMaster,"onUpdate:modelValue":y[8]||(y[8]=I=>o.value.showInExamMaster=I),"active-text":"考研显示"},null,8,["modelValue"]),t(g(ae),{modelValue:o.value.showInPhd,"onUpdate:modelValue":y[9]||(y[9]=I=>o.value.showInPhd=I),"active-text":"博士显示"},null,8,["modelValue"]),t(g(ae),{modelValue:o.value.showInDirectPhd,"onUpdate:modelValue":y[10]||(y[10]=I=>o.value.showInDirectPhd=I),"active-text":"直博显示"},null,8,["modelValue"])])]),_:1}),t(g(ie),{label:"表单区域"},{default:n(()=>[t(g(oe),{modelValue:o.value.regionInForm,"onUpdate:modelValue":y[11]||(y[11]=I=>o.value.regionInForm=I),placeholder:"请选择表单区域"},{default:n(()=>[(r(),f(j,null,M(d,I=>t(g(ne),{key:I.value,label:I.label,value:I.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}}),Bs=P(Rs,[["__scopeId","data-v-5e3e2b2c"]]),ki=Object.freeze(Object.defineProperty({__proto__:null,default:Bs},Symbol.toStringTag,{value:"Module"})),qs={class:"p-6"},Ys={class:"flex justify-between items-center"},Hs={class:"flex gap-2"},Ws={class:"flex justify-between items-center"},Ks={class:"button-group"},Js={__name:"index",setup(h){var m;const e=qe(),s=C(!1),d=C(e.autoLoginDays),i=C({username:((m=e.user)==null?void 0:m.username)||"",phone:e.userInfo.phone||"",email:e.userInfo.email||"",oldPassword:"",newPassword:"",confirmPassword:""}),_=async()=>{try{const p={phone:i.value.phone,email:i.value.email,auto_login_days:d.value};if(s.value&&i.value.newPassword){if(i.value.newPassword!==i.value.confirmPassword){S.error("两次输入的密码不一致");return}p.old_password=i.value.oldPassword,p.new_password=i.value.newPassword}await e.updateUserInfo(p)?(S.success("保存成功"),s.value&&c()):S.error("保存失败")}catch{S.error("保存失败")}},o=()=>{e.logout(),S.success("退出登录成功")},c=()=>{i.value.oldPassword="",i.value.newPassword="",i.value.confirmPassword="",s.value=!1};return H(async()=>{await e.fetchUserInfo(),i.value.phone=e.userInfo.phone,i.value.email=e.userInfo.email,d.value=e.autoLoginDays}),(p,a)=>{const u=R,v=se,b=ie,V=et,w=xe,y=Q,U=Xe,k=Ae;return r(),f("div",qs,[t(y,null,{header:n(()=>[l("div",Ys,[a[10]||(a[10]=l("div",{class:"flex items-start flex-col"},[l("span",{class:"text-xl font-bold"},"账号设置"),l("div",{class:"text-gray-500 text-sm mt-1"}," 管理您的账户信息和安全设置 ")],-1)),l("div",Hs,[t(u,{type:"primary",onClick:a[0]||(a[0]=()=>{s.value=!0,g(S).info("请填写密码信息")}),disabled:s.value},{default:n(()=>a[8]||(a[8]=[x(" 修改密码 ")])),_:1},8,["disabled"]),t(u,{type:"danger",onClick:o},{default:n(()=>a[9]||(a[9]=[x(" 退出登录 ")])),_:1})])])]),default:n(()=>[t(k,{gutter:20},{default:n(()=>[t(U,{span:12},{default:n(()=>[t(y,{class:"box-card"},{header:n(()=>a[11]||(a[11]=[l("div",{class:"card-header"},[l("h3",null,"基本信息"),l("p",{class:"text-secondary"},"管理您的个人资料")],-1)])),default:n(()=>[t(w,{onSubmit:ve(_,["prevent"]),"label-position":"top"},{default:n(()=>[t(b,{label:"用户名"},{default:n(()=>[t(v,{modelValue:i.value.username,"onUpdate:modelValue":a[1]||(a[1]=D=>i.value.username=D),disabled:""},null,8,["modelValue"])]),_:1}),t(b,{label:"手机号码"},{default:n(()=>[t(v,{modelValue:i.value.phone,"onUpdate:modelValue":a[2]||(a[2]=D=>i.value.phone=D),placeholder:"请输入手机号码"},null,8,["modelValue"])]),_:1}),t(b,{label:"邮箱地址"},{default:n(()=>[t(v,{modelValue:i.value.email,"onUpdate:modelValue":a[3]||(a[3]=D=>i.value.email=D),placeholder:"请输入邮箱",type:"email"},null,8,["modelValue"])]),_:1}),a[14]||(a[14]=l("div",{class:"flex justify-between items-center mb-4"},[l("span",{class:"text-base font-medium"},"自动登录设置")],-1)),l("div",Ws,[t(b,null,{default:n(()=>[t(V,{modelValue:d.value,"onUpdate:modelValue":a[4]||(a[4]=D=>d.value=D),min:1,max:30,"controls-position":"right"},null,8,["modelValue"]),a[12]||(a[12]=l("span",{class:"days-text"},"天",-1))]),_:1}),t(u,{type:"primary",onClick:_},{default:n(()=>a[13]||(a[13]=[x("保存修改")])),_:1})])]),_:1})]),_:1})]),_:1}),t(U,{span:12},{default:n(()=>[s.value?(r(),F(y,{key:0,class:"box-card password-card"},{header:n(()=>a[15]||(a[15]=[l("div",{class:"card-header"},[l("h3",null,"修改密码"),l("p",{class:"text-secondary"},"设置新的账号密码")],-1)])),default:n(()=>[t(w,{onSubmit:ve(_,["prevent"]),"label-position":"top"},{default:n(()=>[t(b,{label:"原密码"},{default:n(()=>[t(v,{modelValue:i.value.oldPassword,"onUpdate:modelValue":a[5]||(a[5]=D=>i.value.oldPassword=D),type:"password",placeholder:"请输入原密码","show-password":""},null,8,["modelValue"])]),_:1}),t(b,{label:"新密码"},{default:n(()=>[t(v,{modelValue:i.value.newPassword,"onUpdate:modelValue":a[6]||(a[6]=D=>i.value.newPassword=D),type:"password",placeholder:"请输入新密码","show-password":""},null,8,["modelValue"])]),_:1}),t(b,{label:"确认新密码"},{default:n(()=>[t(v,{modelValue:i.value.confirmPassword,"onUpdate:modelValue":a[7]||(a[7]=D=>i.value.confirmPassword=D),type:"password",placeholder:"请再次输入新密码","show-password":""},null,8,["modelValue"])]),_:1}),l("div",Ks,[t(u,{onClick:c},{default:n(()=>a[16]||(a[16]=[x("取消修改")])),_:1}),t(u,{type:"primary","native-type":"submit"},{default:n(()=>a[17]||(a[17]=[x("确认修改")])),_:1})])]),_:1})]),_:1})):B("",!0)]),_:1})]),_:1})]),_:1})])}}},Gs=P(Js,[["__scopeId","data-v-5b97f2d0"]]),Vi=Object.freeze(Object.defineProperty({__proto__:null,default:Gs},Symbol.toStringTag,{value:"Module"})),Zs={class:"contact-container"},Qs={class:"contact-content"},Xs=z({__name:"Contact",setup(h){return(e,s)=>(r(),F(Me,null,{default:n(()=>[l("div",Zs,[t(g(Q),{class:"contact-card"},{default:n(()=>[l("div",Qs,[s[0]||(s[0]=l("h2",{class:"text-2xl font-bold mb-6 text-center text-gray-800"}," 联系我们 ",-1)),s[1]||(s[1]=l("div",{class:"email-section"},[l("p",{class:"text-lg font-medium mb-2"},"邮箱地址"),l("p",{class:"text-xl font-semibold text-blue-600 mb-4"}," palmapplication@163.com ")],-1)),t(g(ze)),s[2]||(s[2]=l("div",{class:"instruction-section"},[l("h3",{class:"text-lg font-medium mb-3"},"发送邮件须知"),l("ul",{class:"text-gray-700 space-y-2 text-left"},[l("li",null,"• 请在邮件中注明您的基本信息："),l("li",{class:"ml-4"},"- 学校"),l("li",{class:"ml-4"},"- 姓名"),l("li",{class:"ml-4"},"- 申请类型"),l("li",null,"• 详细描述您遇到的问题、建议或看法"),l("li",null,"• 请在邮件中附上相关材料，如截图等")])],-1)),t(g(ze)),s[3]||(s[3]=l("div",{class:"promise-section text-center"},[l("p",{class:"text-gray-700 mb-2"},"我们会尽快回复并解决您提出的问题"),l("p",{class:"text-gray-600"},"感谢您的支持与建议！")],-1))])]),_:1})])]),_:1}))}}),er=P(Xs,[["__scopeId","data-v-d32391ea"]]),tr={__name:"index",setup(h){return(e,s)=>(r(),F(er))}},Si=Object.freeze(Object.defineProperty({__proto__:null,default:tr},Symbol.toStringTag,{value:"Module"})),ar={class:"container"},lr={class:"center-table"},or={__name:"index",setup(h){const e=X(),{personnel:s}=Et(e);return H(async()=>{await e.fetchPersonnel()}),(d,i)=>(r(),F(Me,null,{default:n(()=>[l("div",ar,[i[1]||(i[1]=l("h1",{class:"title"},"PALM实验室招收 2026 年秋季入学博士及硕士研究生",-1)),i[2]||(i[2]=l("p",{class:"welcome-message"}," 欢迎报考计算机学院、软件学院、东-蒙联合研究生院的同学申请 ",-1)),i[3]||(i[3]=l("ul",{class:"notice-list"},[l("li",null,[x(" 申请前请首先阅读 PALM 实验室招生说明 "),l("a",{href:"https://palm.seu.edu.cn/application.html",target:"_blank"},"https://palm.seu.edu.cn/application.html"),x("。 ")]),l("li",null,[x(" 报名系统网址："),l("a",{href:"https://palm.inon.space",target:"_blank"},"https://palm.inon.space"),x("。 ")]),l("li",null,[x(" 有关 PALM 实验室具体情况，请访问实验室官方网站："),l("a",{href:"https://palm.seu.edu.cn",target:"_blank"},"https://palm.seu.edu.cn"),x("。 ")])],-1)),i[4]||(i[4]=l("h3",null,"2026 年PALM实验室拟招生导师名单",-1)),l("table",lr,[i[0]||(i[0]=l("thead",null,[l("tr",null,[l("th",null,"拟招生导师"),l("th",null,"拟招生对象"),l("th",null,"招生院系"),l("th",null,"研究方向")])],-1)),l("tbody",null,[(r(!0),f(j,null,M(g(s),(_,o)=>(r(),f("tr",{key:o},[l("td",null,O(_.name),1),l("td",null,O(_.recruitment_type),1),l("td",null,O(_.department),1),l("td",null,O(_.research_direction),1)]))),128))])])])]),_:1}))}},nr=P(or,[["__scopeId","data-v-039f32d5"]]),Ci=Object.freeze(Object.defineProperty({__proto__:null,default:nr},Symbol.toStringTag,{value:"Module"})),sr={};function rr(h,e){return" 介绍 "}const ir=P(sr,[["render",rr]]),Ii=Object.freeze(Object.defineProperty({__proto__:null,default:ir},Symbol.toStringTag,{value:"Module"})),dr={};function ur(h,e){return" 新闻 "}const cr=P(dr,[["render",ur]]),Fi=Object.freeze(Object.defineProperty({__proto__:null,default:cr},Symbol.toStringTag,{value:"Module"})),pr={};function mr(h,e){return" 成员 "}const _r=P(pr,[["render",mr]]),Pi=Object.freeze(Object.defineProperty({__proto__:null,default:_r},Symbol.toStringTag,{value:"Module"})),fr={};function vr(h,e){return" 学术 "}const br=P(fr,[["render",vr]]),Di=Object.freeze(Object.defineProperty({__proto__:null,default:br},Symbol.toStringTag,{value:"Module"})),yr={class:"grid grid-cols-3 gap-4"},hr={class:"flex items-center gap-2"},gr={key:0,class:"text-center py-8 text-gray-500"},wr={class:"mt-4 flex justify-between"},xr={class:"flex gap-4"},$r=z({__name:"UniversityLevel",setup(h){const e=X();H(async()=>{try{await e.fetchUniversities()}catch{S.error("加载院校数据失败")}});const s=()=>{e.universities.push({name:"",level:""})},d=async _=>{e.universities.splice(_,1),await e.saveUniversities()},i=async()=>{try{await e.saveUniversities(),S.success("院校数据提交成功")}catch{S.error("院校数据提交失败")}};return K(()=>e.universities,()=>{e.isInitializing||S.warning("您已修改院校数据，请记得提交更改")},{deep:!0}),(_,o)=>{const c=se,m=ne,p=oe,a=R;return r(),f("div",null,[l("div",yr,[(r(!0),f(j,null,M(g(e).universities,(u,v)=>(r(),f("div",{key:v,class:"border p-4 rounded"},[l("div",hr,[t(c,{modelValue:u.name,"onUpdate:modelValue":b=>u.name=b,placeholder:"请输入院校名称"},null,8,["modelValue","onUpdate:modelValue"]),t(p,{modelValue:u.level,"onUpdate:modelValue":b=>u.level=b,placeholder:"选择等级",style:{width:"120px"}},{default:n(()=>[t(m,{label:"A",value:"A"}),t(m,{label:"B",value:"B"}),t(m,{label:"C",value:"C"}),t(m,{label:"国际前100",value:"国际前100"}),t(m,{label:"国际前200",value:"国际前200"})]),_:2},1032,["modelValue","onUpdate:modelValue"]),t(a,{type:"danger",onClick:b=>d(v),size:"small"},{default:n(()=>o[0]||(o[0]=[x("删除")])),_:2},1032,["onClick"])])]))),128))]),g(e).universities.length===0?(r(),f("div",gr,O(g(e).isInitializing?"加载中...":"暂无数据"),1)):B("",!0),l("div",wr,[l("div",xr,[t(a,{type:"primary",onClick:s},{default:n(()=>o[1]||(o[1]=[x("新增院校")])),_:1})]),t(a,{type:"success",onClick:i},{default:n(()=>o[2]||(o[2]=[x("提交更改")])),_:1})])])}}}),kr=Object.freeze(Object.defineProperty({__proto__:null,default:$r},Symbol.toStringTag,{value:"Module"})),Vr={class:"mt-4 flex justify-between"},Sr={class:"flex gap-4"},Cr=z({__name:"MajorCategory",setup(h){const e=X();H(async()=>{try{await e.fetchMajors()}catch{S.error("加载专业数据失败")}});const s=()=>{e.majors.push({name:"",category:""})},d=async _=>{e.majors.splice(_,1),await e.saveMajors()},i=async()=>{try{await e.saveMajors(),S.success("专业数据提交成功")}catch{S.error("专业数据提交失败")}};return K(()=>e.majors,()=>{e.isInitializing||S.warning("您已修改专业数据，请记得提交更改")},{deep:!0}),(_,o)=>{const c=se,m=W,p=ne,a=oe,u=R,v=te;return r(),f("div",null,[t(v,{data:g(e).majors,style:{width:"100%"}},{default:n(()=>[t(m,{prop:"name",label:"专业名称"},{default:n(({row:b})=>[t(c,{modelValue:b.name,"onUpdate:modelValue":V=>b.name=V,placeholder:"请输入专业名称"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(m,{prop:"category",label:"分类"},{default:n(({row:b})=>[t(a,{modelValue:b.category,"onUpdate:modelValue":V=>b.category=V,placeholder:"选择分类"},{default:n(()=>[t(p,{label:"可录取专业",value:"可录取专业"}),t(p,{label:"数学类",value:"数学类"}),t(p,{label:"电子信息类",value:"电子信息类"}),t(p,{label:"自动化类",value:"自动化类"}),t(p,{label:"其他工科",value:"其他工科"}),t(p,{label:"理科（非数学）",value:"理科（非数学）"}),t(p,{label:"文商科",value:"文商科"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),t(m,{label:"操作"},{default:n(({$index:b})=>[t(u,{type:"danger",onClick:V=>d(b),size:"small"},{default:n(()=>o[0]||(o[0]=[x("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l("div",Vr,[l("div",Sr,[t(u,{type:"primary",onClick:s},{default:n(()=>o[1]||(o[1]=[x("新增专业")])),_:1})]),t(u,{type:"success",onClick:i},{default:n(()=>o[2]||(o[2]=[x("提交更改")])),_:1})])])}}}),Ir=Object.freeze(Object.defineProperty({__proto__:null,default:Cr},Symbol.toStringTag,{value:"Module"})),Fr={class:"mt-4 flex justify-between"},Pr={class:"flex gap-4"},Dr=z({__name:"PersonnelManagement",setup(h){const e=X();H(async()=>{try{await e.fetchPersonnel()}catch{S.error("加载专业数据失败")}});const s=()=>{e.personnel.push({name:"",recruitment_type:"",department:"",research_direction:"",order:e.personnel.length})},d=async o=>{e.personnel.splice(o,1),await e.savePersonnel()},i=async()=>{try{await e.savePersonnel(),S.success("人员数据提交成功")}catch{S.error("人员数据提交失败")}};H(()=>{const o=document.querySelector(".el-table__body-wrapper tbody");o&&new Gt(o,{handle:".move-icon",animation:150,onEnd:({newIndex:c,oldIndex:m})=>{if(typeof c=="number"&&typeof m=="number"){const p=e.personnel.splice(m,1)[0];e.personnel.splice(c,0,p),e.personnel.forEach((a,u)=>{a.order=u}),S.warning("您已修改人员顺序，请记得提交更改")}}})});const _=()=>"draggable-row";return K(()=>e.personnel,()=>{e.isInitializing||S.warning("您已修改人员数据，请记得提交更改")},{deep:!0}),(o,c)=>{const m=Je,p=W,a=se,u=ne,v=oe,b=R,V=te;return r(),f("div",null,[t(V,{data:g(e).personnel,style:{width:"100%"},"row-key":"name","row-class-name":_},{default:n(()=>[t(p,{width:"40"},{default:n(()=>[t(m,{class:"move-icon cursor-move"},{default:n(()=>[t(g(Qt))]),_:1})]),_:1}),t(p,{prop:"order",label:"序号",width:"60"},{default:n(({row:w})=>[x(O(w.order+1),1)]),_:1}),t(p,{prop:"name",label:"姓名"},{default:n(({row:w})=>[t(a,{modelValue:w.name,"onUpdate:modelValue":y=>w.name=y,placeholder:"请输入姓名"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(p,{prop:"recruitment_type",label:"招生类型"},{default:n(({row:w})=>[t(v,{modelValue:w.recruitment_type,"onUpdate:modelValue":y=>w.recruitment_type=y,placeholder:"选择招生类型"},{default:n(()=>[t(u,{label:"博士生、直博生、硕士生",value:"博士生、直博生、硕士生"}),t(u,{label:"硕士生",value:"硕士生"}),t(u,{label:"博士生、直博生",value:"博士生、直博生"}),t(u,{label:"暂不招生",value:"暂不招生"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),t(p,{prop:"department",label:"所属院系"},{default:n(({row:w})=>[t(a,{modelValue:w.department,"onUpdate:modelValue":y=>w.department=y,placeholder:"请输入所属院系"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(p,{prop:"research_direction",label:"研究方向"},{default:n(({row:w})=>[t(a,{modelValue:w.research_direction,"onUpdate:modelValue":y=>w.research_direction=y,placeholder:"请输入研究方向"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(p,{label:"操作"},{default:n(({$index:w})=>[t(b,{type:"danger",onClick:y=>d(w),size:"small"},{default:n(()=>c[0]||(c[0]=[x("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l("div",Fr,[l("div",Pr,[t(b,{type:"primary",onClick:s},{default:n(()=>c[1]||(c[1]=[x("新增人员")])),_:1})]),t(b,{type:"success",onClick:i},{default:n(()=>c[2]||(c[2]=[x("提交更改")])),_:1})])])}}}),Tr=P(Dr,[["__scopeId","data-v-69f7b6aa"]]),jr=Object.freeze(Object.defineProperty({__proto__:null,default:Tr},Symbol.toStringTag,{value:"Module"})),Or={class:"date-setting"},Ur={class:"mb-8"},Ar={class:"flex items-center"},Mr={class:"mt-8 mb-4"},Nr={class:"flex items-center"},Lr={class:"mt-4 text-right"},Er=z({__name:"DateSetting",setup(h){const e=Dt(),s=X(),d=C(new Date().getFullYear());H(async()=>{try{await s.fetchYear(),s.year.year>0&&(d.value=s.year.year,_.value=d.value,await e.fetchAdmissionDatesByYear(_.value))}catch(p){console.error("初始化数据失败:",p)}});const i=async p=>{try{await s.saveYear(p),_.value=p,await e.fetchAdmissionDatesByYear(p),S.success("当前招生年份设置成功")}catch(a){console.error("保存当前招生年份失败:",a),S.error("保存当前招生年份失败")}},_=C(d.value),o=E(()=>{const p=[],a=new Date().getFullYear();for(let u=a-1;u<=a+2;u++)p.push(u);return p}),c=async p=>{await e.fetchAdmissionDatesByYear(p)},m=async()=>{await e.saveAdmissionDatesByYear(_.value)};return(p,a)=>{const u=ne,v=oe,b=W,V=Wt,w=te,y=R,U=he;return r(),f("div",Or,[l("div",Ur,[l("div",Ar,[a[2]||(a[2]=l("span",{class:"mr-2"},"当前招生年份：",-1)),t(v,{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=k=>d.value=k),placeholder:"请选择当前招生年份",class:"w-48",onChange:i},{default:n(()=>[(r(!0),f(j,null,M(o.value,k=>(r(),F(u,{key:k,label:k+"年",value:k},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),t(Tt),l("div",Mr,[l("div",Nr,[a[3]||(a[3]=l("span",{class:"mr-2"},"招生日期设置：",-1)),t(v,{modelValue:_.value,"onUpdate:modelValue":a[1]||(a[1]=k=>_.value=k),placeholder:"请选择年份",class:"w-48",onChange:c},{default:n(()=>[(r(!0),f(j,null,M(o.value,k=>(r(),F(u,{key:k,label:k+"年",value:k},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),le((r(),F(w,{data:g(e).admissionDates,border:""},{default:n(()=>[t(b,{prop:"type",label:"招生类型",width:"180"}),t(b,{label:"开始时间"},{default:n(({row:k})=>[t(V,{modelValue:k.start_time,"onUpdate:modelValue":D=>k.start_time=D,type:"datetime",placeholder:"选择开始时间",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(b,{label:"结束时间"},{default:n(({row:k})=>[t(V,{modelValue:k.end_time,"onUpdate:modelValue":D=>k.end_time=D,type:"datetime",placeholder:"选择结束时间",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"])),[[U,g(e).isLoading]]),l("div",Lr,[t(y,{type:"primary",onClick:m,loading:g(e).isLoading},{default:n(()=>a[4]||(a[4]=[x(" 保存设置 ")])),_:1},8,["loading"])])])}}}),zr=P(Er,[["__scopeId","data-v-c3d4b505"]]),Rr=Object.freeze(Object.defineProperty({__proto__:null,default:zr},Symbol.toStringTag,{value:"Module"})),Br={class:"mt-4 flex justify-between"},qr=z({__name:"AwardSetting",setup(h){const e=X();H(async()=>{try{await e.fetchAwards()}catch{S.error("加载奖项数据失败")}});const s=()=>{e.awards.push({name:"",level:"",category:""})},d=async _=>{e.awards.splice(_,1),await e.saveAwards()},i=async()=>{try{await e.saveAwards(),S.success("奖项配置保存成功")}catch{S.error("奖项配置保存失败")}};return K(()=>e.awards,()=>{e.isInitializing||S.warning("您已修改奖项数据，请记得提交更改")},{deep:!0}),(_,o)=>{const c=se,m=W,p=ne,a=oe,u=R,v=te;return r(),f("div",null,[t(v,{data:g(e).awards,style:{width:"100%"}},{default:n(()=>[t(m,{prop:"name",label:"奖项名称"},{default:n(({row:b})=>[t(c,{modelValue:b.name,"onUpdate:modelValue":V=>b.name=V,placeholder:"请输入奖项名称"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(m,{prop:"level",label:"奖项等级"},{default:n(({row:b})=>[t(a,{modelValue:b.level,"onUpdate:modelValue":V=>b.level=V,placeholder:"选择奖项等级"},{default:n(()=>[t(p,{label:"国家级",value:"国家级"}),t(p,{label:"省部级",value:"省部级"}),t(p,{label:"校级",value:"校级"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),t(m,{prop:"category",label:"奖项类别"},{default:n(({row:b})=>[t(c,{modelValue:b.category,"onUpdate:modelValue":V=>b.category=V,placeholder:"请输入奖项类别"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(m,{label:"操作"},{default:n(({$index:b})=>[t(u,{type:"danger",onClick:V=>d(b),size:"small"},{default:n(()=>o[0]||(o[0]=[x("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l("div",Br,[t(u,{type:"primary",onClick:s},{default:n(()=>o[1]||(o[1]=[x("新增奖项")])),_:1}),t(u,{type:"success",onClick:i},{default:n(()=>o[2]||(o[2]=[x("提交更改")])),_:1})])])}}}),Yr=Object.freeze(Object.defineProperty({__proto__:null,default:qr},Symbol.toStringTag,{value:"Module"})),Hr={class:"mt-4 flex justify-between"},Wr=z({__name:"YearSetting",setup(h){const e=X();H(async()=>{try{await e.fetchYears()}catch{S.error("加载年份数据失败")}});const s=()=>{e.years.push({year:"",status:""})},d=async _=>{e.years.splice(_,1),await e.saveYears()},i=async()=>{try{await e.saveYears(),S.success("年份配置保存成功")}catch{S.error("年份配置保存失败")}};return K(()=>e.years,()=>{e.isInitializing||S.warning("您已修改年份数据，请记得提交更改")},{deep:!0}),(_,o)=>{const c=se,m=W,p=ne,a=oe,u=R,v=te;return r(),f("div",null,[t(v,{data:g(e).years,style:{width:"100%"}},{default:n(()=>[t(m,{prop:"year",label:"年份"},{default:n(({row:b})=>[t(c,{modelValue:b.year,"onUpdate:modelValue":V=>b.year=V,placeholder:"请输入年份"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(m,{prop:"status",label:"状态"},{default:n(({row:b})=>[t(a,{modelValue:b.status,"onUpdate:modelValue":V=>b.status=V,placeholder:"选择状态"},{default:n(()=>[t(p,{label:"启用",value:"启用"}),t(p,{label:"禁用",value:"禁用"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),t(m,{label:"操作"},{default:n(({$index:b})=>[t(u,{type:"danger",onClick:V=>d(b),size:"small"},{default:n(()=>o[0]||(o[0]=[x("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l("div",Hr,[t(u,{type:"primary",onClick:s},{default:n(()=>o[1]||(o[1]=[x("新增年份")])),_:1}),t(u,{type:"success",onClick:i},{default:n(()=>o[2]||(o[2]=[x("提交更改")])),_:1})])])}}}),Kr=Object.freeze(Object.defineProperty({__proto__:null,default:Wr},Symbol.toStringTag,{value:"Module"}));export{Ii as A,Fi as B,Pi as C,Di as D,li as a,oi as b,ni as c,si as d,ri as e,ii as f,di as g,ui as h,ai as i,ci as j,pi as k,mi as l,_i as m,fi as n,vi as o,bi as p,yi as q,hi as r,gi as s,wi as t,xi as u,$i as v,ki as w,Vi as x,Si as y,Ci as z};
