import{_ as C,u as H,b as Be,d as Ie,B as Ye,e as qe,f as He,Z as Je,K as Ke,h as Ge,i as de,j as ke,k as We,l as Ze,r as Ce,m as pe,n as Qe,o as Te,p as De,q as me,s as ue,t as Xe,v as je,w as et,x as tt,y as oe,z as at,D as lt}from"./main.js";import{g,o as i,h as l,K as Fe,V as O,ai as M,U as I,T as V,C as L,i as P,l as U,H as N,aR as we,R as B,W as t,r as J,Q as n,b as D,L as ot,aS as xe,O as nt,u as y,G as Y,w as W,aw as re,v as st,a1 as ie,aT as Oe,M as ce,aU as rt,D as it,S as se,aV as ne,aW as dt}from"./vendor-core.js";import{a as z,b as Ue,c as K,E as k,d as R,e as G,f as ut,g as q,h as Me,j as $e,k as ct,l as pt,m as mt,n as _t,o as Z,p as Q,q as X,r as Ae,v as _e,s as ft,t as fe,u as ve,w as Ve,x as te,y as Le,A as Pe,B as vt,C as bt}from"./vendor-element-plus.js";import{v as yt,c9 as be,ca as ht,cb as gt}from"./vendors.js";import{i as ee}from"./vendor-echarts.js";import{u as ae,w as Ee,r as wt}from"./vendor-xlsx.js";import{Q as xt}from"./vendor-icons.js";const $t={},Vt={class:"hero-section"},St={class:"container"};function kt(b,e){return i(),g("div",Vt,[l("div",St,[Fe(b.$slots,"default",{},void 0,!0)])])}const Ct=C($t,[["render",kt],["__scopeId","data-v-d4948bb0"]]),Dt={data(){return{footerSections:[{title:"项目开源",links:[{name:"个人项目",url:"https://github.com/JacksonHe04",icon:"i iconfont icon-github"},{name:"Gitee 仓库",url:"https://gitee.com/JacksonHe04/PalmAdmissionsSystem",icon:"i iconfont icon-github"},{name:"GitHub 仓库",url:"https://github.com/JacksonHe04/PalmAdmissionsSystem",icon:"i iconfont icon-github"}]},{title:"联系我们",links:[{name:"联系管理员",url:""},{name:"联系开发者",url:""}]},{title:"更多网站",links:[{name:"东南大学官网",url:"https://www.seu.edu.cn/"},{name:"东南大学计算机学院",url:"https://cs.sdu.edu.cn/"},{name:"东大计软智导航",url:"https://seucseweb.github.io/"}]},{title:"关于 PALM",links:[{name:"PALM 实验室",url:"https://palm.seu.edu.cn/"},{name:"研究生申请指南",url:"https://palm.seu.edu.cn/application.html"},{name:"实验室成员",url:"https://palm.seu.edu.cn/members.html"}]}]}}},Pt={class:"w-full mt-0 py-5 sm:py-10 px-4 sm:px-6 lg:px-8"},It={class:"mx-auto max-w-screen-lg px-4 sm:px-6 lg:px-8"},Tt={class:"flex flex-col sm:flex-row gap-4 sm:gap-8"},jt={class:"text-gray-500 font-bold mb-2"},Ft={class:"space-y-2"},Ot=["href"];function Ut(b,e,s,u,r,m){return i(),g("footer",Pt,[l("div",It,[l("div",Tt,[(i(!0),g(O,null,M(r.footerSections,(a,c)=>(i(),g("div",{key:c,class:"mx-auto my-0 md:text-left"},[l("h3",jt,I(a.title),1),l("ul",Ft,[(i(!0),g(O,null,M(a.links,(f,d)=>(i(),g("li",{key:d},[l("a",{href:f.url,target:"_blank",class:"text-gray-500 hover:text-blue-500"},I(f.name),9,Ot)]))),128))])]))),128))]),e[0]||(e[0]=l("div",{class:"mt-8 sm:mt-10 border-t border-white pt-5 sm:pt-10"},[l("p",{class:"text-center text-gray-500"},[V(" CopyRight © 何锦诚 | 刘宇轩 | 戴雨成 | 胡瀚 "),l("br",{class:"md:hidden"}),V("2025 All rights reserved. ")]),l("p",{class:"text-center text-gray-500 mt-3"}," 东南大学 2025 年创业实践项目作品 ")],-1))])])}const Mt=C(Dt,[["render",Ut],["__scopeId","data-v-756ee15a"]]),At={class:"container mx-auto flex justify-between items-center py-3 md:py-4"},Lt={class:"hidden md:flex space-x-8"},Et={key:0,class:"md:hidden bg-transparent py-4 px-4 space-y-4"},zt=L({__name:"Header",setup(b){const e=we(),s=P(!1),u=H(),r=P(new Date().getFullYear()),m=U(()=>Be(r.value));N(async()=>{try{await u.fetchYear(),r.value=u.year.year}catch(f){console.error("Failed to fetch year:",f)}});const a=U(()=>e.path.startsWith("/admin")?{backgroundColor:"white"}:{backgroundImage:"url('/home-bg-m.png')"}),c=()=>{s.value=!s.value};return(f,d)=>{const o=J("RouterLink");return i(),g("nav",{class:"bg-cover bg-center",style:ot(a.value)},[l("div",At,[t(o,{to:"/",class:"flex items-center gap-2 text-2xl font-bold text-gray-800"},{default:n(()=>d[0]||(d[0]=[l("img",{src:Ie,alt:"Palm Logo",class:"logo"},null,-1),l("div",{class:"nav-title"},"SEU PALM Lab",-1)])),_:1}),l("div",Lt,[(i(!0),g(O,null,M(m.value,p=>(i(),D(o,{key:p.to,to:p.to,class:"text-gray-600 hover:text-gray-800"},{default:n(()=>[V(I(p.name),1)]),_:2},1032,["to"]))),128))]),l("div",{class:"md:hidden"},[l("button",{onClick:c,class:"text-gray-600 hover:text-gray-800"},d[1]||(d[1]=[l("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16m-7 6h7"})],-1)]))])]),s.value?(i(),g("div",Et,[(i(!0),g(O,null,M(m.value,p=>(i(),D(o,{key:p.to,to:p.to,class:"block text-gray-600 hover:text-gray-800"},{default:n(()=>[V(I(p.name),1)]),_:2},1032,["to"]))),128))])):B("",!0)],4)}}}),Nt=C(zt,[["__scopeId","data-v-b6d2c5e0"]]),Rt={},Bt={class:"main mt-14 md:mt-16"};function Yt(b,e){const s=J("RouterView");return i(),g("div",Bt,[t(s)])}const qt=C(Rt,[["render",Yt],["__scopeId","data-v-7aa6606c"]]),Ht={__name:"index",setup(b){return(e,s)=>(i(),D(Ct,null,{default:n(()=>[t(Nt),t(qt),t(Ye)]),_:1}))}},ur=Object.freeze(Object.defineProperty({__proto__:null,default:Ht},Symbol.toStringTag,{value:"Module"})),Jt={},Kt={class:"not-found"},Gt={class:"not-found-content"},Wt={class:"action-form"};function Zt(b,e){const s=z,u=J("RouterLink");return i(),g("div",Kt,[l("div",Gt,[e[1]||(e[1]=l("h1",{class:"not-found-title"},"404",-1)),e[2]||(e[2]=l("p",{class:"not-found-description"}," 抱歉，您访问的页面不存在 ",-1)),l("div",Wt,[t(u,{to:"/"},{default:n(()=>[t(s,{type:"primary",size:"large"},{default:n(()=>e[0]||(e[0]=[V("返回首页")])),_:1})]),_:1})])])])}const Qt=C(Jt,[["render",Zt],["__scopeId","data-v-da6ea603"]]),cr=Object.freeze(Object.defineProperty({__proto__:null,default:Qt},Symbol.toStringTag,{value:"Module"})),Xt={},ea={class:"hero"},ta={class:"hero-content"},aa={class:"email-form"};function la(b,e){const s=z,u=J("RouterLink");return i(),g("div",ea,[l("div",ta,[e[1]||(e[1]=l("h1",{class:"hero-title"},"PAttern Learning and Mining(PALM) Lab",-1)),e[2]||(e[2]=l("p",{class:"hero-description"}," PALM 实验室隶属东南大学计算机科学与工程学院，地点位于东南大学九龙湖校区计算机楼，主要从事数据挖掘与知识发现、机器学习、模式识别以及相关领域的基础性、前沿性、创新性的研究工作。 ",-1)),l("div",aa,[t(u,{to:"/join"},{default:n(()=>[t(s,{type:"primary",size:"large"},{default:n(()=>e[0]||(e[0]=[V("申请加入我们")])),_:1})]),_:1})])]),e[3]||(e[3]=xe('<div class="hero-image" data-v-db913498><div class="achievement-badge" data-v-db913498><div style="display:flex;align-items:center;gap:8px;" data-v-db913498><div data-v-db913498><div style="font-weight:bold;font-size:20px;" data-v-db913498>100+</div><div style="font-size:14px;color:#6b7280;" data-v-db913498>Students</div></div></div></div><img src="'+qe+'" alt="home-img" class="home-img" data-v-db913498><div class="users-badge" data-v-db913498><div style="font-weight:bold;font-size:20px;" data-v-db913498>25+</div><div style="font-size:14px;color:#6b7280;" data-v-db913498>Mentors</div></div></div>',1))])}const oa=C(Xt,[["render",la],["__scopeId","data-v-db913498"]]),na={class:"cards"},sa={href:"https://palm.seu.edu.cn/application.html"},ra={class:"stats-card h-full"},ia={class:"stats-number"},da={class:"small-cards-list"},ua={class:"small-cards"},ca=["href"],pa={class:"small-card"},ma={__name:"HomeCards",setup(b){const e=H(),s=P("");N(async()=>{await e.fetchYear(),s.value=e.year.year});const u=P([{icon:"👥",title:"PALM 实验室简介",href:"https://palm.seu.edu.cn/home.html"},{icon:"👩‍🎓",title:"研究队伍及人才培养",href:"https://palm.seu.edu.cn/members.html"},{icon:"🎓",title:"科学研究及主要成果",href:"https://palm.seu.edu.cn/publication.html"},{icon:"📚️",title:"科研资源共享",href:"https://palm.seu.edu.cn/resource.html"}]);return(r,m)=>(i(),g("div",na,[l("a",sa,[l("div",ra,[l("div",ia,[V(I(s.value),1),m[0]||(m[0]=l("br",null,null,-1)),m[1]||(m[1]=V("Join Us"))]),m[2]||(m[2]=l("div",null,"请阅读PALM实验室招生说明",-1)),m[3]||(m[3]=l("div",{class:"mt-2 read"},"点击阅读",-1))])]),l("div",da,[m[4]||(m[4]=xe('<a href="https://palm.seu.edu.cn" data-v-74d98a48><div class="horizontal-card" data-v-74d98a48><div class="flex justify-center items-center" data-v-74d98a48><div data-v-74d98a48><div style="font-weight:600;" data-v-74d98a48> 东南大学 PALM 实验室 </div><p style="font-size:14px;color:#6b7280;margin-top:4px;" data-v-74d98a48> 计算机科学与工程学院 </p><div style="margin-top:8px;" data-v-74d98a48>了解详情</div></div></div></div></a>',1)),l("div",ua,[(i(!0),g(O,null,M(u.value,(a,c)=>(i(),g("a",{key:c,href:a.href},[l("div",pa,[l("span",null,I(a.icon),1),l("div",null,I(a.title),1)])],8,ca))),128))])])]))}},_a=C(ma,[["__scopeId","data-v-74d98a48"]]),fa={class:"home-main my-0 md:my-8 pb-20 px-5"},va={__name:"FrontMain",setup(b){return(e,s)=>(i(),g(O,null,[l("div",fa,[Fe(e.$slots,"default",{},void 0,!0)]),t(Mt)],64))}},Se=C(va,[["__scopeId","data-v-8a3fb0bd"]]),ba={__name:"Home",setup(b){return(e,s)=>(i(),D(Se,null,{default:n(()=>[t(oa),t(_a)]),_:1}))}},ya={__name:"index",setup(b){return(e,s)=>(i(),D(ba))}},pr=Object.freeze(Object.defineProperty({__proto__:null,default:ya},Symbol.toStringTag,{value:"Module"})),ha={class:"recruitment-card"},ga={class:"card-content"},wa={class:"icon"},xa=["src","alt"],$a={class:"text-content"},Va={class:"info"},Sa={key:1},ka=L({__name:"JoinCard",props:{iconSrc:{},title:{},labelText:{},description:{},path:{}},setup(b){return(e,s)=>{const u=J("RouterLink");return i(),D(u,{to:e.path},{default:n(()=>[l("div",ha,[l("div",ga,[l("div",wa,[l("img",{src:e.iconSrc,alt:e.title,class:"svg-icon"},null,8,xa)]),l("div",$a,[l("h3",null,I(e.title),1),l("div",Va,[e.labelText?(i(),g(O,{key:0},[l("p",null,I(e.labelText)+":",1),l("p",null,I(e.description),1)],64)):(i(),g("p",Sa,I(e.description),1))]),s[0]||(s[0]=l("div",{class:"arrow"},[l("p",{class:"apply-text"},"立即申请"),l("p",{class:"arrow-icon"},"→")],-1))])])])]),_:1},8,["to"])}}}),Ca=C(ka,[["__scopeId","data-v-5f078945"]]),Da={class:"join-container mt-24"},Pa={class:"recruitment-grid"},Ia=L({__name:"index",setup(b){const e=[{iconSrc:He,title:"硕士推免招生",labelText:"招收对象",description:"获得推免资格的优秀本科应届生",path:"/apply/recommend-master"},{iconSrc:Je,title:"直博招生",labelText:"招收对象",description:"获得推免资格的优秀本科应届生",path:"/apply/direct-phd"},{iconSrc:Ke,title:"考研招生",labelText:"招收方向",description:"全国硕士研究生统一招生考试招生",path:"/apply/exam-master"},{iconSrc:Ge,title:"博士招生",labelText:"招收对象",description:"全年招收优秀博士研究生",path:"/apply/phd"}];return(s,u)=>(i(),g("div",Da,[l("div",Pa,[(i(),g(O,null,M(e,r=>t(Ca,nt({key:r.title,ref_for:!0},r),null,16)),64))])]))}}),Ta=C(Ia,[["__scopeId","data-v-d03097f0"]]),mr=Object.freeze(Object.defineProperty({__proto__:null,default:Ta},Symbol.toStringTag,{value:"Module"})),ja=()=>{const b=P(["name","applicationType"]);return{requiredFields:b,isFieldRequired:u=>b.value.includes(u),validateForm:(u,r)=>{for(const m of b.value){const a=u[m];if(a===void 0||a===""||Array.isArray(a)&&a.length===0){const c=r.find(f=>f.variableName===m);throw new Error(`${(c==null?void 0:c.name)||m}是必填项`)}}return!0}}},Fa=b=>{const e=de(),s=()=>{const m=Number(b.value.rank),a=Number(b.value.majorCount);if(!isNaN(m)&&!isNaN(a)&&a!==0){const c=(m/a*100).toFixed(2);return e.updateField("percentage",`${c}%`),`${c}%`}return""},u=P({award1_contribution:{rank:"",total:""},award2_contribution:{rank:"",total:""},award3_contribution:{rank:"",total:""}});return{calculatePercentage:s,updateContribution:(m,a)=>{if(u.value[m]=a,a.rank&&a.total){const c=`${a.rank}/${a.total}`;return e.updateField(m,c),c}return e.updateField(m,""),""},contributionData:u}},Oa={class:"upload-container"},Ua={key:0,class:"file-list"},Ma=L({__name:"UploadFile",setup(b){const e=P([]),s=de(),u=U(()=>s.formData.id),r=U(()=>ke.headers(u.value)),m=o=>["application/zip","application/x-zip-compressed"].includes(o.type)?o.size/1024/1024<100?!0:(k.error("文件大小不能超过100MB！"),!1):(k.error("只能上传ZIP格式的文件！"),!1),a=o=>{k.success("文件上传成功"),d(),s.updateField("proofs",o.file_path)},c=()=>{k.error("文件上传失败，请重试")},f=async o=>{try{await Ze(o.id),k.success("文件删除成功"),d()}catch{k.error("文件删除失败，请重试")}},d=async()=>{try{const{data:o}=await We(u.value);e.value=o}catch(o){console.error("获取文件列表失败：",o.message)}};return(o,p)=>{const w=z,h=Ue,_=R,x=K;return i(),g("div",Oa,[t(h,{class:"upload-area",action:y(ke).action,headers:r.value,"on-success":a,"on-error":c,"before-upload":m,multiple:""},{tip:n(()=>p[1]||(p[1]=[l("div",{class:"el-upload__tip"}," 请上传ZIP格式的压缩文件，文件大小不超过100MB ",-1)])),default:n(()=>[t(w,{type:"primary"},{default:n(()=>p[0]||(p[0]=[V("上传证明材料")])),_:1})]),_:1},8,["action","headers"]),e.value.length>0?(i(),g("div",Ua,[p[3]||(p[3]=l("h3",null,"已上传文件：",-1)),t(x,{data:e.value,style:{width:"100%"}},{default:n(()=>[t(_,{prop:"name",label:"文件名"}),t(_,{prop:"file_type",label:"类型",width:"100"}),t(_,{prop:"upload_time",label:"上传时间",width:"180"}),t(_,{fixed:"right",label:"操作",width:"100"},{default:n(v=>[t(w,{type:"danger",size:"small",onClick:A=>f(v.row)},{default:n(()=>p[2]||(p[2]=[V(" 删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])):B("",!0)])}}}),Aa=C(Ma,[["__scopeId","data-v-65f8b3df"]]),La={class:"upload-container"},Ea=L({__name:"UploadResume",setup(b){const e=de(),s=U(()=>e.formData.id),u=U(()=>Ce.headers(s.value)),r=c=>c.type==="application/pdf"?c.size/1024/1024<10?!0:(k.error("文件大小不能超过10MB！"),!1):(k.error("只能上传PDF格式的文件！"),!1),m=c=>{k.success("简历上传成功"),e.updateField("resume",c.file_path)},a=()=>{k.error("简历上传失败，请重试")};return(c,f)=>{const d=z,o=Ue;return i(),g("div",La,[t(o,{class:"upload-area",action:y(Ce).action,headers:u.value,"on-success":m,"on-error":a,"before-upload":r,limit:1,"auto-upload":!0},{tip:n(()=>f[1]||(f[1]=[l("div",{class:"el-upload__tip"}," 请上传PDF格式的简历文件，文件大小不超过10MB ",-1)])),default:n(()=>[t(d,{type:"primary"},{default:n(()=>f[0]||(f[0]=[V("上传简历")])),_:1})]),_:1},8,["action","headers"])])}}}),za=C(Ea,[["__scopeId","data-v-2ec8b729"]]),ye=[{value:"A",label:"A"},{value:"B",label:"B"},{value:"C",label:"C"},{value:"其他",label:"其他"}],he=[{value:"国家级",label:"国家级"},{value:"省级",label:"省级"},{value:"校级",label:"校级"},{value:"其他",label:"其他"}],ge=[{value:"特等奖",label:"特等奖"},{value:"一等奖",label:"一等奖"},{value:"二等奖",label:"二等奖"},{value:"三等奖",label:"三等奖"},{value:"金奖",label:"金奖"},{value:"银奖",label:"银奖"},{value:"铜奖",label:"铜奖"}],Na=[{value:"男",label:"男"},{value:"女",label:"女"}],Ra=b=>({sortedFields:U(()=>{const s=["论文一","论文二","论文三","奖项一","奖项二","奖项三"],u=new Map,r=[];s.forEach(a=>u.set(a,[])),b.forEach(a=>{var f;let c=!1;for(const d of s)if(a.name.includes(d)){(f=u.get(d))==null||f.push(a),c=!0;break}c||r.push(a)});const m=[];return m.push(...r),s.forEach(a=>{const c=u.get(a)||[];m.push(...c)}),m})}),Ba={class:"autocomplete-container"},Ya=["placeholder"],qa={class:"suggestions-container"},Ha=["onMousedown"],Ja=L({__name:"AutoCompleteInput",props:{modelValue:{},options:{},placeholder:{}},emits:["update:modelValue"],setup(b,{emit:e}){const s=b,u=e,r=P(s.modelValue),m=P(!1);Y(()=>s.modelValue,o=>{r.value=o});const a=U(()=>{if(!r.value)return s.options;const o=r.value.toLowerCase();return s.options.filter(p=>p.label.toLowerCase().includes(o)||p.value.toLowerCase().includes(o))}),c=()=>{u("update:modelValue",r.value),m.value=!0},f=o=>{r.value=o.value,u("update:modelValue",o.value),m.value=!1},d=()=>{setTimeout(()=>{m.value=!1},200)};return(o,p)=>(i(),g("div",Ba,[W(l("input",{type:"text","onUpdate:modelValue":p[0]||(p[0]=w=>r.value=w),placeholder:o.placeholder,class:"form-input",onInput:c,onFocus:p[1]||(p[1]=w=>m.value=!0),onBlur:d},null,40,Ya),[[re,r.value]]),W(l("div",qa,[(i(!0),g(O,null,M(a.value,w=>(i(),g("div",{key:w.value,class:"suggestion-item",onMousedown:h=>f(w)},I(w.label),41,Ha))),128))],512),[[st,m.value&&a.value.length>0]])]))}}),Ka=C(Ja,[["__scopeId","data-v-b8864236"]]),Ga=()=>{const b=we(),e=de(),s=H();return{getApplicationType:U(()=>{const r=b.path;let m="";switch(r){case"/apply/recommend-master":m="推免硕士";break;case"/apply/exam-master":m="考研硕士";break;case"/apply/phd":m="博士";break;case"/apply/direct-phd":m="直博";break;default:m=""}return e.updateField("applicationType",m),e.updateField("year",s.year.year),m})}},Wa={class:"form-item"},Za=["for"],Qa={class:"field-description"},Xa=["type","id","value","name","required"],el=["id","value","name"],tl=["id","value","name"],al=["id","value","name"],ll=["id","value","name","required"],ol=["id","value","name","required"],nl=["value"],sl={key:8,class:"flex gap-4 items-center"},rl={class:"flex-1"},il=["id"],dl={class:"flex-1"},ul=["id"],cl=["type","id","value","name","required"],pl=L({__name:"FormField",props:{field:{},modelValue:{},required:{type:Boolean,default:!1},options:{default:()=>[]},contributionData:{default:()=>({rank:"",total:""})}},emits:["update:modelValue","input","contribution-change"],setup(b,{emit:e}){const s=b,u=e,r=U({get:()=>s.modelValue,set:_=>u("update:modelValue",_)}),m=U(()=>(s.field.type==="text"||s.field.type==="number"||s.field.type==="email")&&s.field.variableName!=="percentage"&&s.field.variableName!=="year"),a=U(()=>s.field.type==="select"&&["本科学校","硕士学校"].includes(s.field.name)),c=U(()=>["award1_contribution","award2_contribution","award3_contribution"].includes(s.field.variableName)),f=P(s.contributionData.rank),d=P(s.contributionData.total),o=_=>{const x=_ instanceof Event?_.target.value:_;u("update:modelValue",x),_ instanceof Event&&u("input",_)},p=()=>{u("contribution-change",{rank:f.value,total:d.value}),f.value&&d.value?u("update:modelValue",`${f.value}/${d.value}`):u("update:modelValue","")};Y(()=>s.contributionData,_=>{f.value=_.rank,d.value=_.total},{deep:!0});const{getApplicationType:w}=Ga(),h=H();return(_,x)=>(i(),g("div",Wa,[l("label",{for:_.field.variableName},I(_.field.name),9,Za),l("div",Qa,I(_.field.description),1),m.value?(i(),g("input",{key:0,type:_.field.type,id:_.field.variableName,value:r.value,name:_.field.variableName,class:"form-input",required:_.required,onInput:o},null,40,Xa)):_.field.variableName==="year"?(i(),g("input",{key:1,type:"number",id:_.field.variableName,value:y(h).year.year,name:_.field.variableName,class:"form-input",disabled:""},null,8,el)):_.field.variableName==="percentage"?(i(),g("input",{key:2,type:"text",id:_.field.variableName,value:r.value,name:_.field.variableName,class:"form-input",disabled:""},null,8,tl)):_.field.variableName==="applicationType"?(i(),g("input",{key:3,type:"text",id:_.field.variableName,value:y(w),name:_.field.variableName,class:"form-input",disabled:""},null,8,al)):_.field.type==="textarea"?(i(),g("textarea",{key:4,id:_.field.variableName,value:r.value,name:_.field.variableName,class:"form-textarea",required:_.required,onInput:o},null,40,ll)):a.value?(i(),D(Ka,{key:5,"model-value":r.value,options:_.options,placeholder:"请输入"+_.field.name,"onUpdate:modelValue":o},null,8,["model-value","options","placeholder"])):_.field.type==="select"?(i(),g("select",{key:6,id:_.field.variableName,value:r.value,name:_.field.variableName,class:"form-select",required:_.required,onInput:o},[x[2]||(x[2]=l("option",{value:""},"请选择",-1)),(i(!0),g(O,null,M(_.options,v=>(i(),g("option",{key:v.value,value:v.value},I(v.label),9,nl))),128))],40,ol)):_.field.type==="boolean"?(i(),D(y(G),{key:7,id:_.field.variableName,"model-value":r.value,name:_.field.variableName,class:"form-switch",required:_.required,"onUpdate:modelValue":o},null,8,["id","model-value","name","required"])):c.value?(i(),g("div",sl,[l("div",rl,[W(l("input",{type:"number",id:`${_.field.variableName}_rank`,"onUpdate:modelValue":x[0]||(x[0]=v=>f.value=v),class:"form-input",placeholder:"贡献排名",min:"1",onInput:p},null,40,il),[[re,f.value]])]),x[3]||(x[3]=l("span",{class:"text-gray-500"},"/",-1)),l("div",dl,[W(l("input",{type:"number",id:`${_.field.variableName}_total`,"onUpdate:modelValue":x[1]||(x[1]=v=>d.value=v),class:"form-input",placeholder:"团队人数",min:"1",onInput:p},null,40,ul),[[re,d.value]])])])):(i(),g("input",{key:9,type:_.field.type,id:_.field.variableName,value:r.value,name:_.field.variableName,class:"form-input",required:_.required,onInput:o},null,40,cl))]))}}),ml=C(pl,[["__scopeId","data-v-90359f31"]]),_l={class:"new-apply-container"},fl={class:"dev-notice"},vl={key:0,class:"form-region"},bl={class:"region-title"},yl={class:"form-item-container"},hl=L({__name:"index",setup(b){const e=pe(),s=H(),u=U(()=>({"论文一 CCF等级":ye,"论文二 CCF等级":ye,"论文三 CCF等级":ye,"奖项一 等级":he,"奖项二 等级":he,"奖项三 等级":he,"奖项一 获奖情况":ge,"奖项二 获奖情况":ge,"奖项三 获奖情况":ge,性别:Na,本科学校:s.universities.map($=>({value:$.name,label:$.name})),硕士学校:s.universities.map($=>({value:$.name,label:$.name})),本科专业:s.majors.map($=>({value:$.name,label:$.name})),硕士专业:s.majors.map($=>({value:$.name,label:$.name})),第一志愿:s.personnel.map($=>({value:$.name,label:`${$.name} (${$.research_direction})`})),第二志愿:s.personnel.map($=>({value:$.name,label:`${$.name} (${$.research_direction})`})),第三志愿:s.personnel.map($=>({value:$.name,label:`${$.name} (${$.research_direction})`}))})),r=$=>u.value[$]||[],m=we(),a=Oe(),c=U(()=>{const $=m.path,S=e.fields.filter(T=>{switch($){case"/apply/recommend-master":return T.showInRecommendMaster;case"/apply/exam-master":return T.showInExamMaster;case"/apply/phd":return T.showInPhd;case"/apply/direct-phd":return T.showInDirectPhd;default:return!1}});return Ra(S).sortedFields.value}),f=$=>c.value.filter(S=>S.regionInForm===$),{isFieldRequired:d,validateForm:o}=ja(),p=async()=>{try{o(h.value,c.value),await w.submitForm(),k.success("申请提交成功"),a.push("/wait")}catch($){k.error($.message||w.submitError||"提交失败")}},w=de(),h=U(()=>w.formData),{calculatePercentage:_,contributionData:x,updateContribution:v}=Fa(h),A=()=>{const $={id:yt()};x.value={award1_contribution:{rank:"",total:""},award2_contribution:{rank:"",total:""},award3_contribution:{rank:"",total:""}},c.value.forEach(S=>{["award1_contribution","award2_contribution","award3_contribution"].includes(S.variableName)?$[S.variableName]="":S.variableName==="isAdjustable"?$[S.variableName]=!0:$[S.variableName]=S.type==="boolean"?!1:""}),w.setFormData($)};N(async()=>{await Promise.all([e.fetchFields(),s.fetchUniversities(),s.fetchMajors(),s.fetchPersonnel()]),A()});const j=$=>["award1_contribution","award2_contribution","award3_contribution"].includes($);return($,S)=>{const T=ut;return i(),g("div",_l,[l("div",fl,[t(T,{title:"开发阶段提示",type:"warning",description:"本网站目前处于开发阶段，可能存在一些问题。如遇到任何问题，请发送邮件至 palmapplication@163.com，我们会尽快处理。",closable:!1,"show-icon":""})]),l("form",{onSubmit:ie(p,["prevent"]),class:"apply-form"},[(i(),g(O,null,M(["个人信息","学历信息","申请志愿","论文情况","奖项","其他"],F=>(i(),g(O,{key:F},[f(F).length>0?(i(),g("div",vl,[l("h2",bl,I(F),1),l("div",yl,[(i(!0),g(O,null,M(f(F),E=>(i(),D(ml,{key:E.id,field:E,modelValue:h.value[E.variableName],"onUpdate:modelValue":le=>h.value[E.variableName]=le,required:y(d)(E.variableName),options:r(E.name),"contribution-data":j(E.variableName)?y(x)[E.variableName]:void 0,onInput:le=>E.variableName==="rank"||E.variableName==="majorCount"?y(_)():null,onContributionChange:le=>y(v)(E.variableName,le)},null,8,["field","modelValue","onUpdate:modelValue","required","options","contribution-data","onInput","onContributionChange"]))),128))])])):B("",!0)],64))),64)),t(za),t(Aa,{"applicant-id":h.value.id},null,8,["applicant-id"]),S[0]||(S[0]=l("button",{type:"submit",class:"submit-button"},"提交申请",-1))],32)])}}}),gl=C(hl,[["__scopeId","data-v-1ed9cd46"]]),_r=Object.freeze(Object.defineProperty({__proto__:null,default:gl},Symbol.toStringTag,{value:"Module"})),wl={};function xl(b,e){return null}const $l=C(wl,[["render",xl]]),fr=Object.freeze(Object.defineProperty({__proto__:null,default:$l},Symbol.toStringTag,{value:"Module"})),Vl={};function Sl(b,e){return null}const kl=C(Vl,[["render",Sl]]),vr=Object.freeze(Object.defineProperty({__proto__:null,default:kl},Symbol.toStringTag,{value:"Module"})),Cl={};function Dl(b,e){return null}const Pl=C(Cl,[["render",Dl]]),br=Object.freeze(Object.defineProperty({__proto__:null,default:Pl},Symbol.toStringTag,{value:"Module"})),Il={};function Tl(b,e){return null}const jl=C(Il,[["render",Tl]]),yr=Object.freeze(Object.defineProperty({__proto__:null,default:jl},Symbol.toStringTag,{value:"Module"})),Fl={},Ol={class:"wait"},Ul={class:"wait-content"},Ml={class:"action-form"};function Al(b,e){const s=z,u=J("RouterLink");return i(),g("div",Ol,[l("div",Ul,[e[1]||(e[1]=xe('<div class="success-icon" data-v-772d9ed6><svg class="h-24 w-24 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-772d9ed6><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-v-772d9ed6></path></svg></div><h1 class="wait-title" data-v-772d9ed6>申请提交成功！</h1><p class="wait-description" data-v-772d9ed6> 您的申请已成功提交，我们将尽快进行审核。<br data-v-772d9ed6> 审核结果将通过邮件通知您，请注意查收。 </p>',3)),l("div",Ml,[t(u,{to:"/"},{default:n(()=>[t(s,{type:"primary",size:"large"},{default:n(()=>e[0]||(e[0]=[V("返回首页")])),_:1})]),_:1})])])])}const Ll=C(Fl,[["render",Al],["__scopeId","data-v-772d9ed6"]]),hr=Object.freeze(Object.defineProperty({__proto__:null,default:Ll},Symbol.toStringTag,{value:"Module"})),El={setup(){const b=P(""),e=P(""),s=Te(),u=Oe();return{username:b,password:e,handleLogin:async()=>{await s.login(b.value,e.value)?(k.success("登录成功"),await u.push("/admin")):k.error("登录失败，请检查用户名和密码")}}}},zl={class:"login-container"},Nl={class:"form-side md:w-1/2"},Rl={class:"form-group"},Bl={class:"form-group"},Yl={class:"password-input"};function ql(b,e,s,u,r,m){return i(),g("div",zl,[e[11]||(e[11]=l("div",{class:"illustration-side hidden md:flex"},[l("img",{src:Qe,alt:"Palm Logo"})],-1)),l("div",Nl,[e[8]||(e[8]=l("div",{class:"logo"},[l("img",{src:Ie,alt:"Palm Logo"})],-1)),e[9]||(e[9]=l("h1",null,"Welcome back!",-1)),e[10]||(e[10]=l("p",null,"Please enter your details",-1)),l("form",{class:"login-form",onSubmit:e[2]||(e[2]=ie((...a)=>u.handleLogin&&u.handleLogin(...a),["prevent"]))},[l("div",Rl,[e[3]||(e[3]=l("label",{for:"username"},"User Name",-1)),W(l("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=a=>u.username=a),required:""},null,512),[[re,u.username]])]),l("div",Bl,[e[5]||(e[5]=l("label",{for:"password"},"Password",-1)),l("div",Yl,[W(l("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=a=>u.password=a),required:""},null,512),[[re,u.password]]),e[4]||(e[4]=l("button",{type:"button",class:"eye-icon"},null,-1))])]),e[6]||(e[6]=l("div",{class:"form-row"},[l("label",{class:"remember-me"},[l("input",{type:"checkbox"}),l("span",null,"Remember for 7 days")])],-1)),e[7]||(e[7]=l("button",{type:"submit",class:"login-button"},"Log In",-1))],32)]),e[12]||(e[12]=l("div",{class:"invisible md:hidden"},[l("div",{class:"w-screen"})],-1))])}const Hl=C(El,[["render",ql],["__scopeId","data-v-1f3a8fc4"]]),Jl={class:"login-main p-5 md:p-0"},Kl={__name:"index",setup(b){return(e,s)=>(i(),g("div",Jl,[t(Hl)]))}},Gl=C(Kl,[["__scopeId","data-v-70642aaf"]]),gr=Object.freeze(Object.defineProperty({__proto__:null,default:Gl},Symbol.toStringTag,{value:"Module"})),Wl={class:"button-container"},Zl=["data-feather"],Ql={key:0,class:"menu"},Xl={class:"category-name"},eo={class:"icon"},to={class:"label"},ao={key:0,class:"divider"},lo={__name:"SideBar",props:{isCollapsed:Boolean},emits:["toggle"],setup(b,{emit:e}){const s=b,u=e,r=()=>{u("toggle"),be.replace()};return Y(()=>s.isCollapsed,()=>{be.replace()}),N(()=>{be.replace()}),(m,a)=>{const c=J("RouterLink");return i(),g("aside",{class:ce(["sidebar",{collapsed:b.isCollapsed}])},[l("div",Wl,[l("button",{onClick:r,class:"toggle-button"},[l("i",{"data-feather":b.isCollapsed?"chevrons-right":"chevrons-left"},null,8,Zl)])]),b.isCollapsed?B("",!0):(i(),g("ul",Ql,[(i(!0),g(O,null,M(y(De),(f,d)=>(i(),g(O,{key:d},[l("li",Xl,I(f.category),1),(i(!0),g(O,null,M(f.items,o=>(i(),g("li",{key:o.name,class:"menu-item"},[t(c,{to:o.path,class:"menu-link","active-class":"active"},{default:n(()=>[l("span",eo,I(o.icon),1),l("span",to,I(o.label),1)]),_:2},1032,["to"])]))),128)),d!==y(De).length-1?(i(),g("li",ao)):B("",!0)],64))),128))]))],2)}}},oo=C(lo,[["__scopeId","data-v-9ecfae49"]]),no={class:"content-container"},so={__name:"Content",setup(b){const e=P(null);let s=!1,u,r;const m=f=>{s=!0,u=f.pageY-e.value.offsetTop,r=e.value.scrollTop},a=()=>{s=!1},c=f=>{if(!s)return;f.preventDefault();const o=(f.pageY-e.value.offsetTop-u)*1.5;e.value.scrollTop=r-o};return window.addEventListener("mouseup",a),window.addEventListener("mouseleave",a),(f,d)=>{const o=J("RouterView");return i(),g("div",{class:"content",ref_key:"contentRef",ref:e,onMousedown:m,onMousemove:c},[l("div",no,[t(o)])],544)}}},ro=C(so,[["__scopeId","data-v-2191f445"]]),io={class:"admin-layout"},uo={__name:"View",setup(b){const e=P(!1),s=()=>{e.value=!e.value};return(u,r)=>(i(),g("div",io,[l("div",{class:ce(["sidebar-container",{collapsed:e.value}])},[t(oo,{isCollapsed:e.value,onToggle:s},null,8,["isCollapsed"])],2),l("main",{class:ce(["main-container",{expanded:e.value}])},[t(ro)],2)]))}},co=C(uo,[["__scopeId","data-v-3acb8aa5"]]),po={__name:"index",setup(b){return(e,s)=>(i(),D(co))}},wr=Object.freeze(Object.defineProperty({__proto__:null,default:po},Symbol.toStringTag,{value:"Module"})),mo={name:"SchoolLevelDashboard",data(){return{Apercentage:60,Bpercentage:30,Cpercentage:10}},mounted(){this.initChart()},methods:{initChart(){const b=document.getElementById("school-level-chart"),e=ee(b),s={tooltip:{trigger:"item"},series:[{name:"院校等级",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!0,position:"outside",formatter:"{b}: {c}%"},emphasis:{label:{show:!1}},labelLine:{show:!0},data:[{value:this.Apercentage,name:"A级"},{value:this.Bpercentage,name:"B级"},{value:this.Cpercentage,name:"C级"}]}]};e.setOption(s)}}};function _o(b,e,s,u,r,m){const a=q;return i(),D(a,{class:"dashboard-card","body-style":{padding:"20px"}},{default:n(()=>e[0]||(e[0]=[l("div",{class:"dashboard-title"},"院校等级统计",-1),l("div",{id:"school-level-chart",style:{width:"100%",height:"300px"}},null,-1)])),_:1})}const fo=C(mo,[["render",_o],["__scopeId","data-v-3d1a74a4"]]),vo={name:"MajorDistributionDashboard",data(){return{barChartData:[{name:"计算机",value:50},{name:"电子工程",value:30},{name:"机械工程",value:20}]}},mounted(){this.initChart()},methods:{initChart(){const b=this.$refs.chart,e=ee(b),s={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:this.barChartData.map(u=>u.name)},yAxis:{type:"value"},series:[{name:"专业分布",type:"bar",data:this.barChartData.map(u=>u.value)}]};e.setOption(s)}}},bo={ref:"chart",style:{width:"100%",height:"300px"}};function yo(b,e,s,u,r,m){const a=q;return i(),D(a,{class:"dashboard-card","body-style":{padding:"20px"}},{default:n(()=>[e[0]||(e[0]=l("div",{class:"dashboard-title"},"专业分布",-1)),l("div",bo,null,512)]),_:1})}const ho=C(vo,[["render",yo],["__scopeId","data-v-2823a088"]]),go={name:"SchoolDistributionDashboard",data(){return{barChartData:[{name:"清华大学",value:50},{name:"北京大学",value:30},{name:"复旦大学",value:20}]}},mounted(){this.initChart()},methods:{initChart(){const b=this.$refs.chart,e=ee(b),s={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:this.barChartData.map(u=>u.name)},yAxis:{type:"value"},series:[{name:"专业分布",type:"bar",data:this.barChartData.map(u=>u.value)}]};e.setOption(s)}}},wo={ref:"chart",style:{width:"100%",height:"300px"}};function xo(b,e,s,u,r,m){const a=q;return i(),D(a,{class:"dashboard-card","body-style":{padding:"20px"}},{default:n(()=>[e[0]||(e[0]=l("div",{class:"dashboard-title"},"院校分布",-1)),l("div",wo,null,512)]),_:1})}const $o=C(go,[["render",xo],["__scopeId","data-v-49e057b3"]]),Vo={name:"EnrollmentTypeDashboard",data(){return{masterPercentage:50,doctorPercentage:30,directDoctorPercentage:20}},mounted(){this.initChart()},methods:{initChart(){const b=document.getElementById("enrollment-type-chart"),e=ee(b),s={tooltip:{trigger:"item"},series:[{name:"报名类型",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!0,position:"outside",formatter:"{b}: {c}%"},emphasis:{label:{show:!1}},labelLine:{show:!0},data:[{value:this.masterPercentage,name:"硕士"},{value:this.doctorPercentage,name:"博士"},{value:this.directDoctorPercentage,name:"直博"}]}]};e.setOption(s)}}};function So(b,e,s,u,r,m){const a=q;return i(),D(a,{class:"dashboard-card","body-style":{padding:"20px"}},{default:n(()=>e[0]||(e[0]=[l("div",{class:"dashboard-title"},"报名类型统计",-1),l("div",{id:"enrollment-type-chart",style:{width:"100%",height:"300px"}},null,-1)])),_:1})}const ko=C(Vo,[["render",So],["__scopeId","data-v-8e9e3aa5"]]),Co={name:"DashboardLayout",components:{SchoolLevelDashboard:fo,MajorDistributionDashboard:ho,SchoolDistributionDashboard:$o,EnrollmentTypeDashboard:ko}};function Do(b,e,s,u,r,m){const a=J("SchoolLevelDashboard"),c=Me,f=J("EnrollmentTypeDashboard"),d=J("MajorDistributionDashboard"),o=J("SchoolDistributionDashboard"),p=$e;return i(),D(p,{class:"dashboard-layout",gutter:"{20}"},{default:n(()=>[t(c,{span:12},{default:n(()=>[t(a)]),_:1}),t(c,{span:12},{default:n(()=>[t(f)]),_:1}),t(c,{span:12},{default:n(()=>[t(d)]),_:1}),t(c,{span:12},{default:n(()=>[t(o)]),_:1})]),_:1})}const Po=C(Co,[["render",Do]]),Io={__name:"index",setup(b){return(e,s)=>(i(),D(Po))}},xr=Object.freeze(Object.defineProperty({__proto__:null,default:Io},Symbol.toStringTag,{value:"Module"})),To={props:{fields:Array,visibleFields:Array},emits:["update-visible-fields"],setup(b,{emit:e}){const s=P([...b.visibleFields]);return Y(()=>b.visibleFields,r=>{s.value=[...r]}),{checkedFields:s,updateFields:()=>{e("update-visible-fields",s.value)}}}},jo={class:"floating-container"},Fo={class:"checkbox-row"};function Oo(b,e,s,u,r,m){const a=mt,c=pt,f=ct,d=_t;return i(),D(d,null,{default:n(()=>[t(f,{title:"选择字段",name:"1"},{default:n(()=>[l("div",jo,[t(c,{modelValue:u.checkedFields,"onUpdate:modelValue":e[0]||(e[0]=o=>u.checkedFields=o),onChange:u.updateFields},{default:n(()=>[l("div",Fo,[(i(!0),g(O,null,M(s.fields,o=>(i(),D(a,{key:o,label:o,class:"horizontal-checkbox"},{default:n(()=>[V(I(o),1)]),_:2},1032,["label"]))),128))])]),_:1},8,["modelValue","onChange"])])]),_:1})]),_:1})}const Uo=C(To,[["render",Oo],["__scopeId","data-v-6edd146e"]]),Mo={props:{tableData:{type:Array,required:!0},visibleFields:{type:Array,required:!0},fieldProps:{type:Object,required:!0},store:{type:Object,required:!0}},methods:{exportTable(){const b=this.visibleFields.map(o=>o),e=this.tableData.map(o=>this.visibleFields.reduce((p,w)=>(p[w]=o[this.fieldProps[w]]!==void 0&&o[this.fieldProps[w]]!==null?o[this.fieldProps[w]]:"无",p),{})),s=this.store.paperFields.map((o,p)=>`论文${p+1}`),u=this.tableData.map(o=>this.store.paperFields.reduce((p,w,h)=>(p[`论文${h+1}`]=o.papers&&o.papers[h]?o.papers[h].ccfLevel:"无",p),{})),r=this.store.awardFields.map((o,p)=>`奖项${p+1}`),m=this.tableData.map(o=>this.store.awardFields.reduce((p,w,h)=>(p[`奖项${h+1}`]=o.awards&&o.awards[h]?o.awards[h].levelRanking:"无",p),{})),a=[...b,...s,...r],c=this.tableData.map((o,p)=>({...e[p],...u[p],...m[p]})),f=ae.json_to_sheet(c,{header:a}),d=ae.book_new();ae.book_append_sheet(d,f,"表格数据"),Ee(d,"学生信息表格.xlsx")}}};function Ao(b,e,s,u,r,m){const a=z;return i(),D(a,{type:"primary",onClick:m.exportTable},{default:n(()=>e[0]||(e[0]=[V("导出表格")])),_:1},8,["onClick"])}const Lo=C(Mo,[["render",Ao]]),Eo={class:"form-setting border-x p-1 form-filed-choose"},zo={class:"form-setting form-search"},No={class:"form-setting form-sort"},Ro={class:"form-setting form-export"},Bo={__name:"FormSettings",props:{fields:{type:Array,required:!0},visibleFields:{type:Array,required:!0},tableData:{type:Array,required:!0},fieldProps:{type:Object,required:!0},onFilter:{type:Function,required:!0}},emits:["update-visible-fields","update-sort"],setup(b,{emit:e}){const s=me(),u=P(""),r=P("ID"),m=b,a=U(()=>s.sortableFields.map(o=>({label:o,value:o}))),c=o=>{m.onFilter(o)},f=o=>{d("update-visible-fields",o)};Y(r,o=>{d("update-sort",o),console.log("Selected Sort:",o)});const d=e;return(o,p)=>{const w=Z,h=X,_=Q,x=$e;return i(),D(x,{class:"form-settings"},{default:n(()=>[l("div",Eo,[t(Uo,{fields:b.fields,"visible-fields":b.visibleFields,onUpdateVisibleFields:f},null,8,["fields","visible-fields"])]),l("div",zo,[t(w,{modelValue:u.value,"onUpdate:modelValue":p[0]||(p[0]=v=>u.value=v),placeholder:"搜索",onInput:c},null,8,["modelValue"])]),l("div",No,[t(_,{modelValue:r.value,"onUpdate:modelValue":p[1]||(p[1]=v=>r.value=v),placeholder:"排序"},{default:n(()=>[(i(!0),g(O,null,M(a.value,v=>(i(),D(h,{key:v.value,label:v.label,value:v.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),l("div",Ro,[t(Lo,{"table-data":b.tableData,"visible-fields":b.visibleFields,"field-props":b.fieldProps,store:y(s)},null,8,["table-data","visible-fields","field-props","store"])])]),_:1})}}},Yo=C(Bo,[["__scopeId","data-v-0e2b160b"]]),qo={class:"students-form"},Ho={class:"table-container"},Jo=["onClick"],Ko={key:1},Go=["onClick"],Wo={key:1},Zo={key:0},Qo={class:"dialog-footer"},Xo=L({__name:"StudentsForm",setup(b){const e=me();N(()=>{e.fetchStudents()});const s=P(""),u=P("ID"),r=U(()=>e.students||[]),m=U(()=>e.visibleFields.filter(x=>!e.isPaperOrAwardField(x))),a=U(()=>{let x=r.value;return u.value==="硕士等级"&&(x=x.filter(v=>{const A=e.fieldProps[u.value];return v[A]!==""})),x=x.filter(v=>c(v,s.value)),x.sort((v,A)=>{if(!u.value)return 0;const j=e.fieldProps[u.value];let $=v[j],S=A[j];const T=F=>typeof F=="string"&&F.endsWith("%");return T($)&&T(S)?($=parseFloat($.replace("%","")),S=parseFloat(S.replace("%","")),$-S):e.levelOrder[$]!==void 0&&e.levelOrder[S]!==void 0?e.levelOrder[$]-e.levelOrder[S]:typeof $=="string"&&typeof S=="string"?$.localeCompare(S):typeof $=="number"&&typeof S=="number"?$-S:0})});function c(x,v){for(const A in x)if(x.hasOwnProperty(A)){const j=x[A];if(typeof j=="string"&&j.includes(v))return!0;if(Array.isArray(j)){for(const $ of j)if(typeof $=="object"&&c($,v))return!0}else if(typeof j=="object"&&j!==null&&c(j,v))return!0}return!1}const f=x=>{u.value=x},d=x=>{e.visibleFields=x},o=P(!1),p=P({}),w=P("50%"),h=(x,v)=>{p.value=v,w.value="20%",o.value=!0},_=x=>{s.value=x};return Y(u,x=>{console.log("Selected Sort:",x)}),Y(a,x=>{console.log("Filtered field:",s.value)}),(x,v)=>{const A=R,j=K,$=z,S=Ae;return i(),g(O,null,[t(Yo,{fields:y(e).allFields,"visible-fields":y(e).visibleFields,"table-data":a.value,"field-props":y(e).fieldProps,onFilter:_,onUpdateVisibleFields:d,onUpdateSort:f},null,8,["fields","visible-fields","table-data","field-props"]),l("div",qo,[l("div",Ho,[t(j,{data:a.value,style:{width:"100%"},border:"","table-layout":"auto","default-sort":{prop:u.value,order:"ascending"}},{default:n(()=>[t(A,{type:"index",label:"#",width:"50"}),(i(!0),g(O,null,M(m.value,T=>(i(),D(A,{key:T,prop:y(e).fieldProps[T],label:T,"min-width":150},{default:n(({row:F})=>[l("span",null,I(F[y(e).fieldProps[T]]!==void 0&&F[y(e).fieldProps[T]]!==null&&F[y(e).fieldProps[T]]!==""?F[y(e).fieldProps[T]]:""),1)]),_:2},1032,["prop","label"]))),128)),(i(!0),g(O,null,M(y(e).paperFields,(T,F)=>(i(),D(A,{key:`论文-${F}`,label:`论文${F+1}`},{default:n(({row:E})=>[E.papers&&E.papers[F]?(i(),g("span",{key:0,onClick:le=>h("paper",E.papers[F]),class:"expandable-cell"},I(E.papers[F].ccfLevel),9,Jo)):(i(),g("span",Ko,"无"))]),_:2},1032,["label"]))),128)),(i(!0),g(O,null,M(y(e).awardFields,(T,F)=>(i(),D(A,{key:`奖项-${F}`,label:`奖项${F+1}`},{default:n(({row:E})=>[E.awards&&E.awards[F]?(i(),g("span",{key:0,onClick:le=>h("award",E.awards[F]),class:"expandable-cell"},I(E.awards[F].levelRanking),9,Go)):(i(),g("span",Wo,"无"))]),_:2},1032,["label"]))),128))]),_:1},8,["data","default-sort"])]),t(S,{modelValue:o.value,"onUpdate:modelValue":v[1]||(v[1]=T=>o.value=T),title:"详细信息",width:w.value},{footer:n(()=>[l("span",Qo,[v[3]||(v[3]=l("h1",null,null,-1)),t($,{onClick:v[0]||(v[0]=T=>o.value=!1)},{default:n(()=>v[2]||(v[2]=[V("关闭")])),_:1})])]),default:n(()=>[p.value?(i(),g("div",Zo,[(i(!0),g(O,null,M(p.value,(T,F)=>(i(),g("div",{key:F,class:"detail-item"},[l("strong",null,I(F)+":",1),V(" "+I(T),1)]))),128))])):B("",!0)]),_:1},8,["modelValue","width"])])],64)}}}),en=C(Xo,[["__scopeId","data-v-d1a868bd"]]),tn={__name:"index",setup(b){return(e,s)=>(i(),D(en))}},$r=Object.freeze(Object.defineProperty({__proto__:null,default:tn},Symbol.toStringTag,{value:"Module"})),an={key:1},ln={key:1},ze=L({__name:"StudentTable",props:{data:{},loading:{type:Boolean},columnConfig:{}},emits:["selectionChange"],setup(b,{emit:e}){const s=e,u=r=>{s("selectionChange",r)};return(r,m)=>{const a=R,c=ft,f=K,d=_e;return W((i(),D(f,{data:r.data,style:{width:"100%"},border:"","table-layout":"auto",onSelectionChange:u},{default:n(()=>[t(a,{type:"selection",width:"55"}),t(a,{type:"index",label:"#",width:"50"}),(i(!0),g(O,null,M(r.columnConfig,(o,p)=>(i(),D(a,{key:p,prop:p,label:o.label,"min-width":o.width},{default:n(w=>[w.row[p]===!0||w.row[p]===!1?(i(),g(O,{key:0},[V(I(w.row[p]?"是":"否"),1)],64)):(i(),g(O,{key:1},[V(I(w.row[p]||"无"),1)],64))]),_:2},1032,["prop","label","min-width"]))),128)),t(a,{label:"论文","min-width":"80"},{default:n(o=>[V(I([o.row.paper1_journalConference,o.row.paper2_journalConference,o.row.paper3_journalConference].filter(p=>p&&p.trim()!=="").join(";")||"无"),1)]),_:1}),t(a,{label:"奖项","min-width":"80"},{default:n(o=>[V(I([o.row.award1_awardName,o.row.award2_awardName,o.row.award3_awardName].filter(p=>p&&p.trim()!=="").join(";")||"无"),1)]),_:1}),t(a,{label:"证明文件","min-width":"80"},{default:n(o=>[o.row.resume_file_path?(i(),D(c,{key:0,type:"primary",href:y(ue)(o.row.resume_file_path),target:"_blank"},{default:n(()=>[V(I(o.row.resume_file_name||"证明文件"),1)]),_:2},1032,["href"])):(i(),g("span",an,"无证明文件"))]),_:1}),t(a,{label:"简历文件","min-width":"80"},{default:n(o=>[o.row.proof_file_path?(i(),D(c,{key:0,type:"primary",href:y(ue)(o.row.proof_file_path),target:"_blank"},{default:n(()=>[V(I(o.row.proof_file_name||"简历文件"),1)]),_:2},1032,["href"])):(i(),g("span",ln,"无简历"))]),_:1})]),_:1},8,["data"])),[[d,r.loading]])}}}),Ne=L({__name:"DownloadFiles",props:{students:{},selectedStudents:{},applicationType:{}},setup(b){const e=b,s=P(!1),u=U(()=>e.selectedStudents&&e.selectedStudents.length>0),r=U(()=>s.value?"正在下载...":u.value?"下载选中学生的文件":"下载当前表格的所有文件");async function m(){const a=u.value?e.selectedStudents:e.students;if(!(a!=null&&a.length)){k.warning("没有可下载的文件");return}s.value=!0;try{const c=new ht,f=c.folder("证明文件"),d=c.folder("简历文件"),o=new Set;for(const h of a){if(h.resume_file_path&&!o.has(h.resume_file_path)){const _=ue(h.resume_file_path);if(_){const v=await(await fetch(_)).blob(),A=h.resume_file_name||`简历_${h.name}_${Date.now()}.pdf`;f.file(A,v),o.add(h.resume_file_path)}}if(h.proof_file_path&&!o.has(h.proof_file_path)){const _=ue(h.proof_file_path);if(_){const v=await(await fetch(_)).blob(),A=h.proof_file_name||`证明_${h.name}_${Date.now()}.pdf`;d.file(A,v),o.add(h.proof_file_path)}}}const p=await c.generateAsync({type:"blob"}),w=document.createElement("a");w.href=URL.createObjectURL(p),w.download=`申请材料_${e.applicationType}_${new Date().toLocaleDateString()}.zip`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(w.href),k.success("文件下载完成")}catch(c){console.error("下载文件时出错:",c),k.error("下载文件时出错")}finally{s.value=!1}}return(a,c)=>{const f=z;return i(),D(f,{type:"primary",loading:s.value,onClick:m,disabled:!u.value&&!a.students.length},{default:n(()=>[V(I(r.value),1)]),_:1},8,["loading","disabled"])}}}),Re=L({__name:"ExportExcel",props:{data:{},columnConfig:{},applicationType:{}},setup(b){const e=b,s=P(!1);async function u(){if(!e.data.length){k.warning("没有可导出的数据");return}s.value=!0;try{const r=e.data.map((c,f)=>{const d={序号:f+1};return Object.entries(e.columnConfig).forEach(([o,p])=>{d[p.label]=c[o]===!0?"是":c[o]===!1?"否":c[o]||"无"}),d.论文=[c.paper1_journalConference,c.paper2_journalConference,c.paper3_journalConference].filter(o=>o&&o.trim()!=="").join(";")||"无",d.奖项=[c.award1_awardName,c.award2_awardName,c.award3_awardName].filter(o=>o&&o.trim()!=="").join(";")||"无",d}),m=ae.json_to_sheet(r),a=ae.book_new();ae.book_append_sheet(a,m,"学生信息"),Ee(a,`学生信息表_${e.applicationType}_${new Date().toLocaleDateString()}.xlsx`),k.success("导出成功")}catch(r){console.error("导出Excel时出错:",r),k.error("导出Excel时出错")}finally{s.value=!1}}return(r,m)=>{const a=z;return i(),D(a,{type:"success",loading:s.value,onClick:u},{default:n(()=>[V(I(s.value?"正在导出...":"导出当前表格为Excel"),1)]),_:1},8,["loading"])}}}),on={class:"p-6"},nn={class:"flex justify-between items-center"},sn={class:"flex gap-2"},rn={key:0,class:"error-message"},dn=L({__name:"index",setup(b){const e=me(),s=pe(),u=U(()=>s.fields.filter(d=>d.showInTable).reduce((d,o)=>(d[o.variableName]={label:o.name,width:"150"},d),{}));N(async()=>{await s.fetchFields(),await e.fetchStudents()});const r=U(()=>{const d=new Set(e.students.map(o=>o.applicationType));return Array.from(d)}),m=d=>e.students.filter(o=>o.applicationType===d),a=P("");Y(r,d=>{d.length&&!a.value&&(a.value=d[0])},{immediate:!0});const c=P([]),f=d=>{c.value=d};return Y(a,()=>{c.value=[]}),(d,o)=>{const p=ve,w=fe,h=q;return i(),g("div",on,[t(h,null,{header:n(()=>[l("div",nn,[o[1]||(o[1]=l("div",{class:"flex items-start flex-col"},[l("span",{class:"text-xl font-bold"},"学生列表"),l("div",{class:"text-gray-500 text-sm mt-1"}," 查看和导出所有学生的申请信息 ")],-1)),l("div",sn,[t(Ne,{students:m(a.value),"selected-students":c.value,"application-type":a.value},null,8,["students","selected-students","application-type"]),t(Re,{data:m(a.value),"column-config":u.value,"application-type":a.value},null,8,["data","column-config","application-type"])])])]),default:n(()=>[t(w,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=_=>a.value=_)},{default:n(()=>[(i(!0),g(O,null,M(r.value,_=>(i(),D(p,{key:_,label:_||"其他",name:_},{default:n(()=>[t(ze,{data:m(_),loading:y(e).loading,"column-config":u.value,onSelectionChange:f},null,8,["data","loading","column-config"])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"]),y(e).error?(i(),g("div",rn,I(y(e).error),1)):B("",!0)]),_:1})])}}}),un=C(dn,[["__scopeId","data-v-75d3f46f"]]),Vr=Object.freeze(Object.defineProperty({__proto__:null,default:un},Symbol.toStringTag,{value:"Module"})),cn={class:"percent-editor-container p-6"},pn={class:"school-section mb-8"},mn={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},_n={class:"school-section mb-8"},fn={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},vn={class:"school-section"},bn={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},yn={class:"flex justify-end mt-6"},hn=L({__name:"Percent",setup(b){const e=Xe(),s=P(!1);N(()=>{e.fetchPercentData()});const u=()=>{s.value=!0,k({message:"请记得点击保存按钮使配置生效",type:"warning",duration:3e3})},r=async()=>{await e.updatePercentData(e.percentData),s.value=!1};return(m,a)=>{const c=Le,f=te,d=z,o=Ve,p=q;return i(),g("div",cn,[t(p,{class:"mb-6"},{header:n(()=>a[9]||(a[9]=[l("div",{class:"card-header text-left"},[l("span",{class:"text-xl font-bold"},"百分比设置"),l("div",{class:"text-gray-500 text-sm mt-1"}," 设置不同类别院校的录取百分比阈值 ")],-1)])),default:n(()=>[t(o,{onSubmit:ie(r,["prevent"])},{default:n(()=>[l("div",pn,[a[13]||(a[13]=l("h3",{class:"text-lg font-semibold mb-4 text-blue-600"},"A类院校",-1)),l("div",mn,[t(f,{label:"普通"},{default:n(()=>[t(c,{modelValue:y(e).percentData.pOfA,"onUpdate:modelValue":a[0]||(a[0]=w=>y(e).percentData.pOfA=w),min:0,max:100,precision:2,step:1,class:"w-full",onChange:u},{suffix:n(()=>a[10]||(a[10]=[V("%")])),_:1},8,["modelValue"])]),_:1}),t(f,{label:"拔尖班"},{default:n(()=>[t(c,{modelValue:y(e).percentData.pOfATop,"onUpdate:modelValue":a[1]||(a[1]=w=>y(e).percentData.pOfATop=w),min:0,max:100,precision:2,step:1,class:"w-full",onChange:u},{suffix:n(()=>a[11]||(a[11]=[V("%")])),_:1},8,["modelValue"])]),_:1}),t(f,{label:"人才"},{default:n(()=>[t(c,{modelValue:y(e).percentData.pOfATalent,"onUpdate:modelValue":a[2]||(a[2]=w=>y(e).percentData.pOfATalent=w),min:0,max:100,precision:2,step:1,class:"w-full",onChange:u},{suffix:n(()=>a[12]||(a[12]=[V("%")])),_:1},8,["modelValue"])]),_:1})])]),l("div",_n,[a[17]||(a[17]=l("h3",{class:"text-lg font-semibold mb-4 text-green-600"},"B类院校",-1)),l("div",fn,[t(f,{label:"普通"},{default:n(()=>[t(c,{modelValue:y(e).percentData.pOfB,"onUpdate:modelValue":a[3]||(a[3]=w=>y(e).percentData.pOfB=w),min:0,max:100,precision:2,step:1,class:"w-full",onChange:u},{suffix:n(()=>a[14]||(a[14]=[V("%")])),_:1},8,["modelValue"])]),_:1}),t(f,{label:"拔尖班"},{default:n(()=>[t(c,{modelValue:y(e).percentData.pOfBTop,"onUpdate:modelValue":a[4]||(a[4]=w=>y(e).percentData.pOfBTop=w),min:0,max:100,precision:2,step:1,class:"w-full",onChange:u},{suffix:n(()=>a[15]||(a[15]=[V("%")])),_:1},8,["modelValue"])]),_:1}),t(f,{label:"人才"},{default:n(()=>[t(c,{modelValue:y(e).percentData.pOfBTalent,"onUpdate:modelValue":a[5]||(a[5]=w=>y(e).percentData.pOfBTalent=w),min:0,max:100,precision:2,step:1,class:"w-full",onChange:u},{suffix:n(()=>a[16]||(a[16]=[V("%")])),_:1},8,["modelValue"])]),_:1})])]),l("div",vn,[a[21]||(a[21]=l("h3",{class:"text-lg font-semibold mb-4 text-yellow-600"},"C类院校",-1)),l("div",bn,[t(f,{label:"普通"},{default:n(()=>[t(c,{modelValue:y(e).percentData.pOfC,"onUpdate:modelValue":a[6]||(a[6]=w=>y(e).percentData.pOfC=w),min:0,max:100,precision:2,step:1,class:"w-full",onChange:u},{suffix:n(()=>a[18]||(a[18]=[V("%")])),_:1},8,["modelValue"])]),_:1}),t(f,{label:"拔尖班"},{default:n(()=>[t(c,{modelValue:y(e).percentData.pOfCTop,"onUpdate:modelValue":a[7]||(a[7]=w=>y(e).percentData.pOfCTop=w),min:0,max:100,precision:2,step:1,class:"w-full",onChange:u},{suffix:n(()=>a[19]||(a[19]=[V("%")])),_:1},8,["modelValue"])]),_:1}),t(f,{label:"人才"},{default:n(()=>[t(c,{modelValue:y(e).percentData.pOfCTalent,"onUpdate:modelValue":a[8]||(a[8]=w=>y(e).percentData.pOfCTalent=w),min:0,max:100,precision:2,step:1,class:"w-full",onChange:u},{suffix:n(()=>a[20]||(a[20]=[V("%")])),_:1},8,["modelValue"])]),_:1})])]),l("div",yn,[t(d,{type:"primary",class:ce({"is-changed":s.value}),onClick:r},{default:n(()=>a[22]||(a[22]=[V("保存设置")])),_:1},8,["class"])])]),_:1})]),_:1})])}}}),gn=C(hn,[["__scopeId","data-v-9b30e49a"]]),wn=L({__name:"index",setup(b){return(e,s)=>(i(),D(rt,null,[t(gn)],1024))}}),Sr=Object.freeze(Object.defineProperty({__proto__:null,default:wn},Symbol.toStringTag,{value:"Module"})),xn={class:"p-6"},$n={class:"flex justify-between items-center"},Vn={class:"flex gap-2"},Sn={key:0,class:"error-message"},kn=L({__name:"index",setup(b){const e=je(),s=pe(),u=U(()=>s.fields.filter(d=>d.showInTable).reduce((d,o)=>(d[o.variableName]={label:o.name,width:"150"},d),{}));N(async()=>{await s.fetchFields(),await e.fetchFilteredStudents()});const r=U(()=>{const d=new Set(e.filteredStudents.map(o=>o.applicationType));return Array.from(d)}),m=d=>e.filteredStudents.filter(o=>o.applicationType===d),a=P("");Y(r,d=>{d.length&&!a.value&&(a.value=d[0])},{immediate:!0});const c=P([]),f=d=>{c.value=d};return Y(a,()=>{c.value=[]}),(d,o)=>{const p=ve,w=fe,h=q;return i(),g("div",xn,[t(h,null,{header:n(()=>[l("div",$n,[o[1]||(o[1]=l("div",{class:"flex items-start flex-col"},[l("span",{class:"text-xl font-bold"},"筛选结果"),l("div",{class:"text-gray-500 text-sm mt-1"}," 查看和导出通过筛选的学生的申请信息 ")],-1)),l("div",Vn,[t(Ne,{students:m(a.value),"selected-students":c.value,"application-type":a.value},null,8,["students","selected-students","application-type"]),t(Re,{data:m(a.value),"column-config":u.value,"application-type":a.value},null,8,["data","column-config","application-type"])])])]),default:n(()=>[t(w,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=_=>a.value=_)},{default:n(()=>[(i(!0),g(O,null,M(r.value,_=>(i(),D(p,{key:_,label:_||"其他",name:_},{default:n(()=>[t(ze,{data:m(_),loading:y(e).loading,"column-config":u.value,onSelectionChange:f},null,8,["data","loading","column-config"])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"]),y(e).error?(i(),g("div",Sn,I(y(e).error),1)):B("",!0)]),_:1})])}}}),Cn=C(kn,[["__scopeId","data-v-10e71683"]]),kr=Object.freeze(Object.defineProperty({__proto__:null,default:Cn},Symbol.toStringTag,{value:"Module"})),Dn={class:"p-6"},Pn={key:0,class:"error-message mt-4 text-red-500"},In={__name:"index",setup(b){const e=je();return N(async()=>{await e.fetchFailedStudents(),console.log("未通过筛选的学生:",e.failedStudents)}),(s,u)=>{const r=R,m=K,a=q,c=_e;return i(),g("div",Dn,[t(a,null,{header:n(()=>u[0]||(u[0]=[l("div",{class:"flex justify-between items-center"},[l("div",{class:"flex items-start flex-col"},[l("span",{class:"text-xl font-bold"},"未通过筛选学生"),l("div",{class:"text-gray-500 text-sm mt-1"}," 查看未通过筛选的学生的申请信息 ")])],-1)])),default:n(()=>[W((i(),D(m,{data:y(e).failedStudents,style:{width:"100%"},border:"","table-layout":"auto"},{default:n(()=>[t(r,{type:"index",label:"#",width:"50"}),t(r,{prop:"name",label:"姓名"}),t(r,{prop:"university",label:"本科院校"}),t(r,{prop:"masterUniversity",label:"硕士院校"}),t(r,{prop:"percentage",label:"排名百分比"}),t(r,{prop:"applicationType",label:"申请类型"})]),_:1},8,["data"])),[[c,y(e).loading]]),y(e).error?(i(),g("div",Pn,I(y(e).error),1)):B("",!0)]),_:1})])}}},Tn=C(In,[["__scopeId","data-v-6d6811f7"]]),Cr=Object.freeze(Object.defineProperty({__proto__:null,default:Tn},Symbol.toStringTag,{value:"Module"})),jn={class:"interview-block p-6"},Fn={__name:"InterviewBlock",setup(b){const e=P([]),s=P(null),u=()=>{s.value.click()},r=async a=>{const c=a.target.files[0];if(c)try{const f=new FileReader;f.onload=async d=>{const o=d.target.result,p=wt(o,{type:"array"}),w=p.SheetNames[0],h=p.Sheets[w],x=ae.sheet_to_json(h).map(v=>({student:v.student||v.学生,scoreTeacher1:Number(v.scoreTeacher1||v.老师一打分),scoreTeacher2:Number(v.scoreTeacher2||v.老师二打分),scoreTeacher3:Number(v.scoreTeacher3||v.老师三打分),resumeScore:Number(v.resumeScore||v.简历分数||0)}));await et(c),e.value=x,k.success("表格导入成功")},f.readAsArrayBuffer(c)}catch(f){console.error("文件处理错误:",f),k.error("表格导入失败")}},m=async()=>{try{const a=await tt();console.log("归一化数据:",a);const f=(Array.isArray(a.data)?a.data:a).map(d=>({student:d.student,scoreTeacher1:Number(d.scoreTeacher1),scoreTeacher2:Number(d.scoreTeacher2),scoreTeacher3:Number(d.scoreTeacher3),normalizedScore:Number(d.normalizedScore),resumeScore:Number(d.resumeScore||0)}));e.value=f,k.success("归一化处理完成")}catch(a){console.error("归一化处理错误:",a),k.error("归一化处理失败")}};return(a,c)=>{const f=z,d=R,o=K,p=q;return i(),g("div",jn,[t(p,{class:"mb-6"},{header:n(()=>c[0]||(c[0]=[l("div",{class:"card-header text-left"},[l("span",{class:"text-xl font-bold"},"面试评分"),l("div",{class:"text-gray-500 text-sm mt-1"}," 导入面试评分表格并进行归一化处理 ")],-1)])),default:n(()=>[l("input",{type:"file",ref_key:"fileInput",ref:s,onChange:r,accept:".xlsx,.xls",style:{display:"none"}},null,544),t(f,{type:"primary",onClick:u},{default:n(()=>c[1]||(c[1]=[V("导入表格")])),_:1}),t(f,{type:"success",onClick:m},{default:n(()=>c[2]||(c[2]=[V("归一化")])),_:1}),t(o,{data:e.value,style:{width:"100%","margin-top":"20px"},"default-sort":{prop:"normalizedScore",order:"descending"},"table-layout":"fixed",border:""},{default:n(()=>[t(d,{type:"index",label:"序号","min-width":"60"}),t(d,{prop:"student",label:"学生","min-width":"100"}),t(d,{prop:"scoreTeacher1",label:"老师一打分","min-width":"100"}),t(d,{prop:"scoreTeacher2",label:"老师二打分","min-width":"100"}),t(d,{prop:"scoreTeacher3",label:"老师三打分","min-width":"100"}),t(d,{prop:"normalizedScore",label:"归一化打分","min-width":"100",sortable:""}),t(d,{prop:"resumeScore",label:"简历分数","min-width":"100"})]),_:1},8,["data"])]),_:1})])}}},On=C(Fn,[["__scopeId","data-v-2372b2ad"]]),Un={__name:"index",setup(b){return(e,s)=>(i(),D(On))}},Dr=Object.freeze(Object.defineProperty({__proto__:null,default:Un},Symbol.toStringTag,{value:"Module"})),Mn={class:"analysis-block"},An={class:"charts-container"},Ln={__name:"AnalysisBlock",setup(b){const e=me(),s=P(null),u=P(null),r=P(null),m=P(null);N(async()=>{await e.fetchStudents(),a(),c(),f(),d()});function a(){const o=ee(s.value),p={title:{text:"学生总数",subtext:e.students.length,left:"center"},tooltip:{formatter:"{a} <br/>{b} : {c}"},series:[{name:"学生总数",type:"gauge",detail:{formatter:"{value}"},data:[{value:e.students.length,name:"学生总数"}]}]};o.setOption(p)}function c(){const o=ee(u.value),p=e.students.reduce((h,_)=>(h[_.applicationType]=(h[_.applicationType]||0)+1,h),{}),w={title:{text:"报名类型分布"},tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},series:[{name:"报名类型",type:"pie",radius:"50%",data:Object.entries(p).map(([h,_])=>({name:h,value:_})),emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};o.setOption(w)}function f(){const o=ee(r.value),p=e.students.reduce((h,_)=>(h[_.university]=(h[_.university]||0)+1,h),{}),w={title:{text:"本科学校分布"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:Object.keys(p)},yAxis:{type:"value"},series:[{name:"数量",data:Object.values(p),type:"bar"}]};o.setOption(w)}function d(){const o=ee(m.value),w=[85,90,90,78,78,92,88,76,95,89,89,84,84,91,87,82,93,86,94].reduce((_,x)=>(_[x]=(_[x]||0)+1,_),{}),h={title:{text:"面试分数分布"},tooltip:{},xAxis:{type:"category",data:Object.keys(w).map(Number).sort((_,x)=>_-x)},yAxis:{type:"value"},series:[{name:"数量",data:Object.values(w),type:"bar"}]};o.setOption(h)}return(o,p)=>{const w=q;return i(),g("div",Mn,[t(w,{class:"box-card"},{header:n(()=>p[0]||(p[0]=[l("span",null,"学生数据分析",-1)])),default:n(()=>[l("div",An,[l("div",{ref_key:"studentCountChart",ref:s,class:"chart"},null,512),l("div",{ref_key:"applicationTypeChart",ref:u,class:"chart"},null,512),l("div",{ref_key:"universityChart",ref:r,class:"chart"},null,512),l("div",{ref_key:"interviewScoreChart",ref:m,class:"chart"},null,512)])]),_:1})])}}},En=C(Ln,[["__scopeId","data-v-aaf52454"]]),zn={__name:"index",setup(b){return(e,s)=>(i(),D(En))}},Pr=Object.freeze(Object.defineProperty({__proto__:null,default:zn},Symbol.toStringTag,{value:"Module"})),Nn={class:"p-6"},Rn={key:0,class:"error-message"},Bn=L({__name:"index",setup(b){const e=H(),s=P("university"),u=it({university:ne(()=>oe(()=>Promise.resolve().then(()=>js),void 0,import.meta.url)),major:ne(()=>oe(()=>Promise.resolve().then(()=>Ms),void 0,import.meta.url)),personnel:ne(()=>oe(()=>Promise.resolve().then(()=>Ns),void 0,import.meta.url)),admission:ne(()=>oe(()=>Promise.resolve().then(()=>Ws),void 0,import.meta.url)),award:ne(()=>oe(()=>Promise.resolve().then(()=>Xs),void 0,import.meta.url)),year:ne(()=>oe(()=>Promise.resolve().then(()=>ar),void 0,import.meta.url))}),r=U(()=>u.value[s.value]);return(m,a)=>{const c=ve,f=fe,d=q,o=_e;return i(),g("div",Nn,[t(d,null,{header:n(()=>a[1]||(a[1]=[l("div",{class:"flex justify-between items-center"},[l("div",{class:"flex items-start flex-col"},[l("span",{class:"text-xl font-bold"},"系统设置"),l("div",{class:"text-gray-500 text-sm mt-1"}," 管理系统的基础配置信息 ")])],-1)])),default:n(()=>[W((i(),D(f,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=p=>s.value=p)},{default:n(()=>[t(c,{label:"院校等级调整",name:"university"},{default:n(()=>[s.value==="university"?(i(),D(se(r.value),{key:0})):B("",!0)]),_:1}),t(c,{label:"专业分类调整",name:"major"},{default:n(()=>[s.value==="major"?(i(),D(se(r.value),{key:0})):B("",!0)]),_:1}),t(c,{label:"奖项配置",name:"award"},{default:n(()=>[s.value==="award"?(i(),D(se(r.value),{key:0})):B("",!0)]),_:1}),t(c,{label:"导师信息调整",name:"personnel"},{default:n(()=>[s.value==="personnel"?(i(),D(se(r.value),{key:0})):B("",!0)]),_:1}),t(c,{label:"招生年份和时间调整",name:"admission"},{default:n(()=>[s.value==="admission"?(i(),D(se(r.value),{key:0})):B("",!0)]),_:1})]),_:1},8,["modelValue"])),[[o,y(e).isLoading]]),y(e).error?(i(),g("div",Rn,I(y(e).error),1)):B("",!0)]),_:1})])}}}),Yn=C(Bn,[["__scopeId","data-v-2a96d70c"]]),Ir=Object.freeze(Object.defineProperty({__proto__:null,default:Yn},Symbol.toStringTag,{value:"Module"})),qn={class:"p-6"},Hn={class:"flex justify-between items-center"},Jn={class:"flex gap-2"},Kn={class:"flex gap-4 flex-wrap"},Gn={class:"flex justify-end gap-2"},Wn=L({__name:"index",setup(b){const e=pe();e.fetchFields().then(()=>{const x=e.fields.map(v=>({variableName:v.variableName,type:v.type}));console.log("Fields Info:",x)});const s=[{value:"string",label:"字符串"},{value:"percent",label:"百分比"},{value:"boolean",label:"布尔值"},{value:"select",label:"单选"},{value:"date",label:"日期"},{value:"number",label:"数字"}],u=[{value:"个人信息",label:"个人信息"},{value:"学历信息",label:"学历信息"},{value:"申请志愿",label:"申请志愿"},{value:"论文情况",label:"论文情况"},{value:"奖项",label:"奖项"},{value:"其他",label:"其他"}],r=P(!1),m=P("新增字段"),a=P({id:0,name:"",description:"",type:"text",showInTable:!0,showInFilter:!0,showInApply:!0,showInRecommendMaster:!0,showInExamMaster:!0,showInPhd:!0,showInDirectPhd:!0,regionInForm:"其他"}),c=()=>{m.value="新增字段",a.value={id:0,name:"",description:"",showInTable:!0,showInFilter:!0,showInApply:!0,showInRecommendMaster:!0,showInExamMaster:!0,showInPhd:!0,showInDirectPhd:!0,regionInForm:"其他"},f.value=!1,r.value=!0},f=P(!1),d=x=>{m.value="编辑字段",a.value={...x},f.value=!0,r.value=!0},o=async()=>{if(!a.value.name||!a.value.description){k.warning("请填写完整信息");return}(f.value?await e.editField(a.value):await e.createField(a.value))&&(r.value=!1,await e.fetchFields())},p=async x=>{await e.removeField(x.id)},w=async x=>{await e.editField(x)&&await e.fetchFields()},h=U(()=>{const x={};return u.forEach(v=>{x[v.value]=e.fields.filter(A=>A.regionInForm===v.value)}),x}),_=P("个人信息");return(x,v)=>{const A=ve,j=fe,$=q;return i(),g("div",qn,[t($,null,{header:n(()=>[l("div",Hn,[v[15]||(v[15]=l("div",{class:"flex items-start flex-col"},[l("span",{class:"text-xl font-bold"},"字段管理"),l("div",{class:"text-gray-500 text-sm mt-1"}," 前台申请表单与后台管理系统中使用的所有字段及其显示设置 ")],-1)),l("div",Jn,[t(y(z),{type:"primary",onClick:c},{default:n(()=>v[14]||(v[14]=[V("新增字段")])),_:1})])])]),default:n(()=>[t(j,{modelValue:_.value,"onUpdate:modelValue":v[0]||(v[0]=S=>_.value=S)},{default:n(()=>[(i(),g(O,null,M(u,S=>t(A,{key:S.value,label:S.label,name:S.value},{default:n(()=>[t(y(K),{data:h.value[S.value],border:"",class:"w-full"},{default:n(()=>[t(y(R),{label:"ID","min-width":"80",type:"index",index:1}),t(y(R),{prop:"name",label:"字段名称","min-width":"120"}),t(y(R),{prop:"description",label:"描述","min-width":"150","show-overflow-tooltip":""}),t(y(R),{label:"字段类型","min-width":"100"},{default:n(({row:T})=>{var F;return[V(I(((F=s.find(E=>E.value===T.type))==null?void 0:F.label)||T.type),1)]}),_:1}),t(y(R),{label:"在表格中显示","min-width":"120",align:"center"},{default:n(({row:T})=>[t(y(G),{modelValue:T.showInTable,"onUpdate:modelValue":F=>T.showInTable=F,onChange:()=>w(T)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(y(R),{label:"在申请页面显示","min-width":"150",align:"center"},{default:n(({row:T})=>[t(y(G),{modelValue:T.showInApply,"onUpdate:modelValue":F=>T.showInApply=F,onChange:()=>w(T)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(y(R),{label:"操作","min-width":"150",align:"center"},{default:n(({row:T})=>[t(y(z),{type:"primary",size:"small",onClick:F=>d(T)},{default:n(()=>v[16]||(v[16]=[V("编辑")])),_:2},1032,["onClick"]),t(y(z),{type:"danger",size:"small",onClick:F=>p(T)},{default:n(()=>v[17]||(v[17]=[V("删除")])),_:2},1032,["onClick"])]),_:1})]),_:2},1032,["data"])]),_:2},1032,["label","name"])),64))]),_:1},8,["modelValue"])]),_:1}),t(y(Ae),{modelValue:r.value,"onUpdate:modelValue":v[13]||(v[13]=S=>r.value=S),title:m.value,width:"500px","destroy-on-close":""},{footer:n(()=>[l("div",Gn,[t(y(z),{onClick:v[12]||(v[12]=S=>r.value=!1)},{default:n(()=>v[18]||(v[18]=[V("取消")])),_:1}),t(y(z),{type:"primary",onClick:o},{default:n(()=>v[19]||(v[19]=[V("确定")])),_:1})])]),default:n(()=>[t(y(Ve),{model:a.value,"label-width":"100px"},{default:n(()=>[t(y(te),{label:"字段名称",required:""},{default:n(()=>[t(y(Z),{modelValue:a.value.name,"onUpdate:modelValue":v[1]||(v[1]=S=>a.value.name=S),placeholder:"请输入字段名称"},null,8,["modelValue"])]),_:1}),t(y(te),{label:"描述",required:""},{default:n(()=>[t(y(Z),{modelValue:a.value.description,"onUpdate:modelValue":v[2]||(v[2]=S=>a.value.description=S),placeholder:"请输入字段描述"},null,8,["modelValue"])]),_:1}),t(y(te),{label:"字段类型",required:""},{default:n(()=>[t(y(Q),{modelValue:a.value.type,"onUpdate:modelValue":v[3]||(v[3]=S=>a.value.type=S),placeholder:"请选择字段类型"},{default:n(()=>[(i(),g(O,null,M(s,S=>t(y(X),{key:S.value,label:S.label,value:S.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(y(te),{label:"显示设置"},{default:n(()=>[l("div",Kn,[t(y(G),{modelValue:a.value.showInTable,"onUpdate:modelValue":v[4]||(v[4]=S=>a.value.showInTable=S),"active-text":"表格显示"},null,8,["modelValue"]),t(y(G),{modelValue:a.value.showInFilter,"onUpdate:modelValue":v[5]||(v[5]=S=>a.value.showInFilter=S),"active-text":"筛选显示"},null,8,["modelValue"]),t(y(G),{modelValue:a.value.showInApply,"onUpdate:modelValue":v[6]||(v[6]=S=>a.value.showInApply=S),"active-text":"申请显示"},null,8,["modelValue"]),t(y(G),{modelValue:a.value.showInRecommendMaster,"onUpdate:modelValue":v[7]||(v[7]=S=>a.value.showInRecommendMaster=S),"active-text":"推免显示"},null,8,["modelValue"]),t(y(G),{modelValue:a.value.showInExamMaster,"onUpdate:modelValue":v[8]||(v[8]=S=>a.value.showInExamMaster=S),"active-text":"考研显示"},null,8,["modelValue"]),t(y(G),{modelValue:a.value.showInPhd,"onUpdate:modelValue":v[9]||(v[9]=S=>a.value.showInPhd=S),"active-text":"博士显示"},null,8,["modelValue"]),t(y(G),{modelValue:a.value.showInDirectPhd,"onUpdate:modelValue":v[10]||(v[10]=S=>a.value.showInDirectPhd=S),"active-text":"直博显示"},null,8,["modelValue"])])]),_:1}),t(y(te),{label:"表单区域"},{default:n(()=>[t(y(Q),{modelValue:a.value.regionInForm,"onUpdate:modelValue":v[11]||(v[11]=S=>a.value.regionInForm=S),placeholder:"请选择表单区域"},{default:n(()=>[(i(),g(O,null,M(u,S=>t(y(X),{key:S.value,label:S.label,value:S.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}}),Zn=C(Wn,[["__scopeId","data-v-5e3e2b2c"]]),Tr=Object.freeze(Object.defineProperty({__proto__:null,default:Zn},Symbol.toStringTag,{value:"Module"})),Qn={class:"p-6"},Xn={class:"flex justify-between items-center"},es={class:"flex gap-2"},ts={class:"flex justify-between items-center"},as={class:"button-group"},ls={__name:"index",setup(b){var f;const e=Te(),s=P(!1),u=P(e.autoLoginDays),r=P({username:((f=e.user)==null?void 0:f.username)||"",phone:e.userInfo.phone||"",email:e.userInfo.email||"",oldPassword:"",newPassword:"",confirmPassword:""}),m=async()=>{try{const d={phone:r.value.phone,email:r.value.email,auto_login_days:u.value};if(s.value&&r.value.newPassword){if(r.value.newPassword!==r.value.confirmPassword){k.error("两次输入的密码不一致");return}d.old_password=r.value.oldPassword,d.new_password=r.value.newPassword}await e.updateUserInfo(d)?(k.success("保存成功"),s.value&&c()):k.error("保存失败")}catch{k.error("保存失败")}},a=()=>{e.logout(),k.success("退出登录成功")},c=()=>{r.value.oldPassword="",r.value.newPassword="",r.value.confirmPassword="",s.value=!1};return N(async()=>{await e.fetchUserInfo(),r.value.phone=e.userInfo.phone,r.value.email=e.userInfo.email,u.value=e.autoLoginDays}),(d,o)=>{const p=z,w=Z,h=te,_=Le,x=Ve,v=q,A=Me,j=$e;return i(),g("div",Qn,[t(v,null,{header:n(()=>[l("div",Xn,[o[10]||(o[10]=l("div",{class:"flex items-start flex-col"},[l("span",{class:"text-xl font-bold"},"账号设置"),l("div",{class:"text-gray-500 text-sm mt-1"}," 管理您的账户信息和安全设置 ")],-1)),l("div",es,[t(p,{type:"primary",onClick:o[0]||(o[0]=()=>{s.value=!0,y(k).info("请填写密码信息")}),disabled:s.value},{default:n(()=>o[8]||(o[8]=[V(" 修改密码 ")])),_:1},8,["disabled"]),t(p,{type:"danger",onClick:a},{default:n(()=>o[9]||(o[9]=[V(" 退出登录 ")])),_:1})])])]),default:n(()=>[t(j,{gutter:20},{default:n(()=>[t(A,{span:12},{default:n(()=>[t(v,{class:"box-card"},{header:n(()=>o[11]||(o[11]=[l("div",{class:"card-header"},[l("h3",null,"基本信息"),l("p",{class:"text-secondary"},"管理您的个人资料")],-1)])),default:n(()=>[t(x,{onSubmit:ie(m,["prevent"]),"label-position":"top"},{default:n(()=>[t(h,{label:"用户名"},{default:n(()=>[t(w,{modelValue:r.value.username,"onUpdate:modelValue":o[1]||(o[1]=$=>r.value.username=$),disabled:""},null,8,["modelValue"])]),_:1}),t(h,{label:"手机号码"},{default:n(()=>[t(w,{modelValue:r.value.phone,"onUpdate:modelValue":o[2]||(o[2]=$=>r.value.phone=$),placeholder:"请输入手机号码"},null,8,["modelValue"])]),_:1}),t(h,{label:"邮箱地址"},{default:n(()=>[t(w,{modelValue:r.value.email,"onUpdate:modelValue":o[3]||(o[3]=$=>r.value.email=$),placeholder:"请输入邮箱",type:"email"},null,8,["modelValue"])]),_:1}),o[14]||(o[14]=l("div",{class:"flex justify-between items-center mb-4"},[l("span",{class:"text-base font-medium"},"自动登录设置")],-1)),l("div",ts,[t(h,null,{default:n(()=>[t(_,{modelValue:u.value,"onUpdate:modelValue":o[4]||(o[4]=$=>u.value=$),min:1,max:30,"controls-position":"right"},null,8,["modelValue"]),o[12]||(o[12]=l("span",{class:"days-text"},"天",-1))]),_:1}),t(p,{type:"primary",onClick:m},{default:n(()=>o[13]||(o[13]=[V("保存修改")])),_:1})])]),_:1})]),_:1})]),_:1}),t(A,{span:12},{default:n(()=>[s.value?(i(),D(v,{key:0,class:"box-card password-card"},{header:n(()=>o[15]||(o[15]=[l("div",{class:"card-header"},[l("h3",null,"修改密码"),l("p",{class:"text-secondary"},"设置新的账号密码")],-1)])),default:n(()=>[t(x,{onSubmit:ie(m,["prevent"]),"label-position":"top"},{default:n(()=>[t(h,{label:"原密码"},{default:n(()=>[t(w,{modelValue:r.value.oldPassword,"onUpdate:modelValue":o[5]||(o[5]=$=>r.value.oldPassword=$),type:"password",placeholder:"请输入原密码","show-password":""},null,8,["modelValue"])]),_:1}),t(h,{label:"新密码"},{default:n(()=>[t(w,{modelValue:r.value.newPassword,"onUpdate:modelValue":o[6]||(o[6]=$=>r.value.newPassword=$),type:"password",placeholder:"请输入新密码","show-password":""},null,8,["modelValue"])]),_:1}),t(h,{label:"确认新密码"},{default:n(()=>[t(w,{modelValue:r.value.confirmPassword,"onUpdate:modelValue":o[7]||(o[7]=$=>r.value.confirmPassword=$),type:"password",placeholder:"请再次输入新密码","show-password":""},null,8,["modelValue"])]),_:1}),l("div",as,[t(p,{onClick:c},{default:n(()=>o[16]||(o[16]=[V("取消修改")])),_:1}),t(p,{type:"primary","native-type":"submit"},{default:n(()=>o[17]||(o[17]=[V("确认修改")])),_:1})])]),_:1})]),_:1})):B("",!0)]),_:1})]),_:1})]),_:1})])}}},os=C(ls,[["__scopeId","data-v-5b97f2d0"]]),jr=Object.freeze(Object.defineProperty({__proto__:null,default:os},Symbol.toStringTag,{value:"Module"})),ns={class:"contact-container"},ss={class:"contact-content"},rs=L({__name:"Contact",setup(b){return(e,s)=>(i(),D(Se,null,{default:n(()=>[l("div",ns,[t(y(q),{class:"contact-card"},{default:n(()=>[l("div",ss,[s[0]||(s[0]=l("h2",{class:"text-2xl font-bold mb-6 text-center text-gray-800"}," 联系我们 ",-1)),s[1]||(s[1]=l("div",{class:"email-section"},[l("p",{class:"text-lg font-medium mb-2"},"邮箱地址"),l("p",{class:"text-xl font-semibold text-blue-600 mb-4"}," palmapplication@163.com ")],-1)),t(y(Pe)),s[2]||(s[2]=l("div",{class:"instruction-section"},[l("h3",{class:"text-lg font-medium mb-3"},"发送邮件须知"),l("ul",{class:"text-gray-700 space-y-2 text-left"},[l("li",null,"• 请在邮件中注明您的基本信息："),l("li",{class:"ml-4"},"- 学校"),l("li",{class:"ml-4"},"- 姓名"),l("li",{class:"ml-4"},"- 申请类型"),l("li",null,"• 详细描述您遇到的问题、建议或看法"),l("li",null,"• 请在邮件中附上相关材料，如截图等")])],-1)),t(y(Pe)),s[3]||(s[3]=l("div",{class:"promise-section text-center"},[l("p",{class:"text-gray-700 mb-2"},"我们会尽快回复并解决您提出的问题"),l("p",{class:"text-gray-600"},"感谢您的支持与建议！")],-1))])]),_:1})])]),_:1}))}}),is=C(rs,[["__scopeId","data-v-d32391ea"]]),ds={__name:"index",setup(b){return(e,s)=>(i(),D(is))}},Fr=Object.freeze(Object.defineProperty({__proto__:null,default:ds},Symbol.toStringTag,{value:"Module"})),us={class:"container"},cs={class:"center-table"},ps={__name:"index",setup(b){const e=H(),{personnel:s}=dt(e);return N(async()=>{await e.fetchPersonnel()}),(u,r)=>(i(),D(Se,null,{default:n(()=>[l("div",us,[r[1]||(r[1]=l("h1",{class:"title"},"PALM实验室招收 2026 年秋季入学博士及硕士研究生",-1)),r[2]||(r[2]=l("p",{class:"welcome-message"}," 欢迎报考计算机学院、软件学院、东-蒙联合研究生院的同学申请 ",-1)),r[3]||(r[3]=l("ul",{class:"notice-list"},[l("li",null,[V(" 申请前请首先阅读 PALM 实验室招生说明 "),l("a",{href:"https://palm.seu.edu.cn/application.html"},"https://palm.seu.edu.cn/application.html"),V("。 ")]),l("li",null,[V(" 报名系统网址："),l("a",{href:"https://palm.inon.space"},"https://palm.inon.space"),V("。 ")]),l("li",null,[V(" 有关PALM实验室具体情况，请访问实验室官方网站："),l("a",{href:"https://palm.seu.edu.cn"},"https://palm.seu.edu.cn"),V("。 ")])],-1)),r[4]||(r[4]=l("h3",null,"2024年PALM实验室拟招生导师名单",-1)),l("table",cs,[r[0]||(r[0]=l("thead",null,[l("tr",null,[l("th",null,"拟招生导师"),l("th",null,"拟招生对象"),l("th",null,"招生院系"),l("th",null,"研究方向")])],-1)),l("tbody",null,[(i(!0),g(O,null,M(y(s),(m,a)=>(i(),g("tr",{key:a},[l("td",null,I(m.name),1),l("td",null,I(m.recruitment_type),1),l("td",null,I(m.department),1),l("td",null,I(m.research_direction),1)]))),128))])])])]),_:1}))}},ms=C(ps,[["__scopeId","data-v-432754b1"]]),Or=Object.freeze(Object.defineProperty({__proto__:null,default:ms},Symbol.toStringTag,{value:"Module"})),_s={};function fs(b,e){return" 介绍 "}const vs=C(_s,[["render",fs]]),Ur=Object.freeze(Object.defineProperty({__proto__:null,default:vs},Symbol.toStringTag,{value:"Module"})),bs={};function ys(b,e){return" 新闻 "}const hs=C(bs,[["render",ys]]),Mr=Object.freeze(Object.defineProperty({__proto__:null,default:hs},Symbol.toStringTag,{value:"Module"})),gs={};function ws(b,e){return" 成员 "}const xs=C(gs,[["render",ws]]),Ar=Object.freeze(Object.defineProperty({__proto__:null,default:xs},Symbol.toStringTag,{value:"Module"})),$s={};function Vs(b,e){return" 学术 "}const Ss=C($s,[["render",Vs]]),Lr=Object.freeze(Object.defineProperty({__proto__:null,default:Ss},Symbol.toStringTag,{value:"Module"})),ks={class:"grid grid-cols-3 gap-4"},Cs={class:"flex items-center gap-2"},Ds={key:0,class:"text-center py-8 text-gray-500"},Ps={class:"mt-4 flex justify-between"},Is={class:"flex gap-4"},Ts=L({__name:"UniversityLevel",setup(b){const e=H();N(async()=>{try{await e.fetchUniversities()}catch{k.error("加载院校数据失败")}});const s=()=>{e.universities.push({name:"",level:""})},u=async m=>{e.universities.splice(m,1),await e.saveUniversities()},r=async()=>{try{await e.saveUniversities(),k.success("院校数据提交成功")}catch{k.error("院校数据提交失败")}};return Y(()=>e.universities,()=>{e.isInitializing||k.warning("您已修改院校数据，请记得提交更改")},{deep:!0}),(m,a)=>{const c=Z,f=X,d=Q,o=z;return i(),g("div",null,[l("div",ks,[(i(!0),g(O,null,M(y(e).universities,(p,w)=>(i(),g("div",{key:w,class:"border p-4 rounded"},[l("div",Cs,[t(c,{modelValue:p.name,"onUpdate:modelValue":h=>p.name=h,placeholder:"请输入院校名称"},null,8,["modelValue","onUpdate:modelValue"]),t(d,{modelValue:p.level,"onUpdate:modelValue":h=>p.level=h,placeholder:"选择等级",style:{width:"120px"}},{default:n(()=>[t(f,{label:"A",value:"A"}),t(f,{label:"B",value:"B"}),t(f,{label:"C",value:"C"}),t(f,{label:"国际前100",value:"国际前100"}),t(f,{label:"国际前200",value:"国际前200"})]),_:2},1032,["modelValue","onUpdate:modelValue"]),t(o,{type:"danger",onClick:h=>u(w),size:"small"},{default:n(()=>a[0]||(a[0]=[V("删除")])),_:2},1032,["onClick"])])]))),128))]),y(e).universities.length===0?(i(),g("div",Ds,I(y(e).isInitializing?"加载中...":"暂无数据"),1)):B("",!0),l("div",Ps,[l("div",Is,[t(o,{type:"primary",onClick:s},{default:n(()=>a[1]||(a[1]=[V("新增院校")])),_:1})]),t(o,{type:"success",onClick:r},{default:n(()=>a[2]||(a[2]=[V("提交更改")])),_:1})])])}}}),js=Object.freeze(Object.defineProperty({__proto__:null,default:Ts},Symbol.toStringTag,{value:"Module"})),Fs={class:"mt-4 flex justify-between"},Os={class:"flex gap-4"},Us=L({__name:"MajorCategory",setup(b){const e=H();N(async()=>{try{await e.fetchMajors()}catch{k.error("加载专业数据失败")}});const s=()=>{e.majors.push({name:"",category:""})},u=async m=>{e.majors.splice(m,1),await e.saveMajors()},r=async()=>{try{await e.saveMajors(),k.success("专业数据提交成功")}catch{k.error("专业数据提交失败")}};return Y(()=>e.majors,()=>{e.isInitializing||k.warning("您已修改专业数据，请记得提交更改")},{deep:!0}),(m,a)=>{const c=Z,f=R,d=X,o=Q,p=z,w=K;return i(),g("div",null,[t(w,{data:y(e).majors,style:{width:"100%"}},{default:n(()=>[t(f,{prop:"name",label:"专业名称"},{default:n(({row:h})=>[t(c,{modelValue:h.name,"onUpdate:modelValue":_=>h.name=_,placeholder:"请输入专业名称"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(f,{prop:"category",label:"分类"},{default:n(({row:h})=>[t(o,{modelValue:h.category,"onUpdate:modelValue":_=>h.category=_,placeholder:"选择分类"},{default:n(()=>[t(d,{label:"可录取专业",value:"可录取专业"}),t(d,{label:"数学类",value:"数学类"}),t(d,{label:"电子信息类",value:"电子信息类"}),t(d,{label:"自动化类",value:"自动化类"}),t(d,{label:"其他工科",value:"其他工科"}),t(d,{label:"理科（非数学）",value:"理科（非数学）"}),t(d,{label:"文商科",value:"文商科"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),t(f,{label:"操作"},{default:n(({$index:h})=>[t(p,{type:"danger",onClick:_=>u(h),size:"small"},{default:n(()=>a[0]||(a[0]=[V("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l("div",Fs,[l("div",Os,[t(p,{type:"primary",onClick:s},{default:n(()=>a[1]||(a[1]=[V("新增专业")])),_:1})]),t(p,{type:"success",onClick:r},{default:n(()=>a[2]||(a[2]=[V("提交更改")])),_:1})])])}}}),Ms=Object.freeze(Object.defineProperty({__proto__:null,default:Us},Symbol.toStringTag,{value:"Module"})),As={class:"mt-4 flex justify-between"},Ls={class:"flex gap-4"},Es=L({__name:"PersonnelManagement",setup(b){const e=H();N(async()=>{try{await e.fetchPersonnel()}catch{k.error("加载专业数据失败")}});const s=()=>{e.personnel.push({name:"",recruitment_type:"",department:"",research_direction:"",order:e.personnel.length})},u=async a=>{e.personnel.splice(a,1),await e.savePersonnel()},r=async()=>{try{await e.savePersonnel(),k.success("人员数据提交成功")}catch{k.error("人员数据提交失败")}};N(()=>{const a=document.querySelector(".el-table__body-wrapper tbody");a&&new gt(a,{handle:".move-icon",animation:150,onEnd:({newIndex:c,oldIndex:f})=>{if(typeof c=="number"&&typeof f=="number"){const d=e.personnel.splice(f,1)[0];e.personnel.splice(c,0,d),e.personnel.forEach((o,p)=>{o.order=p}),k.warning("您已修改人员顺序，请记得提交更改")}}})});const m=()=>"draggable-row";return Y(()=>e.personnel,()=>{e.isInitializing||k.warning("您已修改人员数据，请记得提交更改")},{deep:!0}),(a,c)=>{const f=vt,d=R,o=Z,p=X,w=Q,h=z,_=K;return i(),g("div",null,[t(_,{data:y(e).personnel,style:{width:"100%"},"row-key":"name","row-class-name":m},{default:n(()=>[t(d,{width:"40"},{default:n(()=>[t(f,{class:"move-icon cursor-move"},{default:n(()=>[t(y(xt))]),_:1})]),_:1}),t(d,{prop:"order",label:"序号",width:"60"},{default:n(({row:x})=>[V(I(x.order+1),1)]),_:1}),t(d,{prop:"name",label:"姓名"},{default:n(({row:x})=>[t(o,{modelValue:x.name,"onUpdate:modelValue":v=>x.name=v,placeholder:"请输入姓名"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(d,{prop:"recruitment_type",label:"招生类型"},{default:n(({row:x})=>[t(w,{modelValue:x.recruitment_type,"onUpdate:modelValue":v=>x.recruitment_type=v,placeholder:"选择招生类型"},{default:n(()=>[t(p,{label:"博士生、直博生、硕士生",value:"博士生、直博生、硕士生"}),t(p,{label:"硕士生",value:"硕士生"}),t(p,{label:"博士生、直博生",value:"博士生、直博生"}),t(p,{label:"暂不招生",value:"暂不招生"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),t(d,{prop:"department",label:"所属院系"},{default:n(({row:x})=>[t(o,{modelValue:x.department,"onUpdate:modelValue":v=>x.department=v,placeholder:"请输入所属院系"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(d,{prop:"research_direction",label:"研究方向"},{default:n(({row:x})=>[t(o,{modelValue:x.research_direction,"onUpdate:modelValue":v=>x.research_direction=v,placeholder:"请输入研究方向"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(d,{label:"操作"},{default:n(({$index:x})=>[t(h,{type:"danger",onClick:v=>u(x),size:"small"},{default:n(()=>c[0]||(c[0]=[V("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l("div",As,[l("div",Ls,[t(h,{type:"primary",onClick:s},{default:n(()=>c[1]||(c[1]=[V("新增人员")])),_:1})]),t(h,{type:"success",onClick:r},{default:n(()=>c[2]||(c[2]=[V("提交更改")])),_:1})])])}}}),zs=C(Es,[["__scopeId","data-v-69f7b6aa"]]),Ns=Object.freeze(Object.defineProperty({__proto__:null,default:zs},Symbol.toStringTag,{value:"Module"})),Rs={class:"date-setting"},Bs={class:"mb-8"},Ys={class:"flex items-center"},qs={class:"mt-8 mb-4"},Hs={class:"flex items-center"},Js={class:"mt-4 text-right"},Ks=L({__name:"DateSetting",setup(b){const e=at(),s=H(),u=P(new Date().getFullYear());N(async()=>{try{await s.fetchYear(),s.year.year>0&&(u.value=s.year.year,m.value=u.value,await e.fetchAdmissionDatesByYear(m.value))}catch(d){console.error("初始化数据失败:",d)}});const r=async d=>{try{await s.saveYear(d),m.value=d,await e.fetchAdmissionDatesByYear(d),k.success("当前招生年份设置成功")}catch(o){console.error("保存当前招生年份失败:",o),k.error("保存当前招生年份失败")}},m=P(u.value),a=U(()=>{const d=[],o=new Date().getFullYear();for(let p=o-1;p<=o+2;p++)d.push(p);return d}),c=async d=>{await e.fetchAdmissionDatesByYear(d)},f=async()=>{await e.saveAdmissionDatesByYear(m.value)};return(d,o)=>{const p=X,w=Q,h=R,_=bt,x=K,v=z,A=_e;return i(),g("div",Rs,[l("div",Bs,[l("div",Ys,[o[2]||(o[2]=l("span",{class:"mr-2"},"当前招生年份：",-1)),t(w,{modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=j=>u.value=j),placeholder:"请选择当前招生年份",class:"w-48",onChange:r},{default:n(()=>[(i(!0),g(O,null,M(a.value,j=>(i(),D(p,{key:j,label:j+"年",value:j},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),t(lt),l("div",qs,[l("div",Hs,[o[3]||(o[3]=l("span",{class:"mr-2"},"招生日期设置：",-1)),t(w,{modelValue:m.value,"onUpdate:modelValue":o[1]||(o[1]=j=>m.value=j),placeholder:"请选择年份",class:"w-48",onChange:c},{default:n(()=>[(i(!0),g(O,null,M(a.value,j=>(i(),D(p,{key:j,label:j+"年",value:j},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),W((i(),D(x,{data:y(e).admissionDates,border:""},{default:n(()=>[t(h,{prop:"type",label:"招生类型",width:"180"}),t(h,{label:"开始时间"},{default:n(({row:j})=>[t(_,{modelValue:j.start_time,"onUpdate:modelValue":$=>j.start_time=$,type:"datetime",placeholder:"选择开始时间",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(h,{label:"结束时间"},{default:n(({row:j})=>[t(_,{modelValue:j.end_time,"onUpdate:modelValue":$=>j.end_time=$,type:"datetime",placeholder:"选择结束时间",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"])),[[A,y(e).isLoading]]),l("div",Js,[t(v,{type:"primary",onClick:f,loading:y(e).isLoading},{default:n(()=>o[4]||(o[4]=[V(" 保存设置 ")])),_:1},8,["loading"])])])}}}),Gs=C(Ks,[["__scopeId","data-v-c3d4b505"]]),Ws=Object.freeze(Object.defineProperty({__proto__:null,default:Gs},Symbol.toStringTag,{value:"Module"})),Zs={class:"mt-4 flex justify-between"},Qs=L({__name:"AwardSetting",setup(b){const e=H();N(async()=>{try{await e.fetchAwards()}catch{k.error("加载奖项数据失败")}});const s=()=>{e.awards.push({name:"",level:"",category:""})},u=async m=>{e.awards.splice(m,1),await e.saveAwards()},r=async()=>{try{await e.saveAwards(),k.success("奖项配置保存成功")}catch{k.error("奖项配置保存失败")}};return Y(()=>e.awards,()=>{e.isInitializing||k.warning("您已修改奖项数据，请记得提交更改")},{deep:!0}),(m,a)=>{const c=Z,f=R,d=X,o=Q,p=z,w=K;return i(),g("div",null,[t(w,{data:y(e).awards,style:{width:"100%"}},{default:n(()=>[t(f,{prop:"name",label:"奖项名称"},{default:n(({row:h})=>[t(c,{modelValue:h.name,"onUpdate:modelValue":_=>h.name=_,placeholder:"请输入奖项名称"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(f,{prop:"level",label:"奖项等级"},{default:n(({row:h})=>[t(o,{modelValue:h.level,"onUpdate:modelValue":_=>h.level=_,placeholder:"选择奖项等级"},{default:n(()=>[t(d,{label:"国家级",value:"国家级"}),t(d,{label:"省部级",value:"省部级"}),t(d,{label:"校级",value:"校级"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),t(f,{prop:"category",label:"奖项类别"},{default:n(({row:h})=>[t(c,{modelValue:h.category,"onUpdate:modelValue":_=>h.category=_,placeholder:"请输入奖项类别"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(f,{label:"操作"},{default:n(({$index:h})=>[t(p,{type:"danger",onClick:_=>u(h),size:"small"},{default:n(()=>a[0]||(a[0]=[V("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l("div",Zs,[t(p,{type:"primary",onClick:s},{default:n(()=>a[1]||(a[1]=[V("新增奖项")])),_:1}),t(p,{type:"success",onClick:r},{default:n(()=>a[2]||(a[2]=[V("提交更改")])),_:1})])])}}}),Xs=Object.freeze(Object.defineProperty({__proto__:null,default:Qs},Symbol.toStringTag,{value:"Module"})),er={class:"mt-4 flex justify-between"},tr=L({__name:"YearSetting",setup(b){const e=H();N(async()=>{try{await e.fetchYears()}catch{k.error("加载年份数据失败")}});const s=()=>{e.years.push({year:"",status:""})},u=async m=>{e.years.splice(m,1),await e.saveYears()},r=async()=>{try{await e.saveYears(),k.success("年份配置保存成功")}catch{k.error("年份配置保存失败")}};return Y(()=>e.years,()=>{e.isInitializing||k.warning("您已修改年份数据，请记得提交更改")},{deep:!0}),(m,a)=>{const c=Z,f=R,d=X,o=Q,p=z,w=K;return i(),g("div",null,[t(w,{data:y(e).years,style:{width:"100%"}},{default:n(()=>[t(f,{prop:"year",label:"年份"},{default:n(({row:h})=>[t(c,{modelValue:h.year,"onUpdate:modelValue":_=>h.year=_,placeholder:"请输入年份"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(f,{prop:"status",label:"状态"},{default:n(({row:h})=>[t(o,{modelValue:h.status,"onUpdate:modelValue":_=>h.status=_,placeholder:"选择状态"},{default:n(()=>[t(d,{label:"启用",value:"启用"}),t(d,{label:"禁用",value:"禁用"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),t(f,{label:"操作"},{default:n(({$index:h})=>[t(p,{type:"danger",onClick:_=>u(h),size:"small"},{default:n(()=>a[0]||(a[0]=[V("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l("div",er,[t(p,{type:"primary",onClick:s},{default:n(()=>a[1]||(a[1]=[V("新增年份")])),_:1}),t(p,{type:"success",onClick:r},{default:n(()=>a[2]||(a[2]=[V("提交更改")])),_:1})])])}}}),ar=Object.freeze(Object.defineProperty({__proto__:null,default:tr},Symbol.toStringTag,{value:"Module"}));export{Mr as A,Ar as B,Lr as C,cr as a,pr as b,mr as c,_r as d,fr as e,vr as f,br as g,yr as h,ur as i,hr as j,gr as k,wr as l,xr as m,$r as n,Vr as o,Sr as p,kr as q,Cr as r,Dr as s,Pr as t,Ir as u,Tr as v,jr as w,Fr as x,Or as y,Ur as z};
