import{_ as I,u as Q,b as st,d as Re,B as rt,e as it,f as dt,Z as ut,K as ct,h as pt,i as ge,j as Le,k as mt,l as _t,r as ze,m as $e,n as ft,o as Be,p as Ce,q as vt,s as bt,t as be,v as yt,w as ht,x as gt,y as wt,z as $t,A as xt,C as je,D as kt,E as Vt,F as qe,G as St,H as Ct,I as me,J as Ft,L as Dt}from"./main.js";import{g as v,o as r,h as l,K as Ye,V as A,ai as M,U,T as w,C as E,i as D,l as z,H,aR as Oe,R as B,W as t,r as J,Q as n,b as C,L as It,aS as Ue,O as Pt,u as g,G as K,w as se,aw as Te,v as Tt,a1 as ye,aT as He,M as he,aU as jt,D as Ot,S as ve,aV as _e,aW as Ut}from"./vendor-core.js";import{a as R,b as We,c as ee,E as S,d as W,e as ae,f as Ke,g as Ge,h as le,j as At,v as we,k as xe,l as oe,m as Je,n as Ze,o as Mt,p as ke,q as ne,r as Nt,s as Qe,t as de,u as Z,w as Xe,x as Ae,y as Lt,A as zt,B as Ve,C as Se,D as et,F as Ee,G as Et}from"./vendor-element-plus.js";import{v as Rt,c9 as Bt,ca as qt,cb as Yt}from"./vendors.js";import{i as ue}from"./vendor-echarts.js";import{u as pe,w as tt,r as Ht}from"./vendor-xlsx.js";import{Q as Wt}from"./vendor-icons.js";const Kt={},Gt={class:"hero-section"},Jt={class:"container"};function Zt(h,e){return r(),v("div",Gt,[l("div",Jt,[Ye(h.$slots,"default",{},void 0,!0)])])}const Qt=I(Kt,[["render",Zt],["__scopeId","data-v-d4948bb0"]]),Xt={data(){return{footerSections:[{title:"项目开源",links:[{name:"个人项目",url:"https://github.com/JacksonHe04"},{name:"Gitee 仓库",url:"https://gitee.com/JacksonHe04/PalmAdmissionsSystem"},{name:"GitHub 仓库",url:"https://github.com/JacksonHe04/PalmAdmissionsSystem"}]},{title:"联系我们",links:[{name:"联系管理员",url:"/contact"},{name:"联系开发者",url:"/contact"}]},{title:"更多网站",links:[{name:"东南大学官网",url:"https://www.seu.edu.cn/"},{name:"东南大学计算机学院",url:"https://cs.sdu.edu.cn/"},{name:"东大计软智导航",url:"https://seucseweb.github.io/"}]},{title:"关于 PALM",links:[{name:"PALM 实验室",url:"https://palm.seu.edu.cn/"},{name:"研究生申请指南",url:"https://palm.seu.edu.cn/application.html"},{name:"实验室成员",url:"https://palm.seu.edu.cn/members.html"}]}]}}},ea={class:"w-full mt-0 py-5 sm:py-10 px-4 sm:px-6 lg:px-8"},ta={class:"mx-auto max-w-screen-lg px-4 sm:px-6 lg:px-8"},aa={class:"flex flex-col sm:flex-row gap-4 sm:gap-8"},la={class:"text-gray-500 font-bold mb-2"},oa={class:"space-y-2"},na=["href"];function sa(h,e,s,u,i,_){return r(),v("footer",ea,[l("div",ta,[l("div",aa,[(r(!0),v(A,null,M(i.footerSections,(o,d)=>(r(),v("div",{key:d,class:"mx-auto my-0 md:text-left"},[l("h3",la,U(o.title),1),l("ul",oa,[(r(!0),v(A,null,M(o.links,(p,m)=>(r(),v("li",{key:m},[l("a",{href:p.url,target:"_blank",class:"text-gray-500 hover:text-blue-500"},U(p.name),9,na)]))),128))])]))),128))]),e[0]||(e[0]=l("div",{class:"mt-8 sm:mt-10 border-t border-white pt-5 sm:pt-10"},[l("p",{class:"text-center text-gray-500"},[w(" CopyRight © 何锦诚 | 刘宇轩 | 戴雨成 | 胡瀚 "),l("br",{class:"md:hidden"}),w("2025 All rights reserved. ")]),l("p",{class:"text-center text-gray-500 mt-3"}," 东南大学 2025 年创业实践项目作品 ")],-1))])])}const ra=I(Xt,[["render",sa],["__scopeId","data-v-6491b9b2"]]),ia={class:"container mx-auto flex justify-between items-center py-3 md:py-4"},da={class:"hidden md:flex space-x-8"},ua={key:0,class:"md:hidden bg-transparent py-4 px-4 space-y-4"},ca=E({__name:"Header",setup(h){const e=Oe(),s=D(!1),u=Q(),i=D(new Date().getFullYear()),_=z(()=>st(i.value));H(async()=>{try{await u.fetchYear(),i.value=u.year.year}catch(p){console.error("Failed to fetch year:",p)}});const o=z(()=>e.path.startsWith("/admin")?{backgroundColor:"white"}:{backgroundImage:"url('/home-bg-m.png')"}),d=()=>{s.value=!s.value};return(p,m)=>{const a=J("RouterLink");return r(),v("nav",{class:"bg-cover bg-center",style:It(o.value)},[l("div",ia,[t(a,{to:"/",class:"flex items-center gap-2 text-2xl font-bold text-gray-800"},{default:n(()=>m[0]||(m[0]=[l("img",{src:Re,alt:"Palm Logo",class:"logo"},null,-1),l("div",{class:"nav-title"},"SEU PALM Lab",-1)])),_:1}),l("div",da,[(r(!0),v(A,null,M(_.value,c=>(r(),C(a,{key:c.to,to:c.to,class:"text-gray-600 hover:text-gray-800"},{default:n(()=>[w(U(c.name),1)]),_:2},1032,["to"]))),128))]),l("div",{class:"md:hidden"},[l("button",{onClick:d,class:"text-gray-600 hover:text-gray-800"},m[1]||(m[1]=[l("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16m-7 6h7"})],-1)]))])]),s.value?(r(),v("div",ua,[(r(!0),v(A,null,M(_.value,c=>(r(),C(a,{key:c.to,to:c.to,class:"block text-gray-600 hover:text-gray-800"},{default:n(()=>[w(U(c.name),1)]),_:2},1032,["to"]))),128))])):B("",!0)],4)}}}),pa=I(ca,[["__scopeId","data-v-b6d2c5e0"]]),ma={},_a={class:"main mt-14 md:mt-16"};function fa(h,e){const s=J("RouterView");return r(),v("div",_a,[t(s)])}const va=I(ma,[["render",fa],["__scopeId","data-v-7aa6606c"]]),ba={__name:"index",setup(h){return(e,s)=>(r(),C(Qt,null,{default:n(()=>[t(pa),t(va),t(rt)]),_:1}))}},Kr=Object.freeze(Object.defineProperty({__proto__:null,default:ba},Symbol.toStringTag,{value:"Module"})),ya={},ha={class:"not-found"},ga={class:"not-found-content"},wa={class:"action-form"};function $a(h,e){const s=R,u=J("RouterLink");return r(),v("div",ha,[l("div",ga,[e[1]||(e[1]=l("h1",{class:"not-found-title"},"404",-1)),e[2]||(e[2]=l("p",{class:"not-found-description"}," 抱歉，您访问的页面不存在 ",-1)),l("div",wa,[t(u,{to:"/"},{default:n(()=>[t(s,{type:"primary",size:"large"},{default:n(()=>e[0]||(e[0]=[w("返回首页")])),_:1})]),_:1})])])])}const xa=I(ya,[["render",$a],["__scopeId","data-v-da6ea603"]]),Gr=Object.freeze(Object.defineProperty({__proto__:null,default:xa},Symbol.toStringTag,{value:"Module"})),ka={},Va={class:"hero"},Sa={class:"hero-content"},Ca={class:"email-form"};function Fa(h,e){const s=R,u=J("RouterLink");return r(),v("div",Va,[l("div",Sa,[e[1]||(e[1]=l("h1",{class:"hero-title"},"PAttern Learning and Mining(PALM) Lab",-1)),e[2]||(e[2]=l("p",{class:"hero-description"}," PALM 实验室隶属东南大学计算机科学与工程学院，地点位于东南大学九龙湖校区计算机楼，主要从事数据挖掘与知识发现、机器学习、模式识别以及相关领域的基础性、前沿性、创新性的研究工作。 ",-1)),l("div",Ca,[t(u,{to:"/join"},{default:n(()=>[t(s,{type:"primary",size:"large"},{default:n(()=>e[0]||(e[0]=[w("申请加入我们")])),_:1})]),_:1})])]),e[3]||(e[3]=Ue('<div class="hero-image" data-v-b654dff6><div class="achievement-badge" data-v-b654dff6><div style="display:flex;align-items:center;gap:8px;" data-v-b654dff6><div data-v-b654dff6><div style="font-weight:bold;font-size:20px;" data-v-b654dff6>100+</div><div style="font-size:14px;color:#6b7280;" data-v-b654dff6>Students</div></div></div></div><img src="'+it+'" alt="home-img" class="home-img" data-v-b654dff6><div class="users-badge" data-v-b654dff6><div style="font-weight:bold;font-size:20px;" data-v-b654dff6>25+</div><div style="font-size:14px;color:#6b7280;" data-v-b654dff6>Mentors</div></div></div>',1))])}const Da=I(ka,[["render",Fa],["__scopeId","data-v-b654dff6"]]),Ia={class:"cards mt-0"},Pa={href:"https://palm.seu.edu.cn/application.html",target:"_blank"},Ta={class:"stats-card h-full"},ja={class:"stats-number"},Oa={class:"small-cards-list"},Ua={class:"small-cards"},Aa=["href"],Ma={class:"small-card"},Na={__name:"HomeCards",setup(h){const e=Q(),s=D("");H(async()=>{await e.fetchYear(),s.value=e.year.year});const u=D([{icon:"👥",title:"PALM 实验室简介",href:"https://palm.seu.edu.cn/home.html"},{icon:"👩‍🎓",title:"研究队伍及人才培养",href:"https://palm.seu.edu.cn/members.html"},{icon:"🎓",title:"科学研究及主要成果",href:"https://palm.seu.edu.cn/publication.html"},{icon:"📚️",title:"科研资源共享",href:"https://palm.seu.edu.cn/projects.html"}]);return(i,_)=>(r(),v("div",Ia,[l("a",Pa,[l("div",Ta,[l("div",ja,[w(U(s.value),1),_[0]||(_[0]=l("br",null,null,-1)),_[1]||(_[1]=w("Join Us"))]),_[2]||(_[2]=l("div",null,"请阅读PALM实验室招生说明",-1)),_[3]||(_[3]=l("div",{class:"mt-2 read"},"点击阅读",-1))])]),l("div",Oa,[_[4]||(_[4]=Ue('<a href="https://palm.seu.edu.cn" target="_blank" data-v-f7511f04><div class="horizontal-card" data-v-f7511f04><div class="flex justify-center" data-v-f7511f04><div data-v-f7511f04><div style="font-weight:600;" data-v-f7511f04> 东南大学 PALM 实验室 </div><p style="font-size:14px;color:#6b7280;margin-top:4px;" data-v-f7511f04> 计算机科学与工程学院 </p><div style="margin-top:8px;" data-v-f7511f04>了解详情</div></div></div></div></a>',1)),l("div",Ua,[(r(!0),v(A,null,M(u.value,(o,d)=>(r(),v("a",{key:d,href:o.href,target:"_blank"},[l("div",Ma,[l("span",null,U(o.icon),1),l("div",null,U(o.title),1)])],8,Aa))),128))])])]))}},La=I(Na,[["__scopeId","data-v-f7511f04"]]),za={class:"home-main my-0 md:my-8 pb-20 px-5"},Ea={__name:"FrontMain",setup(h){return(e,s)=>(r(),v(A,null,[l("div",za,[Ye(e.$slots,"default",{},void 0,!0)]),t(ra)],64))}},Me=I(Ea,[["__scopeId","data-v-8a3fb0bd"]]),Ra={__name:"Home",setup(h){return(e,s)=>(r(),C(Me,null,{default:n(()=>[t(Da),t(La)]),_:1}))}},Ba={__name:"index",setup(h){return(e,s)=>(r(),C(Ra))}},Jr=Object.freeze(Object.defineProperty({__proto__:null,default:Ba},Symbol.toStringTag,{value:"Module"})),qa={class:"recruitment-card"},Ya={class:"card-content"},Ha={class:"icon"},Wa=["src","alt"],Ka={class:"text-content"},Ga={class:"info"},Ja={key:1},Za=E({__name:"JoinCard",props:{iconSrc:{},title:{},labelText:{},description:{},path:{}},setup(h){return(e,s)=>{const u=J("RouterLink");return r(),C(u,{to:e.path},{default:n(()=>[l("div",qa,[l("div",Ya,[l("div",Ha,[l("img",{src:e.iconSrc,alt:e.title,class:"svg-icon"},null,8,Wa)]),l("div",Ka,[l("h3",null,U(e.title),1),l("div",Ga,[e.labelText?(r(),v(A,{key:0},[l("p",null,U(e.labelText)+":",1),l("p",null,U(e.description),1)],64)):(r(),v("p",Ja,U(e.description),1))]),s[0]||(s[0]=l("div",{class:"arrow"},[l("p",{class:"apply-text"},"立即申请"),l("p",{class:"arrow-icon"},"→")],-1))])])])]),_:1},8,["to"])}}}),Qa=I(Za,[["__scopeId","data-v-5f078945"]]),Xa={class:"join-container mt-24"},el={class:"recruitment-grid"},tl=E({__name:"index",setup(h){const e=[{iconSrc:dt,title:"硕士推免招生",labelText:"招收对象",description:"获得推免资格的优秀本科应届生",path:"/apply/recommend-master"},{iconSrc:ut,title:"直博招生",labelText:"招收对象",description:"获得推免资格的优秀本科应届生",path:"/apply/direct-phd"},{iconSrc:ct,title:"考研招生",labelText:"招收方向",description:"全国硕士研究生统一招生考试招生",path:"/apply/exam-master"},{iconSrc:pt,title:"博士招生",labelText:"招收对象",description:"全年招收优秀博士研究生",path:"/apply/phd"}];return(s,u)=>(r(),v("div",Xa,[l("div",el,[(r(),v(A,null,M(e,i=>t(Qa,Pt({key:i.title,ref_for:!0},i),null,16)),64))])]))}}),al=I(tl,[["__scopeId","data-v-d03097f0"]]),Zr=Object.freeze(Object.defineProperty({__proto__:null,default:al},Symbol.toStringTag,{value:"Module"})),ll=()=>{const h=D(["name","phone","email","applicationType","university","major","majorCount","rank","year"]);return{requiredFields:h,isFieldRequired:u=>h.value.includes(u),validateForm:(u,i)=>{for(const _ of h.value){const o=u[_];if(o===void 0||o===""||Array.isArray(o)&&o.length===0){const d=i.find(p=>p.variableName===_);throw new Error(`${(d==null?void 0:d.name)||_}是必填项`)}}return!0}}},ol=h=>{const e=ge();return{calculatePercentage:()=>{const u=Number(h.value.rank),i=Number(h.value.majorCount);if(!isNaN(u)&&!isNaN(i)&&i!==0){const _=Math.floor(u/i*100);return e.updateField("percentage",`${_}%`),`${_}%`}return""}}},nl={class:"upload-container"},sl={key:0,class:"file-list"},rl=E({__name:"UploadFile",setup(h){const e=D([]),s=ge(),u=z(()=>s.formData.id),i=z(()=>Le.headers(u.value)),_=a=>["application/zip","application/x-zip-compressed"].includes(a.type)?a.size/1024/1024<20?a.name.split(".")[0].endsWith("-证明")?!0:(S.error('文件名格式不正确，请按照"学校-姓名-证明.zip"格式命名'),!1):(S.error("文件大小不能超过20MB！"),!1):(S.error("只能上传ZIP格式的文件！"),!1),o=a=>{S.success("文件上传成功"),m(),s.updateField("proofs",a.file_path)},d=()=>{S.error("文件上传失败，请重试")},p=async a=>{try{await _t(a.id),S.success("文件删除成功"),m()}catch{S.error("文件删除失败，请重试")}},m=async()=>{try{const{data:a}=await mt(u.value);e.value=a}catch(a){console.error("获取文件列表失败：",a.message)}};return(a,c)=>{const y=R,f=We,$=W,x=ee;return r(),v("div",nl,[t(f,{class:"upload-area",action:g(Le).action,headers:i.value,"on-success":o,"on-error":d,"before-upload":_,multiple:""},{tip:n(()=>c[1]||(c[1]=[l("div",{class:"el-upload__tip"},[w(" 请上传ZIP格式的压缩文件，文件大小不超过20MB"),l("br"),w(" 请将简历命名为：学校-姓名-证明.zip"),l("br"),w(" 示例：东南大学-小明-证明.zip ")],-1)])),default:n(()=>[t(y,{type:"primary"},{default:n(()=>c[0]||(c[0]=[w("上传证明材料")])),_:1})]),_:1},8,["action","headers"]),e.value.length>0?(r(),v("div",sl,[c[3]||(c[3]=l("h3",null,"已上传文件：",-1)),t(x,{data:e.value,style:{width:"100%"}},{default:n(()=>[t($,{prop:"name",label:"文件名"}),t($,{prop:"file_type",label:"类型",width:"100"}),t($,{prop:"upload_time",label:"上传时间",width:"180"}),t($,{fixed:"right",label:"操作",width:"100"},{default:n(b=>[t(y,{type:"danger",size:"small",onClick:T=>p(b.row)},{default:n(()=>c[2]||(c[2]=[w(" 删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])):B("",!0)])}}}),il=I(rl,[["__scopeId","data-v-41481b78"]]),dl={class:"upload-container"},ul=E({__name:"UploadResume",setup(h){const e=ge(),s=z(()=>e.formData.id),u=z(()=>ze.headers(s.value)),i=d=>d.type==="application/pdf"?d.size/1024/1024<10?d.name.split(".")[0].endsWith("-简历")?!0:(S.error('文件名格式不正确，请按照"学校-姓名-简历.pdf"格式命名'),!1):(S.error("文件大小不能超过10MB！"),!1):(S.error("只能上传PDF格式的文件！"),!1),_=d=>{S.success("简历上传成功"),e.updateField("resume",d.file_path)},o=()=>{S.error("简历上传失败，请重试")};return(d,p)=>{const m=R,a=We;return r(),v("div",dl,[t(a,{class:"upload-area",action:g(ze).action,headers:u.value,"on-success":_,"on-error":o,"before-upload":i,limit:1,"auto-upload":!0},{tip:n(()=>p[1]||(p[1]=[l("div",{class:"el-upload__tip"},[w(" 请上传PDF格式的简历文件，文件大小不超过10MB"),l("br"),w(" 请将简历命名为：学校-姓名-简历.pdf"),l("br"),w(" 示例：东南大学-小明-简历.pdf ")],-1)])),default:n(()=>[t(m,{type:"primary"},{default:n(()=>p[0]||(p[0]=[w("上传简历")])),_:1})]),_:1},8,["action","headers"])])}}}),cl=I(ul,[["__scopeId","data-v-de5e31ed"]]),Fe=[{value:"A",label:"A"},{value:"B",label:"B"},{value:"C",label:"C"},{value:"中科院一区",label:"中科院一区"},{value:"中科院二区",label:"中科院二区"},{value:"其他",label:"其他"}],De=[{value:"国家级",label:"国家级"},{value:"省级",label:"省级"},{value:"校级",label:"校级"},{value:"其他",label:"其他"}],Ie=[{value:"特等奖",label:"特等奖"},{value:"一等奖",label:"一等奖/金奖"},{value:"二等奖",label:"二等奖/银奖"},{value:"三等奖",label:"三等奖/铜奖"}],pl=[{value:"男",label:"男"},{value:"女",label:"女"}],Ne=h=>{const e=["个人信息","学历信息","申请志愿","论文情况","奖项","其他"],s=["name","gender","birthDate","phone","email","university","major","majorCount","rank","percentage","isTopClass","applicationType","firstChoice","secondChoice","thirdChoice","isAdjustable","year"],u=d=>{const p=s.findIndex(m=>d===m);return p===-1?s.length:p},i=["awardName","awardTime","levelRanking","awardRanking"],_=d=>{for(let p=0;p<i.length;p++)if(d.includes(i[p]))return p;return i.length};return{sortedFields:z(()=>[...h].sort((d,p)=>{var f,$,x,b;const m=e.indexOf(d.regionInForm),a=e.indexOf(p.regionInForm);if(m!==a)return m-a;if(d.regionInForm==="论文情况"){const T=parseInt(((f=d.variableName.match(/paper(\d+)/))==null?void 0:f[1])||"0"),V=parseInt((($=p.variableName.match(/paper(\d+)/))==null?void 0:$[1])||"0");if(T!==V)return T-V}if(d.regionInForm==="奖项"){const T=parseInt(((x=d.variableName.match(/award(\d+)/))==null?void 0:x[1])||"0"),V=parseInt(((b=p.variableName.match(/award(\d+)/))==null?void 0:b[1])||"0");if(T!==V)return T-V;const P=_(d.variableName),F=_(p.variableName);if(P!==F)return P-F}const c=u(d.variableName),y=u(p.variableName);return c!==y?c-y:d.name.localeCompare(p.name,"zh-CN")}))}},ml={class:"autocomplete-container"},_l=["placeholder"],fl={class:"suggestions-container"},vl=["onMousedown"],bl=E({__name:"AutoCompleteInput",props:{modelValue:{},options:{},placeholder:{}},emits:["update:modelValue"],setup(h,{emit:e}){const s=h,u=e,i=D(s.modelValue),_=D(!1);K(()=>s.modelValue,a=>{i.value=a});const o=z(()=>{if(!i.value)return s.options;const a=i.value.toLowerCase();return s.options.filter(c=>c.label.toLowerCase().includes(a)||c.value.toLowerCase().includes(a))}),d=()=>{u("update:modelValue",i.value),_.value=!0},p=a=>{i.value=a.value,u("update:modelValue",a.value),_.value=!1},m=()=>{setTimeout(()=>{_.value=!1},200)};return(a,c)=>(r(),v("div",ml,[se(l("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=y=>i.value=y),placeholder:a.placeholder,class:"form-input",onInput:d,onFocus:c[1]||(c[1]=y=>_.value=!0),onBlur:m},null,40,_l),[[Te,i.value]]),se(l("div",fl,[(r(!0),v(A,null,M(o.value,y=>(r(),v("div",{key:y.value,class:"suggestion-item",onMousedown:f=>p(y)},U(y.label),41,vl))),128))],512),[[Tt,_.value&&o.value.length>0]])]))}}),yl=I(bl,[["__scopeId","data-v-b8864236"]]),hl=()=>{const h=Oe(),e=ge(),s=Q();return{getApplicationType:z(()=>{const i=h.path;let _="";switch(i){case"/apply/recommend-master":_="推免硕士";break;case"/apply/exam-master":_="考研硕士";break;case"/apply/phd":_="博士";break;case"/apply/direct-phd":_="直博";break;default:_=""}return e.updateField("applicationType",_),e.updateField("year",s.year.year),_})}},gl={class:"form-item"},wl=["for"],$l={key:0,class:"required-asterisk"},xl={class:"field-description"},kl=["type","id","value","name","required"],Vl=["id","value","name"],Sl=["id","value","name"],Cl=["id","value","name"],Fl=["id","value","name","required"],Dl=["id","value","name","required"],Il=["value"],Pl=["type","id","value","name","required"],Tl=E({__name:"FormField",props:{field:{},modelValue:{},required:{type:Boolean,default:!1},options:{default:()=>[]},contributionData:{default:()=>({rank:"",total:""})}},emits:["update:modelValue","input","contribution-change"],setup(h,{emit:e}){const s=h,u=e,i=z({get:()=>s.modelValue,set:a=>u("update:modelValue",a)}),_=z(()=>(s.field.type==="text"||s.field.type==="number"||s.field.type==="email")&&s.field.variableName!=="percentage"&&s.field.variableName!=="year"),o=z(()=>s.field.type==="select"&&["本科学校","硕士学校"].includes(s.field.name)),d=a=>{const c=a instanceof Event?a.target.value:a;u("update:modelValue",c),a instanceof Event&&u("input",a)},{getApplicationType:p}=hl(),m=Q();return(a,c)=>(r(),v("div",gl,[l("label",{for:a.field.variableName},[w(U(a.field.name)+" ",1),a.required?(r(),v("span",$l,"*")):B("",!0)],8,wl),l("div",xl,U(a.field.description),1),_.value?(r(),v("input",{key:0,type:a.field.type,id:a.field.variableName,value:i.value,name:a.field.variableName,class:"form-input",required:a.required,onInput:d},null,40,kl)):a.field.variableName==="year"?(r(),v("input",{key:1,type:"number",id:a.field.variableName,value:g(m).year.year,name:a.field.variableName,class:"form-input",disabled:""},null,8,Vl)):a.field.variableName==="percentage"?(r(),v("input",{key:2,type:"text",id:a.field.variableName,value:i.value,name:a.field.variableName,class:"form-input",disabled:""},null,8,Sl)):a.field.variableName==="applicationType"?(r(),v("input",{key:3,type:"text",id:a.field.variableName,value:g(p),name:a.field.variableName,class:"form-input",disabled:""},null,8,Cl)):a.field.type==="textarea"?(r(),v("textarea",{key:4,id:a.field.variableName,value:i.value,name:a.field.variableName,class:"form-textarea",required:a.required,onInput:d},null,40,Fl)):o.value?(r(),C(yl,{key:5,"model-value":i.value,options:a.options,placeholder:"请输入"+a.field.name,"onUpdate:modelValue":d},null,8,["model-value","options","placeholder"])):a.field.type==="select"?(r(),v("select",{key:6,id:a.field.variableName,value:i.value,name:a.field.variableName,class:"form-select",required:a.required,onInput:d},[c[0]||(c[0]=l("option",{value:""},"请选择",-1)),(r(!0),v(A,null,M(a.options,y=>(r(),v("option",{key:y.value,value:y.value},U(y.label),9,Il))),128))],40,Dl)):a.field.type==="boolean"?(r(),C(g(ae),{key:7,id:a.field.variableName,"model-value":i.value,name:a.field.variableName,class:"form-switch",required:a.required,"onUpdate:modelValue":d},null,8,["id","model-value","name","required"])):(r(),v("input",{key:8,type:a.field.type,id:a.field.variableName,value:i.value,name:a.field.variableName,class:"form-input",required:a.required,onInput:d},null,40,Pl))]))}}),Pe=I(Tl,[["__scopeId","data-v-787b3360"]]),jl={class:"new-apply-container"},Ol={class:"dev-notice"},Ul={key:0,class:"form-region"},Al={class:"region-title"},Ml={key:0,class:"sub-sections-wrapper"},Nl={class:"sub-section-header"},Ll={class:"sub-section-title"},zl={class:"button-group"},El={class:"form-item-container"},Rl={key:1,class:"sub-sections-wrapper"},Bl={class:"sub-section-header"},ql={class:"sub-section-title"},Yl={class:"button-group"},Hl={class:"form-item-container"},Wl={key:2,class:"form-item-container"},Kl=E({__name:"index",setup(h){const e=$e(),s=Q(),u=z(()=>({"论文一 CCF等级":Fe,"论文二 CCF等级":Fe,"论文三 CCF等级":Fe,"奖项一 等级":De,"奖项二 等级":De,"奖项三 等级":De,"奖项一 获奖情况":Ie,"奖项二 获奖情况":Ie,"奖项三 获奖情况":Ie,性别:pl,本科学校:s.universities.map(k=>({value:k.name,label:k.name})),硕士学校:s.universities.map(k=>({value:k.name,label:k.name})),本科专业:s.majors.map(k=>({value:k.name,label:k.name})),硕士专业:s.majors.map(k=>({value:k.name,label:k.name})),第一志愿:s.personnel.map(k=>({value:k.name,label:`${k.name} (${k.research_direction})`})),第二志愿:s.personnel.map(k=>({value:k.name,label:`${k.name} (${k.research_direction})`})),第三志愿:s.personnel.map(k=>({value:k.name,label:`${k.name} (${k.research_direction})`}))})),i=k=>u.value[k]||[],_=Oe(),o=He(),d=z(()=>{const k=_.path,j=e.fields.filter(L=>{switch(k){case"/apply/recommend-master":return L.showInRecommendMaster;case"/apply/exam-master":return L.showInExamMaster;case"/apply/phd":return L.showInPhd;case"/apply/direct-phd":return L.showInDirectPhd;default:return!1}});return Ne(j).sortedFields.value}),p=k=>d.value.filter(j=>j.regionInForm===k),{isFieldRequired:m,validateForm:a}=ll(),c=async()=>{try{a(f.value,d.value),await y.submitForm(),S.success("申请提交成功"),o.push("/wait")}catch(k){S.error(k.message||y.submitError||"提交失败")}},y=ge(),f=z(()=>y.formData),{calculatePercentage:$}=ol(f);K(()=>[f.value.rank,f.value.majorCount],()=>{$()},{immediate:!0});const x=()=>{const k={id:Rt()};d.value.forEach(j=>{j.variableName==="isAdjustable"?k[j.variableName]=!0:k[j.variableName]=j.type==="boolean"?!1:""}),y.setFormData(k)};H(async()=>{await Promise.all([e.fetchFields(),s.fetchUniversities(),s.fetchMajors(),s.fetchPersonnel()]),x()});const b=k=>d.value.filter(j=>j.regionInForm==="论文情况"&&j.variableName.startsWith(`paper${k}`)),T=k=>d.value.filter(j=>j.regionInForm==="奖项"&&j.variableName.startsWith(`award${k}`)),V=D(1),P=D(1),F=k=>{const j=d.value.filter(L=>L.regionInForm==="论文情况");for(let L=k;L<V.value;L++)j.forEach(G=>{const X=`paper${L}`,te=`paper${L+1}`;if(G.variableName.startsWith(X)){const re=G.variableName.replace(X,te);f.value[G.variableName]=f.value[re]}});j.forEach(L=>{L.variableName.startsWith(`paper${V.value}`)&&(f.value[L.variableName]="")}),V.value--},O=k=>{const j=d.value.filter(L=>L.regionInForm==="奖项");for(let L=k;L<P.value;L++)j.forEach(G=>{const X=`award${L}`,te=`award${L+1}`;if(G.variableName.startsWith(X)){const re=G.variableName.replace(X,te);f.value[G.variableName]=f.value[re]}});j.forEach(L=>{L.variableName.startsWith(`award${P.value}`)&&(f.value[L.variableName]="")}),P.value--};return(k,j)=>{const L=Ke,G=J("Delete"),X=Ge,te=R,re=J("Plus");return r(),v("div",jl,[l("div",Ol,[t(L,{title:"开发阶段提示",type:"warning",description:"本网站目前处于开发阶段，可能存在一些问题。如遇到任何问题，请发送邮件至 palmapplication@163.com，我们会尽快处理。",closable:!1,"show-icon":""})]),l("form",{onSubmit:ye(c,["prevent"]),class:"apply-form"},[(r(),v(A,null,M(["个人信息","学历信息","申请志愿","论文情况","奖项","其他"],ie=>(r(),v(A,{key:ie},[p(ie).length>0?(r(),v("div",Ul,[l("h2",Al,U(ie),1),ie==="论文情况"?(r(),v("div",Ml,[(r(!0),v(A,null,M(V.value,Y=>(r(),v("div",{key:`paper${Y}`,class:"sub-section"},[l("div",Nl,[l("h3",Ll,"论文 "+U(Y),1),l("div",zl,[V.value>1?(r(),C(te,{key:0,type:"danger",link:"",onClick:q=>F(Y)},{default:n(()=>[t(X,null,{default:n(()=>[t(G)]),_:1}),j[2]||(j[2]=w("删除 "))]),_:2},1032,["onClick"])):B("",!0),Y===V.value&&V.value<3?(r(),C(te,{key:1,type:"primary",link:"",onClick:j[0]||(j[0]=q=>V.value++)},{default:n(()=>[t(X,null,{default:n(()=>[t(re)]),_:1}),j[3]||(j[3]=w("添加论文 "))]),_:1})):B("",!0)])]),l("div",El,[(r(!0),v(A,null,M(b(Y),q=>(r(),C(Pe,{key:q.id,field:q,modelValue:f.value[q.variableName],"onUpdate:modelValue":fe=>f.value[q.variableName]=fe,required:g(m)(q.variableName),options:i(q.name)},null,8,["field","modelValue","onUpdate:modelValue","required","options"]))),128))])]))),128))])):ie==="奖项"?(r(),v("div",Rl,[(r(!0),v(A,null,M(P.value,Y=>(r(),v("div",{key:`award${Y}`,class:"sub-section"},[l("div",Bl,[l("h3",ql,"奖项 "+U(Y),1),l("div",Yl,[P.value>1?(r(),C(te,{key:0,type:"danger",link:"",onClick:q=>O(Y)},{default:n(()=>[t(X,null,{default:n(()=>[t(G)]),_:1}),j[4]||(j[4]=w("删除 "))]),_:2},1032,["onClick"])):B("",!0),Y===P.value&&P.value<3?(r(),C(te,{key:1,type:"primary",link:"",onClick:j[1]||(j[1]=q=>P.value++)},{default:n(()=>[t(X,null,{default:n(()=>[t(re)]),_:1}),j[5]||(j[5]=w("添加奖项 "))]),_:1})):B("",!0)])]),l("div",Hl,[(r(!0),v(A,null,M(T(Y),q=>(r(),C(Pe,{key:q.id,field:q,modelValue:f.value[q.variableName],"onUpdate:modelValue":fe=>f.value[q.variableName]=fe,required:g(m)(q.variableName),options:i(q.name)},null,8,["field","modelValue","onUpdate:modelValue","required","options"]))),128))])]))),128))])):(r(),v("div",Wl,[(r(!0),v(A,null,M(p(ie),Y=>(r(),C(Pe,{key:Y.id,field:Y,modelValue:f.value[Y.variableName],"onUpdate:modelValue":q=>f.value[Y.variableName]=q,required:g(m)(Y.variableName),options:i(Y.name)},null,8,["field","modelValue","onUpdate:modelValue","required","options"]))),128))]))])):B("",!0)],64))),64)),t(cl),t(il,{"applicant-id":f.value.id},null,8,["applicant-id"]),j[6]||(j[6]=l("button",{type:"submit",class:"submit-button"},"提交申请",-1))],32)])}}}),Gl=I(Kl,[["__scopeId","data-v-6191cc03"]]),Qr=Object.freeze(Object.defineProperty({__proto__:null,default:Gl},Symbol.toStringTag,{value:"Module"})),Jl={};function Zl(h,e){return null}const Ql=I(Jl,[["render",Zl]]),Xr=Object.freeze(Object.defineProperty({__proto__:null,default:Ql},Symbol.toStringTag,{value:"Module"})),Xl={};function eo(h,e){return null}const to=I(Xl,[["render",eo]]),ei=Object.freeze(Object.defineProperty({__proto__:null,default:to},Symbol.toStringTag,{value:"Module"})),ao={};function lo(h,e){return null}const oo=I(ao,[["render",lo]]),ti=Object.freeze(Object.defineProperty({__proto__:null,default:oo},Symbol.toStringTag,{value:"Module"})),no={};function so(h,e){return null}const ro=I(no,[["render",so]]),ai=Object.freeze(Object.defineProperty({__proto__:null,default:ro},Symbol.toStringTag,{value:"Module"})),io={},uo={class:"wait"},co={class:"wait-content"},po={class:"action-form"};function mo(h,e){const s=R,u=J("RouterLink");return r(),v("div",uo,[l("div",co,[e[1]||(e[1]=Ue('<div class="success-icon" data-v-772d9ed6><svg class="h-24 w-24 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-772d9ed6><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-v-772d9ed6></path></svg></div><h1 class="wait-title" data-v-772d9ed6>申请提交成功！</h1><p class="wait-description" data-v-772d9ed6> 您的申请已成功提交，我们将尽快进行审核。<br data-v-772d9ed6> 审核结果将通过邮件通知您，请注意查收。 </p>',3)),l("div",po,[t(u,{to:"/"},{default:n(()=>[t(s,{type:"primary",size:"large"},{default:n(()=>e[0]||(e[0]=[w("返回首页")])),_:1})]),_:1})])])])}const _o=I(io,[["render",mo],["__scopeId","data-v-772d9ed6"]]),li=Object.freeze(Object.defineProperty({__proto__:null,default:_o},Symbol.toStringTag,{value:"Module"})),fo={setup(){const h=D(""),e=D(""),s=Be(),u=He();return{username:h,password:e,handleLogin:async()=>{await s.login(h.value,e.value)?(S.success("登录成功"),await u.push("/admin")):S.error("登录失败，请检查用户名和密码")}}}},vo={class:"login-container"},bo={class:"form-side md:w-1/2"},yo={class:"form-group"},ho={class:"form-group"},go={class:"password-input"};function wo(h,e,s,u,i,_){return r(),v("div",vo,[e[11]||(e[11]=l("div",{class:"illustration-side hidden md:flex"},[l("img",{src:ft,alt:"Palm Logo"})],-1)),l("div",bo,[e[8]||(e[8]=l("div",{class:"logo"},[l("img",{src:Re,alt:"Palm Logo"})],-1)),e[9]||(e[9]=l("h1",null,"Welcome back!",-1)),e[10]||(e[10]=l("p",null,"Please enter your details",-1)),l("form",{class:"login-form",onSubmit:e[2]||(e[2]=ye((...o)=>u.handleLogin&&u.handleLogin(...o),["prevent"]))},[l("div",yo,[e[3]||(e[3]=l("label",{for:"username"},"User Name",-1)),se(l("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=o=>u.username=o),required:""},null,512),[[Te,u.username]])]),l("div",ho,[e[5]||(e[5]=l("label",{for:"password"},"Password",-1)),l("div",go,[se(l("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=o=>u.password=o),required:""},null,512),[[Te,u.password]]),e[4]||(e[4]=l("button",{type:"button",class:"eye-icon"},null,-1))])]),e[6]||(e[6]=l("div",{class:"form-row"},[l("label",{class:"remember-me"},[l("input",{type:"checkbox"}),l("span",null,"Remember for 7 days")])],-1)),e[7]||(e[7]=l("button",{type:"submit",class:"login-button"},"Log In",-1))],32)]),e[12]||(e[12]=l("div",{class:"invisible md:hidden"},[l("div",{class:"w-screen"})],-1))])}const $o=I(fo,[["render",wo],["__scopeId","data-v-1f3a8fc4"]]),xo={class:"login-main p-5 md:p-0"},ko={__name:"index",setup(h){return(e,s)=>(r(),v("div",xo,[t($o)]))}},Vo=I(ko,[["__scopeId","data-v-70642aaf"]]),oi=Object.freeze(Object.defineProperty({__proto__:null,default:Vo},Symbol.toStringTag,{value:"Module"})),So={class:"button-container"},Co=["data-feather"],Fo={key:0,class:"menu"},Do=["onClick"],Io={class:"category-name"},Po={class:"icon"},To={class:"label"},jo={key:1,class:"divider"},Oo=E({__name:"SideBar",props:{isCollapsed:Boolean},emits:["toggle"],setup(h,{emit:e}){const s=e,u=D(Ce.value.map(()=>!1)),i=()=>{s("toggle"),Bt.replace()},_=o=>{u.value=u.value.map((d,p)=>p===o?!d:d)};return(o,d)=>{const p=J("RouterLink");return r(),v("aside",{class:he(["sidebar",{collapsed:h.isCollapsed}])},[l("div",So,[l("button",{onClick:i,class:"toggle-button"},[l("i",{"data-feather":h.isCollapsed?"chevrons-right":"chevrons-left"},null,8,Co)])]),h.isCollapsed?B("",!0):(r(),v("ul",Fo,[(r(!0),v(A,null,M(g(Ce),(m,a)=>(r(),v(A,{key:a},[l("li",{class:"category-header",onClick:c=>_(a)},[l("span",Io,U(m.category),1)],8,Do),u.value[a]?B("",!0):(r(),v("ul",{key:0,class:he(["sub-menu",{expanded:!u.value[a]}])},[(r(!0),v(A,null,M(m.items,c=>(r(),v("li",{key:c.name,class:"menu-item"},[t(p,{to:c.path,class:"menu-link","active-class":"active"},{default:n(()=>[l("span",Po,U(c.icon),1),l("span",To,U(c.label),1)]),_:2},1032,["to"])]))),128))],2)),a!==g(Ce).length-1?(r(),v("li",jo)):B("",!0)],64))),128))]))],2)}}}),Uo=I(Oo,[["__scopeId","data-v-1449b1ca"]]),Ao={class:"content-container"},Mo={__name:"Content",setup(h){const e=D(null);let s=!1,u,i;const _=p=>{s=!0,u=p.pageY-e.value.offsetTop,i=e.value.scrollTop},o=()=>{s=!1},d=p=>{if(!s)return;p.preventDefault();const a=(p.pageY-e.value.offsetTop-u)*1.5;e.value.scrollTop=i-a};return window.addEventListener("mouseup",o),window.addEventListener("mouseleave",o),(p,m)=>{const a=J("RouterView");return r(),v("div",{class:"content",ref_key:"contentRef",ref:e,onMousedown:_,onMousemove:d},[l("div",Ao,[t(a)])],544)}}},No=I(Mo,[["__scopeId","data-v-2191f445"]]),Lo={class:"admin-layout"},zo={__name:"View",setup(h){const e=D(!1),s=()=>{e.value=!e.value};return(u,i)=>(r(),v("div",Lo,[l("div",{class:he(["sidebar-container",{collapsed:e.value}])},[t(Uo,{isCollapsed:e.value,onToggle:s},null,8,["isCollapsed"])],2),l("main",{class:he(["main-container",{expanded:e.value}])},[t(No)],2)]))}},Eo=I(zo,[["__scopeId","data-v-3acb8aa5"]]),Ro={__name:"index",setup(h){return(e,s)=>(r(),C(Eo))}},ni=Object.freeze(Object.defineProperty({__proto__:null,default:Ro},Symbol.toStringTag,{value:"Module"})),Bo={class:"database-management"},qo={class:"operation-bar"},Yo={key:1},Ho={class:"dialog-footer"},Wo=E({__name:"index",setup(h){const e=D("apply"),s=D([]),u=D([]),i=D(!1),_=D([]),o=D(!1),d=D("add"),p=D({}),m=D(),a=z(()=>[...s.value]),c=async()=>{await y()},y=async()=>{i.value=!0;try{let T;e.value==="apply"?T=await vt():T=await bt(),s.value=T.data.records,u.value=T.data.fields,_.value=T.data.fields.map(V=>V.name)}catch{S.error("获取数据失败")}finally{i.value=!1}},f=()=>{d.value="add",p.value={},o.value=!0},$=T=>{d.value="edit",p.value={...T},o.value=!0},x=async()=>{try{d.value==="add"?(e.value==="apply"?await yt(p.value):await ht(p.value),S.success("创建成功")):(e.value==="apply"?await gt(p.value.id,p.value):await wt(p.value.id,p.value),S.success("更新成功")),o.value=!1,y()}catch{S.error("操作失败")}},b=async T=>{try{await Nt.confirm("确定要删除这条记录吗？","警告",{type:"warning"}),e.value==="apply"?await $t(T.id):await xt(T.id),S.success("删除成功"),y()}catch(V){V!=="cancel"&&S.error("删除失败")}};return H(()=>{y()}),(T,V)=>{const P=oe,F=le,O=R,k=Qe,j=Je,L=At,G=W,X=Ze,te=Mt,re=ee,ie=ne,Y=de,q=ke,fe=xe,nt=we;return r(),v("div",Bo,[l("div",qo,[t(F,{modelValue:e.value,"onUpdate:modelValue":V[0]||(V[0]=N=>e.value=N),class:"database-select",onChange:c},{default:n(()=>[t(P,{label:"Apply数据库",value:"apply"}),t(P,{label:"Files数据库",value:"files"})]),_:1},8,["modelValue"]),t(O,{type:"primary",onClick:f},{default:n(()=>V[4]||(V[4]=[w("新增申请")])),_:1}),t(L,{placement:"bottom",width:300,trigger:"click"},{reference:n(()=>[t(O,null,{default:n(()=>V[5]||(V[5]=[w("列显示设置")])),_:1})]),default:n(()=>[t(j,{modelValue:_.value,"onUpdate:modelValue":V[1]||(V[1]=N=>_.value=N)},{default:n(()=>[(r(!0),v(A,null,M(u.value,N=>(r(),C(k,{key:N.name,label:N.name},{default:n(()=>[w(U(N.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),se((r(),C(re,{data:a.value,style:{width:"100%"},border:""},{default:n(()=>[t(G,{type:"index",label:"#",width:"70",align:"center",fixed:"left"}),(r(!0),v(A,null,M(u.value,N=>(r(),v(A,{key:N.name},[_.value.includes(N.name)?(r(),C(G,{key:0,prop:N.name,label:N.name,sortable:"","show-overflow-tooltip":"","min-width":200,width:N.name==="id"?100:null,fixed:N.name==="name"?"left":null},{default:n(ce=>[N.name==="download_url"&&e.value==="files"?(r(),C(X,{key:0,type:"primary",href:g(be)(ce.row[N.name]),target:"_blank"},{default:n(()=>[w(U(ce.row[N.name]||"下载文件"),1)]),_:2},1032,["href"])):(r(),v("span",Yo,U(ce.row[N.name]),1))]),_:2},1032,["prop","label","width","fixed"])):B("",!0)],64))),128)),t(G,{label:"操作",width:"180",fixed:"right"},{default:n(N=>[t(te,null,{default:n(()=>[t(O,{size:"small",onClick:ce=>$(N.row)},{default:n(()=>V[6]||(V[6]=[w("编辑")])),_:2},1032,["onClick"]),t(O,{size:"small",type:"danger",onClick:ce=>b(N.row)},{default:n(()=>V[7]||(V[7]=[w("删除")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[nt,i.value]]),t(fe,{modelValue:o.value,"onUpdate:modelValue":V[3]||(V[3]=N=>o.value=N),title:d.value==="add"?"新增申请":"编辑申请",width:"50%"},{footer:n(()=>[l("span",Ho,[t(O,{onClick:V[2]||(V[2]=N=>o.value=!1)},{default:n(()=>V[8]||(V[8]=[w("取消")])),_:1}),t(O,{type:"primary",onClick:x},{default:n(()=>V[9]||(V[9]=[w("确定")])),_:1})])]),default:n(()=>[t(q,{ref_key:"formRef",ref:m,model:p.value,"label-width":"120px"},{default:n(()=>[(r(!0),v(A,null,M(u.value,N=>(r(),v(A,{key:N.name},[N.name!=="id"?(r(),C(Y,{key:0,label:N.name,prop:N.name},{default:n(()=>[t(ie,{modelValue:p.value[N.name],"onUpdate:modelValue":ce=>p.value[N.name]=ce,placeholder:`请输入${N.name}`,disabled:N.name==="id"},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled"])]),_:2},1032,["label","prop"])):B("",!0)],64))),128))]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}}),Ko=I(Wo,[["__scopeId","data-v-11fab12e"]]),si=Object.freeze(Object.defineProperty({__proto__:null,default:Ko},Symbol.toStringTag,{value:"Module"})),Go={name:"SchoolLevelDashboard",data(){return{Apercentage:60,Bpercentage:30,Cpercentage:10}},mounted(){this.initChart()},methods:{initChart(){const h=document.getElementById("school-level-chart"),e=ue(h),s={tooltip:{trigger:"item"},series:[{name:"院校等级",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!0,position:"outside",formatter:"{b}: {c}%"},emphasis:{label:{show:!1}},labelLine:{show:!0},data:[{value:this.Apercentage,name:"A级"},{value:this.Bpercentage,name:"B级"},{value:this.Cpercentage,name:"C级"}]}]};e.setOption(s)}}};function Jo(h,e,s,u,i,_){const o=Z;return r(),C(o,{class:"dashboard-card","body-style":{padding:"20px"}},{default:n(()=>e[0]||(e[0]=[l("div",{class:"dashboard-title"},"院校等级统计",-1),l("div",{id:"school-level-chart",style:{width:"100%",height:"300px"}},null,-1)])),_:1})}const Zo=I(Go,[["render",Jo],["__scopeId","data-v-3d1a74a4"]]),Qo={name:"MajorDistributionDashboard",data(){return{barChartData:[{name:"计算机",value:50},{name:"电子工程",value:30},{name:"机械工程",value:20}]}},mounted(){this.initChart()},methods:{initChart(){const h=this.$refs.chart,e=ue(h),s={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:this.barChartData.map(u=>u.name)},yAxis:{type:"value"},series:[{name:"专业分布",type:"bar",data:this.barChartData.map(u=>u.value)}]};e.setOption(s)}}},Xo={ref:"chart",style:{width:"100%",height:"300px"}};function en(h,e,s,u,i,_){const o=Z;return r(),C(o,{class:"dashboard-card","body-style":{padding:"20px"}},{default:n(()=>[e[0]||(e[0]=l("div",{class:"dashboard-title"},"专业分布",-1)),l("div",Xo,null,512)]),_:1})}const tn=I(Qo,[["render",en],["__scopeId","data-v-2823a088"]]),an={name:"SchoolDistributionDashboard",data(){return{barChartData:[{name:"清华大学",value:50},{name:"北京大学",value:30},{name:"复旦大学",value:20}]}},mounted(){this.initChart()},methods:{initChart(){const h=this.$refs.chart,e=ue(h),s={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:this.barChartData.map(u=>u.name)},yAxis:{type:"value"},series:[{name:"专业分布",type:"bar",data:this.barChartData.map(u=>u.value)}]};e.setOption(s)}}},ln={ref:"chart",style:{width:"100%",height:"300px"}};function on(h,e,s,u,i,_){const o=Z;return r(),C(o,{class:"dashboard-card","body-style":{padding:"20px"}},{default:n(()=>[e[0]||(e[0]=l("div",{class:"dashboard-title"},"院校分布",-1)),l("div",ln,null,512)]),_:1})}const nn=I(an,[["render",on],["__scopeId","data-v-49e057b3"]]),sn={name:"EnrollmentTypeDashboard",data(){return{masterPercentage:50,doctorPercentage:30,directDoctorPercentage:20}},mounted(){this.initChart()},methods:{initChart(){const h=document.getElementById("enrollment-type-chart"),e=ue(h),s={tooltip:{trigger:"item"},series:[{name:"报名类型",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!0,position:"outside",formatter:"{b}: {c}%"},emphasis:{label:{show:!1}},labelLine:{show:!0},data:[{value:this.masterPercentage,name:"硕士"},{value:this.doctorPercentage,name:"博士"},{value:this.directDoctorPercentage,name:"直博"}]}]};e.setOption(s)}}};function rn(h,e,s,u,i,_){const o=Z;return r(),C(o,{class:"dashboard-card","body-style":{padding:"20px"}},{default:n(()=>e[0]||(e[0]=[l("div",{class:"dashboard-title"},"报名类型统计",-1),l("div",{id:"enrollment-type-chart",style:{width:"100%",height:"300px"}},null,-1)])),_:1})}const dn=I(sn,[["render",rn],["__scopeId","data-v-8e9e3aa5"]]),un={name:"DashboardLayout",components:{SchoolLevelDashboard:Zo,MajorDistributionDashboard:tn,SchoolDistributionDashboard:nn,EnrollmentTypeDashboard:dn}};function cn(h,e,s,u,i,_){const o=J("SchoolLevelDashboard"),d=Xe,p=J("EnrollmentTypeDashboard"),m=J("MajorDistributionDashboard"),a=J("SchoolDistributionDashboard"),c=Ae;return r(),C(c,{class:"dashboard-layout",gutter:"{20}"},{default:n(()=>[t(d,{span:12},{default:n(()=>[t(o)]),_:1}),t(d,{span:12},{default:n(()=>[t(p)]),_:1}),t(d,{span:12},{default:n(()=>[t(m)]),_:1}),t(d,{span:12},{default:n(()=>[t(a)]),_:1})]),_:1})}const pn=I(un,[["render",cn]]),mn={__name:"index",setup(h){return(e,s)=>(r(),C(pn))}},ri=Object.freeze(Object.defineProperty({__proto__:null,default:mn},Symbol.toStringTag,{value:"Module"})),_n={props:{fields:Array,visibleFields:Array},emits:["update-visible-fields"],setup(h,{emit:e}){const s=D([...h.visibleFields]);return K(()=>h.visibleFields,i=>{s.value=[...i]}),{checkedFields:s,updateFields:()=>{e("update-visible-fields",s.value)}}}},fn={class:"floating-container"},vn={class:"checkbox-row"};function bn(h,e,s,u,i,_){const o=Qe,d=Je,p=Lt,m=zt;return r(),C(m,null,{default:n(()=>[t(p,{title:"选择字段",name:"1"},{default:n(()=>[l("div",fn,[t(d,{modelValue:u.checkedFields,"onUpdate:modelValue":e[0]||(e[0]=a=>u.checkedFields=a),onChange:u.updateFields},{default:n(()=>[l("div",vn,[(r(!0),v(A,null,M(s.fields,a=>(r(),C(o,{key:a,label:a,class:"horizontal-checkbox"},{default:n(()=>[w(U(a),1)]),_:2},1032,["label"]))),128))])]),_:1},8,["modelValue","onChange"])])]),_:1})]),_:1})}const yn=I(_n,[["render",bn],["__scopeId","data-v-6edd146e"]]),hn={props:{tableData:{type:Array,required:!0},visibleFields:{type:Array,required:!0},fieldProps:{type:Object,required:!0},store:{type:Object,required:!0}},methods:{exportTable(){const h=this.visibleFields.map(a=>a),e=this.tableData.map(a=>this.visibleFields.reduce((c,y)=>(c[y]=a[this.fieldProps[y]]!==void 0&&a[this.fieldProps[y]]!==null?a[this.fieldProps[y]]:"无",c),{})),s=this.store.paperFields.map((a,c)=>`论文${c+1}`),u=this.tableData.map(a=>this.store.paperFields.reduce((c,y,f)=>(c[`论文${f+1}`]=a.papers&&a.papers[f]?a.papers[f].ccfLevel:"无",c),{})),i=this.store.awardFields.map((a,c)=>`奖项${c+1}`),_=this.tableData.map(a=>this.store.awardFields.reduce((c,y,f)=>(c[`奖项${f+1}`]=a.awards&&a.awards[f]?a.awards[f].levelRanking:"无",c),{})),o=[...h,...s,...i],d=this.tableData.map((a,c)=>({...e[c],...u[c],..._[c]})),p=pe.json_to_sheet(d,{header:o}),m=pe.book_new();pe.book_append_sheet(m,p,"表格数据"),tt(m,"学生信息表格.xlsx")}}};function gn(h,e,s,u,i,_){const o=R;return r(),C(o,{type:"primary",onClick:_.exportTable},{default:n(()=>e[0]||(e[0]=[w("导出表格")])),_:1},8,["onClick"])}const wn=I(hn,[["render",gn]]),$n={class:"form-setting border-x p-1 form-filed-choose"},xn={class:"form-setting form-search"},kn={class:"form-setting form-sort"},Vn={class:"form-setting form-export"},Sn={__name:"FormSettings",props:{fields:{type:Array,required:!0},visibleFields:{type:Array,required:!0},tableData:{type:Array,required:!0},fieldProps:{type:Object,required:!0},onFilter:{type:Function,required:!0}},emits:["update-visible-fields","update-sort"],setup(h,{emit:e}){const s=je(),u=D(""),i=D("ID"),_=h,o=z(()=>s.sortableFields.map(a=>({label:a,value:a}))),d=a=>{_.onFilter(a)},p=a=>{m("update-visible-fields",a)};K(i,a=>{m("update-sort",a),console.log("Selected Sort:",a)});const m=e;return(a,c)=>{const y=ne,f=oe,$=le,x=Ae;return r(),C(x,{class:"form-settings"},{default:n(()=>[l("div",$n,[t(yn,{fields:h.fields,"visible-fields":h.visibleFields,onUpdateVisibleFields:p},null,8,["fields","visible-fields"])]),l("div",xn,[t(y,{modelValue:u.value,"onUpdate:modelValue":c[0]||(c[0]=b=>u.value=b),placeholder:"搜索",onInput:d},null,8,["modelValue"])]),l("div",kn,[t($,{modelValue:i.value,"onUpdate:modelValue":c[1]||(c[1]=b=>i.value=b),placeholder:"排序"},{default:n(()=>[(r(!0),v(A,null,M(o.value,b=>(r(),C(f,{key:b.value,label:b.label,value:b.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),l("div",Vn,[t(wn,{"table-data":h.tableData,"visible-fields":h.visibleFields,"field-props":h.fieldProps,store:g(s)},null,8,["table-data","visible-fields","field-props","store"])])]),_:1})}}},Cn=I(Sn,[["__scopeId","data-v-0e2b160b"]]),Fn={class:"students-form"},Dn={class:"table-container"},In=["onClick"],Pn={key:1},Tn=["onClick"],jn={key:1},On={key:0},Un={class:"dialog-footer"},An=E({__name:"StudentsForm",setup(h){const e=je();H(()=>{e.fetchStudents()});const s=D(""),u=D("ID"),i=z(()=>e.students||[]),_=z(()=>e.visibleFields.filter(x=>!e.isPaperOrAwardField(x))),o=z(()=>{let x=i.value;return u.value==="硕士等级"&&(x=x.filter(b=>{const T=e.fieldProps[u.value];return b[T]!==""})),x=x.filter(b=>d(b,s.value)),x.sort((b,T)=>{if(!u.value)return 0;const V=e.fieldProps[u.value];let P=b[V],F=T[V];const O=k=>typeof k=="string"&&k.endsWith("%");return O(P)&&O(F)?(P=parseFloat(P.replace("%","")),F=parseFloat(F.replace("%","")),P-F):e.levelOrder[P]!==void 0&&e.levelOrder[F]!==void 0?e.levelOrder[P]-e.levelOrder[F]:typeof P=="string"&&typeof F=="string"?P.localeCompare(F):typeof P=="number"&&typeof F=="number"?P-F:0})});function d(x,b){for(const T in x)if(x.hasOwnProperty(T)){const V=x[T];if(typeof V=="string"&&V.includes(b))return!0;if(Array.isArray(V)){for(const P of V)if(typeof P=="object"&&d(P,b))return!0}else if(typeof V=="object"&&V!==null&&d(V,b))return!0}return!1}const p=x=>{u.value=x},m=x=>{e.visibleFields=x},a=D(!1),c=D({}),y=D("50%"),f=(x,b)=>{c.value=b,y.value="20%",a.value=!0},$=x=>{s.value=x};return K(u,x=>{console.log("Selected Sort:",x)}),K(o,x=>{console.log("Filtered field:",s.value)}),(x,b)=>{const T=W,V=ee,P=R,F=xe;return r(),v(A,null,[t(Cn,{fields:g(e).allFields,"visible-fields":g(e).visibleFields,"table-data":o.value,"field-props":g(e).fieldProps,onFilter:$,onUpdateVisibleFields:m,onUpdateSort:p},null,8,["fields","visible-fields","table-data","field-props"]),l("div",Fn,[l("div",Dn,[t(V,{data:o.value,style:{width:"100%"},border:"","table-layout":"auto","default-sort":{prop:u.value,order:"ascending"}},{default:n(()=>[t(T,{type:"index",label:"#",width:"50"}),(r(!0),v(A,null,M(_.value,O=>(r(),C(T,{key:O,prop:g(e).fieldProps[O],label:O,"min-width":150},{default:n(({row:k})=>[l("span",null,U(k[g(e).fieldProps[O]]!==void 0&&k[g(e).fieldProps[O]]!==null&&k[g(e).fieldProps[O]]!==""?k[g(e).fieldProps[O]]:""),1)]),_:2},1032,["prop","label"]))),128)),(r(!0),v(A,null,M(g(e).paperFields,(O,k)=>(r(),C(T,{key:`论文-${k}`,label:`论文${k+1}`},{default:n(({row:j})=>[j.papers&&j.papers[k]?(r(),v("span",{key:0,onClick:L=>f("paper",j.papers[k]),class:"expandable-cell"},U(j.papers[k].ccfLevel),9,In)):(r(),v("span",Pn,"无"))]),_:2},1032,["label"]))),128)),(r(!0),v(A,null,M(g(e).awardFields,(O,k)=>(r(),C(T,{key:`奖项-${k}`,label:`奖项${k+1}`},{default:n(({row:j})=>[j.awards&&j.awards[k]?(r(),v("span",{key:0,onClick:L=>f("award",j.awards[k]),class:"expandable-cell"},U(j.awards[k].levelRanking),9,Tn)):(r(),v("span",jn,"无"))]),_:2},1032,["label"]))),128))]),_:1},8,["data","default-sort"])]),t(F,{modelValue:a.value,"onUpdate:modelValue":b[1]||(b[1]=O=>a.value=O),title:"详细信息",width:y.value},{footer:n(()=>[l("span",Un,[b[3]||(b[3]=l("h1",null,null,-1)),t(P,{onClick:b[0]||(b[0]=O=>a.value=!1)},{default:n(()=>b[2]||(b[2]=[w("关闭")])),_:1})])]),default:n(()=>[c.value?(r(),v("div",On,[(r(!0),v(A,null,M(c.value,(O,k)=>(r(),v("div",{key:k,class:"detail-item"},[l("strong",null,U(k)+":",1),w(" "+U(O),1)]))),128))])):B("",!0)]),_:1},8,["modelValue","width"])])],64)}}}),Mn=I(An,[["__scopeId","data-v-d1a868bd"]]),Nn={__name:"index",setup(h){return(e,s)=>(r(),C(Mn))}},ii=Object.freeze(Object.defineProperty({__proto__:null,default:Nn},Symbol.toStringTag,{value:"Module"})),Ln={key:1},zn={key:1},En={key:0,class:"error-message"},Rn=E({__name:"StudentTable",props:{data:{},loading:{type:Boolean},error:{},columnConfig:{}},emits:["selectionChange"],setup(h,{emit:e}){const s=e,u=i=>{s("selectionChange",i)};return(i,_)=>{const o=W,d=Ze,p=ee,m=we;return r(),v("div",null,[se((r(),C(p,{data:i.data,style:{width:"100%"},border:"","table-layout":"auto",onSelectionChange:u},{default:n(()=>[t(o,{type:"selection",width:"55",fixed:"left"}),t(o,{type:"index",label:"#",width:"50",fixed:"left"}),(r(!0),v(A,null,M(i.columnConfig,(a,c)=>(r(),C(o,{key:c,prop:c,label:a.label,"min-width":a.width,fixed:a.label==="姓名"?"left":void 0},{default:n(y=>[y.row[c]===!0||y.row[c]===!1?(r(),v(A,{key:0},[w(U(y.row[c]?"是":"否"),1)],64)):(r(),v(A,{key:1},[w(U(y.row[c]||"无"),1)],64))]),_:2},1032,["prop","label","min-width","fixed"]))),128)),t(o,{label:"证明文件",width:"150",fixed:"right"},{default:n(a=>[a.row.resume_file_path?(r(),C(d,{key:0,type:"primary",href:g(be)(a.row.resume_file_path),target:"_blank"},{default:n(()=>[w(U(a.row.resume_file_name||"证明文件"),1)]),_:2},1032,["href"])):(r(),v("span",Ln,"无证明文件"))]),_:1}),t(o,{label:"简历文件",width:"150",fixed:"right"},{default:n(a=>[a.row.proof_file_path?(r(),C(d,{key:0,type:"primary",href:g(be)(a.row.proof_file_path),target:"_blank"},{default:n(()=>[w(U(a.row.proof_file_name||"简历文件"),1)]),_:2},1032,["href"])):(r(),v("span",zn,"无简历"))]),_:1})]),_:1},8,["data"])),[[m,i.loading]]),i.error?(r(),v("div",En,U(i.error),1)):B("",!0)])}}}),at=I(Rn,[["__scopeId","data-v-2b87ae0e"]]),lt=E({__name:"DownloadFiles",props:{students:{},selectedStudents:{},applicationType:{}},setup(h){const e=h,s=D(!1),u=z(()=>e.selectedStudents&&e.selectedStudents.length>0),i=z(()=>s.value?"正在下载...":u.value?"下载选中学生的文件":"下载当前表格的所有文件");async function _(){const o=u.value?e.selectedStudents:e.students;if(!(o!=null&&o.length)){S.warning("没有可下载的文件");return}s.value=!0;try{const d=new qt,p=d.folder("证明文件"),m=d.folder("简历文件"),a=new Set;for(const f of o){if(f.resume_file_path&&!a.has(f.resume_file_path)){const $=be(f.resume_file_path);if($){const b=await(await fetch($)).blob(),T=f.resume_file_name||`简历_${f.name}_${Date.now()}.pdf`;p.file(T,b),a.add(f.resume_file_path)}}if(f.proof_file_path&&!a.has(f.proof_file_path)){const $=be(f.proof_file_path);if($){const b=await(await fetch($)).blob(),T=f.proof_file_name||`证明_${f.name}_${Date.now()}.pdf`;m.file(T,b),a.add(f.proof_file_path)}}}const c=await d.generateAsync({type:"blob"}),y=document.createElement("a");y.href=URL.createObjectURL(c),y.download=`申请材料_${e.applicationType}_${new Date().toLocaleDateString()}.zip`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(y.href),S.success("文件下载完成")}catch(d){console.error("下载文件时出错:",d),S.error("下载文件时出错")}finally{s.value=!1}}return(o,d)=>{const p=R;return r(),C(p,{type:"primary",loading:s.value,onClick:_,disabled:!u.value&&!o.students.length},{default:n(()=>[w(U(i.value),1)]),_:1},8,["loading","disabled"])}}}),ot=E({__name:"ExportExcel",props:{data:{},columnConfig:{},applicationType:{}},setup(h){const e=h,s=D(!1);async function u(){if(!e.data.length){S.warning("没有可导出的数据");return}s.value=!0;try{const i=e.data.map((d,p)=>{const m={序号:p+1};return Object.entries(e.columnConfig).forEach(([a,c])=>{m[c.label]=d[a]===!0?"是":d[a]===!1?"否":d[a]||"无"}),m.论文=[d.paper1_journalConference,d.paper2_journalConference,d.paper3_journalConference].filter(a=>a&&a.trim()!=="").join(";")||"无",m.奖项=[d.award1_awardName,d.award2_awardName,d.award3_awardName].filter(a=>a&&a.trim()!=="").join(";")||"无",m}),_=pe.json_to_sheet(i),o=pe.book_new();pe.book_append_sheet(o,_,"学生信息"),tt(o,`学生信息表_${e.applicationType}_${new Date().toLocaleDateString()}.xlsx`),S.success("导出成功")}catch(i){console.error("导出Excel时出错:",i),S.error("导出Excel时出错")}finally{s.value=!1}}return(i,_)=>{const o=R;return r(),C(o,{type:"success",loading:s.value,onClick:u},{default:n(()=>[w(U(s.value?"正在导出...":"导出当前表格为Excel"),1)]),_:1},8,["loading"])}}}),Bn={class:"dev-notice"},qn={class:"p-6"},Yn={class:"flex justify-between items-center"},Hn={class:"flex gap-2"},Wn={slot:"footer",class:"dialog-footer"},Kn=E({__name:"index",setup(h){const e=D(!0),s=D([]),u=D(!1),i=D(""),_=$e(),o=z(()=>{const f=_.fields.filter(x=>x.showInTable),{sortedFields:$}=Ne(f);return $.value.reduce((x,b)=>(x[b.variableName]={label:b.name,width:"150"},x),{})}),d=async()=>{u.value=!0,i.value="";try{const f=await kt();s.value=f}catch(f){i.value=f.message||"获取学生数据失败"}finally{u.value=!1}};H(async()=>{await _.fetchFields(),await d()});const p=z(()=>{const f=new Set(s.value.map($=>$.applicationType));return Array.from(f)}),m=f=>s.value.filter($=>$.applicationType===f),a=D("");K(p,f=>{f.length&&!a.value&&(a.value=f[0])},{immediate:!0});const c=D([]),y=f=>{c.value=f};return K(a,()=>{c.value=[]}),(f,$)=>{const x=Ke,b=Se,T=Ve,V=Z,P=R,F=xe;return r(),v(A,null,[l("div",Bn,[t(x,{title:"开发阶段提示",type:"info",description:"快来使用吧",closable:!1,"show-icon":"",center:""})]),l("div",qn,[t(V,null,{header:n(()=>[l("div",Yn,[$[2]||($[2]=l("div",{class:"flex items-start flex-col"},[l("span",{class:"text-xl font-bold"},"学生列表"),l("div",{class:"text-gray-500 text-sm mt-1"}," 查看和导出所有学生的申请信息 ")],-1)),l("div",Hn,[t(lt,{students:m(a.value),"selected-students":c.value,"application-type":a.value},null,8,["students","selected-students","application-type"]),t(ot,{data:m(a.value),"column-config":o.value,"application-type":a.value},null,8,["data","column-config","application-type"])])])]),default:n(()=>[t(T,{modelValue:a.value,"onUpdate:modelValue":$[0]||($[0]=O=>a.value=O)},{default:n(()=>[(r(!0),v(A,null,M(p.value,O=>(r(),C(b,{key:O,label:O||"其他",name:O},{default:n(()=>[t(at,{data:m(O),loading:u.value,error:i.value,"column-config":o.value,onSelectionChange:y},null,8,["data","loading","error","column-config"])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1})]),e.value?(r(),C(F,{key:0,title:"提示",visible:e.value,width:"30%"},{default:n(()=>[$[4]||($[4]=l("span",null,"未通过初筛的文件还没映射到总表格里（但是在系统里），这个今晚再解决。",-1)),l("span",Wn,[t(P,{onClick:$[1]||($[1]=O=>e.value=!1)},{default:n(()=>$[3]||($[3]=[w("关闭")])),_:1})])]),_:1},8,["visible"])):B("",!0)],64)}}}),Gn=I(Kn,[["__scopeId","data-v-8ea8fc33"]]),di=Object.freeze(Object.defineProperty({__proto__:null,default:Gn},Symbol.toStringTag,{value:"Module"})),Jn={class:"percent-editor-container p-6"},Zn={class:"school-section mb-8"},Qn={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Xn={class:"school-section mb-8"},es={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ts={class:"school-section"},as={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ls={class:"flex justify-end mt-6"},os=E({__name:"Percent",setup(h){const e=Vt(),s=D(!1);H(()=>{e.fetchPercentData()});const u=()=>{s.value=!0,S({message:"请记得点击保存按钮使配置生效",type:"warning",duration:3e3})},i=async()=>{await e.updatePercentData(e.percentData),s.value=!1};return(_,o)=>{const d=et,p=de,m=R,a=ke,c=Z;return r(),v("div",Jn,[t(c,{class:"mb-6"},{header:n(()=>o[9]||(o[9]=[l("div",{class:"card-header text-left"},[l("span",{class:"text-xl font-bold"},"百分比设置"),l("div",{class:"text-gray-500 text-sm mt-1"}," 设置不同类别院校的录取百分比阈值 ")],-1)])),default:n(()=>[t(a,{onSubmit:ye(i,["prevent"])},{default:n(()=>[l("div",Zn,[o[13]||(o[13]=l("h3",{class:"text-lg font-semibold mb-4 text-blue-600"},"A类院校",-1)),l("div",Qn,[t(p,{label:"普通"},{default:n(()=>[t(d,{modelValue:g(e).percentData.pOfA,"onUpdate:modelValue":o[0]||(o[0]=y=>g(e).percentData.pOfA=y),min:0,max:100,precision:2,step:1,class:"w-full",onChange:u},{suffix:n(()=>o[10]||(o[10]=[w("%")])),_:1},8,["modelValue"])]),_:1}),t(p,{label:"拔尖班"},{default:n(()=>[t(d,{modelValue:g(e).percentData.pOfATop,"onUpdate:modelValue":o[1]||(o[1]=y=>g(e).percentData.pOfATop=y),min:0,max:100,precision:2,step:1,class:"w-full",onChange:u},{suffix:n(()=>o[11]||(o[11]=[w("%")])),_:1},8,["modelValue"])]),_:1}),t(p,{label:"人才"},{default:n(()=>[t(d,{modelValue:g(e).percentData.pOfATalent,"onUpdate:modelValue":o[2]||(o[2]=y=>g(e).percentData.pOfATalent=y),min:0,max:100,precision:2,step:1,class:"w-full",onChange:u},{suffix:n(()=>o[12]||(o[12]=[w("%")])),_:1},8,["modelValue"])]),_:1})])]),l("div",Xn,[o[17]||(o[17]=l("h3",{class:"text-lg font-semibold mb-4 text-green-600"},"B类院校",-1)),l("div",es,[t(p,{label:"普通"},{default:n(()=>[t(d,{modelValue:g(e).percentData.pOfB,"onUpdate:modelValue":o[3]||(o[3]=y=>g(e).percentData.pOfB=y),min:0,max:100,precision:2,step:1,class:"w-full",onChange:u},{suffix:n(()=>o[14]||(o[14]=[w("%")])),_:1},8,["modelValue"])]),_:1}),t(p,{label:"拔尖班"},{default:n(()=>[t(d,{modelValue:g(e).percentData.pOfBTop,"onUpdate:modelValue":o[4]||(o[4]=y=>g(e).percentData.pOfBTop=y),min:0,max:100,precision:2,step:1,class:"w-full",onChange:u},{suffix:n(()=>o[15]||(o[15]=[w("%")])),_:1},8,["modelValue"])]),_:1}),t(p,{label:"人才"},{default:n(()=>[t(d,{modelValue:g(e).percentData.pOfBTalent,"onUpdate:modelValue":o[5]||(o[5]=y=>g(e).percentData.pOfBTalent=y),min:0,max:100,precision:2,step:1,class:"w-full",onChange:u},{suffix:n(()=>o[16]||(o[16]=[w("%")])),_:1},8,["modelValue"])]),_:1})])]),l("div",ts,[o[21]||(o[21]=l("h3",{class:"text-lg font-semibold mb-4 text-yellow-600"},"C类院校",-1)),l("div",as,[t(p,{label:"普通"},{default:n(()=>[t(d,{modelValue:g(e).percentData.pOfC,"onUpdate:modelValue":o[6]||(o[6]=y=>g(e).percentData.pOfC=y),min:0,max:100,precision:2,step:1,class:"w-full",onChange:u},{suffix:n(()=>o[18]||(o[18]=[w("%")])),_:1},8,["modelValue"])]),_:1}),t(p,{label:"拔尖班"},{default:n(()=>[t(d,{modelValue:g(e).percentData.pOfCTop,"onUpdate:modelValue":o[7]||(o[7]=y=>g(e).percentData.pOfCTop=y),min:0,max:100,precision:2,step:1,class:"w-full",onChange:u},{suffix:n(()=>o[19]||(o[19]=[w("%")])),_:1},8,["modelValue"])]),_:1}),t(p,{label:"人才"},{default:n(()=>[t(d,{modelValue:g(e).percentData.pOfCTalent,"onUpdate:modelValue":o[8]||(o[8]=y=>g(e).percentData.pOfCTalent=y),min:0,max:100,precision:2,step:1,class:"w-full",onChange:u},{suffix:n(()=>o[20]||(o[20]=[w("%")])),_:1},8,["modelValue"])]),_:1})])]),l("div",ls,[t(m,{type:"primary",class:he({"is-changed":s.value}),onClick:i},{default:n(()=>o[22]||(o[22]=[w("保存设置")])),_:1},8,["class"])])]),_:1})]),_:1})])}}}),ns=I(os,[["__scopeId","data-v-9b30e49a"]]),ss=E({__name:"index",setup(h){return(e,s)=>(r(),C(jt,null,[t(ns)],1024))}}),ui=Object.freeze(Object.defineProperty({__proto__:null,default:ss},Symbol.toStringTag,{value:"Module"})),rs={class:"p-6"},is={class:"flex justify-between items-center"},ds={class:"flex gap-2"},us=E({__name:"index",setup(h){const e=qe(),s=$e(),u=z(()=>{const m=s.fields.filter(c=>c.showInTable),{sortedFields:a}=Ne(m);return a.value.reduce((c,y)=>(c[y.variableName]={label:y.name,width:"150"},c),{})});H(async()=>{await s.fetchFields(),await e.fetchFilteredStudents()});const i=z(()=>{const m=new Set(e.filteredStudents.map(a=>a.applicationType));return Array.from(m)}),_=m=>e.filteredStudents.filter(a=>a.applicationType===m),o=D("");K(i,m=>{m.length&&!o.value&&(o.value=m[0])},{immediate:!0});const d=D([]),p=m=>{d.value=m};return K(o,()=>{d.value=[]}),(m,a)=>{const c=Se,y=Ve,f=Z;return r(),v("div",rs,[t(f,null,{header:n(()=>[l("div",is,[a[1]||(a[1]=l("div",{class:"flex items-start flex-col"},[l("span",{class:"text-xl font-bold"},"筛选结果"),l("div",{class:"text-gray-500 text-sm mt-1"}," 查看和导出通过筛选的学生的申请信息 ")],-1)),l("div",ds,[t(lt,{students:_(o.value),"selected-students":d.value,"application-type":o.value},null,8,["students","selected-students","application-type"]),t(ot,{data:_(o.value),"column-config":u.value,"application-type":o.value},null,8,["data","column-config","application-type"])])])]),default:n(()=>[t(y,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=$=>o.value=$)},{default:n(()=>[(r(!0),v(A,null,M(i.value,$=>(r(),C(c,{key:$,label:$||"其他",name:$},{default:n(()=>[t(at,{data:_($),loading:g(e).loading,error:g(e).error,"column-config":u.value,onSelectionChange:p},null,8,["data","loading","error","column-config"])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1})])}}}),cs=I(us,[["__scopeId","data-v-89fa3168"]]),ci=Object.freeze(Object.defineProperty({__proto__:null,default:cs},Symbol.toStringTag,{value:"Module"})),ps={class:"p-6"},ms={key:0,class:"error-message mt-4 text-red-500"},_s={__name:"index",setup(h){const e=qe();return H(async()=>{await e.fetchFailedStudents(),console.log("未通过筛选的学生:",e.failedStudents)}),(s,u)=>{const i=W,_=ee,o=Z,d=we;return r(),v("div",ps,[t(o,null,{header:n(()=>u[0]||(u[0]=[l("div",{class:"flex justify-between items-center"},[l("div",{class:"flex items-start flex-col"},[l("span",{class:"text-xl font-bold"},"未通过筛选学生"),l("div",{class:"text-gray-500 text-sm mt-1"}," 查看未通过筛选的学生的申请信息 ")])],-1)])),default:n(()=>[se((r(),C(_,{data:g(e).failedStudents,style:{width:"100%"},border:"","table-layout":"auto"},{default:n(()=>[t(i,{type:"index",label:"#",width:"50"}),t(i,{prop:"name",label:"姓名"}),t(i,{prop:"university",label:"本科院校"}),t(i,{prop:"masterUniversity",label:"硕士院校"}),t(i,{prop:"percentage",label:"排名百分比"}),t(i,{prop:"applicationType",label:"申请类型"})]),_:1},8,["data"])),[[d,g(e).loading]]),g(e).error?(r(),v("div",ms,U(g(e).error),1)):B("",!0)]),_:1})])}}},fs=I(_s,[["__scopeId","data-v-6d6811f7"]]),pi=Object.freeze(Object.defineProperty({__proto__:null,default:fs},Symbol.toStringTag,{value:"Module"})),vs={class:"interview-block p-6"},bs={__name:"InterviewBlock",setup(h){const e=D([]),s=D(null),u=()=>{s.value.click()},i=async o=>{const d=o.target.files[0];if(d)try{const p=new FileReader;p.onload=async m=>{const a=m.target.result,c=Ht(a,{type:"array"}),y=c.SheetNames[0],f=c.Sheets[y],x=pe.sheet_to_json(f).map(b=>({student:b.student||b.学生,scoreTeacher1:Number(b.scoreTeacher1||b.老师一打分),scoreTeacher2:Number(b.scoreTeacher2||b.老师二打分),scoreTeacher3:Number(b.scoreTeacher3||b.老师三打分),resumeScore:Number(b.resumeScore||b.简历分数||0)}));await St(d),e.value=x,S.success("表格导入成功")},p.readAsArrayBuffer(d)}catch(p){console.error("文件处理错误:",p),S.error("表格导入失败")}},_=async()=>{try{const o=await Ct();console.log("归一化数据:",o);const p=(Array.isArray(o.data)?o.data:o).map(m=>({student:m.student,scoreTeacher1:Number(m.scoreTeacher1),scoreTeacher2:Number(m.scoreTeacher2),scoreTeacher3:Number(m.scoreTeacher3),normalizedScore:Number(m.normalizedScore),resumeScore:Number(m.resumeScore||0)}));e.value=p,S.success("归一化处理完成")}catch(o){console.error("归一化处理错误:",o),S.error("归一化处理失败")}};return(o,d)=>{const p=R,m=W,a=ee,c=Z;return r(),v("div",vs,[t(c,{class:"mb-6"},{header:n(()=>d[0]||(d[0]=[l("div",{class:"card-header text-left"},[l("span",{class:"text-xl font-bold"},"面试评分"),l("div",{class:"text-gray-500 text-sm mt-1"}," 导入面试评分表格并进行归一化处理 ")],-1)])),default:n(()=>[l("input",{type:"file",ref_key:"fileInput",ref:s,onChange:i,accept:".xlsx,.xls",style:{display:"none"}},null,544),t(p,{type:"primary",onClick:u},{default:n(()=>d[1]||(d[1]=[w("导入表格")])),_:1}),t(p,{type:"success",onClick:_},{default:n(()=>d[2]||(d[2]=[w("归一化")])),_:1}),t(a,{data:e.value,style:{width:"100%","margin-top":"20px"},"default-sort":{prop:"normalizedScore",order:"descending"},"table-layout":"fixed",border:""},{default:n(()=>[t(m,{type:"index",label:"序号","min-width":"60"}),t(m,{prop:"student",label:"学生","min-width":"100"}),t(m,{prop:"scoreTeacher1",label:"老师一打分","min-width":"100"}),t(m,{prop:"scoreTeacher2",label:"老师二打分","min-width":"100"}),t(m,{prop:"scoreTeacher3",label:"老师三打分","min-width":"100"}),t(m,{prop:"normalizedScore",label:"归一化打分","min-width":"100",sortable:""}),t(m,{prop:"resumeScore",label:"简历分数","min-width":"100"})]),_:1},8,["data"])]),_:1})])}}},ys=I(bs,[["__scopeId","data-v-2372b2ad"]]),hs={__name:"index",setup(h){return(e,s)=>(r(),C(ys))}},mi=Object.freeze(Object.defineProperty({__proto__:null,default:hs},Symbol.toStringTag,{value:"Module"})),gs={class:"analysis-block"},ws={class:"charts-container"},$s={__name:"AnalysisBlock",setup(h){const e=je(),s=D(null),u=D(null),i=D(null),_=D(null);H(async()=>{await e.fetchStudents(),o(),d(),p(),m()});function o(){const a=ue(s.value),c={title:{text:"学生总数",subtext:e.students.length,left:"center"},tooltip:{formatter:"{a} <br/>{b} : {c}"},series:[{name:"学生总数",type:"gauge",detail:{formatter:"{value}"},data:[{value:e.students.length,name:"学生总数"}]}]};a.setOption(c)}function d(){const a=ue(u.value),c=e.students.reduce((f,$)=>(f[$.applicationType]=(f[$.applicationType]||0)+1,f),{}),y={title:{text:"报名类型分布"},tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},series:[{name:"报名类型",type:"pie",radius:"50%",data:Object.entries(c).map(([f,$])=>({name:f,value:$})),emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};a.setOption(y)}function p(){const a=ue(i.value),c=e.students.reduce((f,$)=>(f[$.university]=(f[$.university]||0)+1,f),{}),y={title:{text:"本科学校分布"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:Object.keys(c)},yAxis:{type:"value"},series:[{name:"数量",data:Object.values(c),type:"bar"}]};a.setOption(y)}function m(){const a=ue(_.value),y=[85,90,90,78,78,92,88,76,95,89,89,84,84,91,87,82,93,86,94].reduce(($,x)=>($[x]=($[x]||0)+1,$),{}),f={title:{text:"面试分数分布"},tooltip:{},xAxis:{type:"category",data:Object.keys(y).map(Number).sort(($,x)=>$-x)},yAxis:{type:"value"},series:[{name:"数量",data:Object.values(y),type:"bar"}]};a.setOption(f)}return(a,c)=>{const y=Z;return r(),v("div",gs,[t(y,{class:"box-card"},{header:n(()=>c[0]||(c[0]=[l("span",null,"学生数据分析",-1)])),default:n(()=>[l("div",ws,[l("div",{ref_key:"studentCountChart",ref:s,class:"chart"},null,512),l("div",{ref_key:"applicationTypeChart",ref:u,class:"chart"},null,512),l("div",{ref_key:"universityChart",ref:i,class:"chart"},null,512),l("div",{ref_key:"interviewScoreChart",ref:_,class:"chart"},null,512)])]),_:1})])}}},xs=I($s,[["__scopeId","data-v-aaf52454"]]),ks={__name:"index",setup(h){return(e,s)=>(r(),C(xs))}},_i=Object.freeze(Object.defineProperty({__proto__:null,default:ks},Symbol.toStringTag,{value:"Module"})),Vs={class:"p-6"},Ss={key:0,class:"error-message"},Cs=E({__name:"index",setup(h){const e=Q(),s=D("university"),u=Ot({university:_e(()=>me(()=>Promise.resolve().then(()=>vr),void 0,import.meta.url)),major:_e(()=>me(()=>Promise.resolve().then(()=>gr),void 0,import.meta.url)),personnel:_e(()=>me(()=>Promise.resolve().then(()=>Vr),void 0,import.meta.url)),admission:_e(()=>me(()=>Promise.resolve().then(()=>Or),void 0,import.meta.url)),award:_e(()=>me(()=>Promise.resolve().then(()=>Mr),void 0,import.meta.url)),year:_e(()=>me(()=>Promise.resolve().then(()=>zr),void 0,import.meta.url))}),i=z(()=>u.value[s.value]);return(_,o)=>{const d=Se,p=Ve,m=Z,a=we;return r(),v("div",Vs,[t(m,null,{header:n(()=>o[1]||(o[1]=[l("div",{class:"flex justify-between items-center"},[l("div",{class:"flex items-start flex-col"},[l("span",{class:"text-xl font-bold"},"系统设置"),l("div",{class:"text-gray-500 text-sm mt-1"}," 管理系统的基础配置信息 ")])],-1)])),default:n(()=>[se((r(),C(p,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=c=>s.value=c)},{default:n(()=>[t(d,{label:"院校等级调整",name:"university"},{default:n(()=>[s.value==="university"?(r(),C(ve(i.value),{key:0})):B("",!0)]),_:1}),t(d,{label:"专业分类调整",name:"major"},{default:n(()=>[s.value==="major"?(r(),C(ve(i.value),{key:0})):B("",!0)]),_:1}),t(d,{label:"奖项配置",name:"award"},{default:n(()=>[s.value==="award"?(r(),C(ve(i.value),{key:0})):B("",!0)]),_:1}),t(d,{label:"导师信息调整",name:"personnel"},{default:n(()=>[s.value==="personnel"?(r(),C(ve(i.value),{key:0})):B("",!0)]),_:1}),t(d,{label:"招生年份和时间调整",name:"admission"},{default:n(()=>[s.value==="admission"?(r(),C(ve(i.value),{key:0})):B("",!0)]),_:1})]),_:1},8,["modelValue"])),[[a,g(e).isLoading]]),g(e).error?(r(),v("div",Ss,U(g(e).error),1)):B("",!0)]),_:1})])}}}),Fs=I(Cs,[["__scopeId","data-v-2a96d70c"]]),fi=Object.freeze(Object.defineProperty({__proto__:null,default:Fs},Symbol.toStringTag,{value:"Module"})),Ds={class:"p-6"},Is={class:"flex justify-between items-center"},Ps={class:"flex gap-2"},Ts={class:"flex gap-4 flex-wrap"},js={class:"flex justify-end gap-2"},Os=E({__name:"index",setup(h){const e=$e();e.fetchFields().then(()=>{const x=e.fields.map(b=>({variableName:b.variableName,type:b.type}));console.log("Fields Info:",x)});const s=[{value:"string",label:"字符串"},{value:"percent",label:"百分比"},{value:"boolean",label:"布尔值"},{value:"select",label:"单选"},{value:"date",label:"日期"},{value:"number",label:"数字"}],u=[{value:"个人信息",label:"个人信息"},{value:"学历信息",label:"学历信息"},{value:"申请志愿",label:"申请志愿"},{value:"论文情况",label:"论文情况"},{value:"奖项",label:"奖项"},{value:"其他",label:"其他"}],i=D(!1),_=D("新增字段"),o=D({id:0,name:"",description:"",type:"text",showInTable:!0,showInFilter:!0,showInApply:!0,showInRecommendMaster:!0,showInExamMaster:!0,showInPhd:!0,showInDirectPhd:!0,regionInForm:"其他"}),d=()=>{_.value="新增字段",o.value={id:0,name:"",description:"",showInTable:!0,showInFilter:!0,showInApply:!0,showInRecommendMaster:!0,showInExamMaster:!0,showInPhd:!0,showInDirectPhd:!0,regionInForm:"其他"},p.value=!1,i.value=!0},p=D(!1),m=x=>{_.value="编辑字段",o.value={...x},p.value=!0,i.value=!0},a=async()=>{if(!o.value.name||!o.value.description){S.warning("请填写完整信息");return}(p.value?await e.editField(o.value):await e.createField(o.value))&&(i.value=!1,await e.fetchFields())},c=async x=>{await e.removeField(x.id)},y=async x=>{await e.editField(x)&&await e.fetchFields()},f=z(()=>{const x={};return u.forEach(b=>{x[b.value]=e.fields.filter(T=>T.regionInForm===b.value)}),x}),$=D("个人信息");return(x,b)=>{const T=Se,V=Ve,P=Z;return r(),v("div",Ds,[t(P,null,{header:n(()=>[l("div",Is,[b[15]||(b[15]=l("div",{class:"flex items-start flex-col"},[l("span",{class:"text-xl font-bold"},"字段管理"),l("div",{class:"text-gray-500 text-sm mt-1"}," 前台申请表单与后台管理系统中使用的所有字段及其显示设置 ")],-1)),l("div",Ps,[t(g(R),{type:"primary",onClick:d},{default:n(()=>b[14]||(b[14]=[w("新增字段")])),_:1})])])]),default:n(()=>[t(V,{modelValue:$.value,"onUpdate:modelValue":b[0]||(b[0]=F=>$.value=F)},{default:n(()=>[(r(),v(A,null,M(u,F=>t(T,{key:F.value,label:F.label,name:F.value},{default:n(()=>[t(g(ee),{data:f.value[F.value],border:"",class:"w-full"},{default:n(()=>[t(g(W),{label:"ID","min-width":"80",type:"index",index:1}),t(g(W),{prop:"name",label:"字段名称","min-width":"120"}),t(g(W),{prop:"description",label:"描述","min-width":"150","show-overflow-tooltip":""}),t(g(W),{label:"字段类型","min-width":"100"},{default:n(({row:O})=>{var k;return[w(U(((k=s.find(j=>j.value===O.type))==null?void 0:k.label)||O.type),1)]}),_:1}),t(g(W),{label:"在表格中显示","min-width":"120",align:"center"},{default:n(({row:O})=>[t(g(ae),{modelValue:O.showInTable,"onUpdate:modelValue":k=>O.showInTable=k,onChange:()=>y(O)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(g(W),{label:"在申请页面显示","min-width":"150",align:"center"},{default:n(({row:O})=>[t(g(ae),{modelValue:O.showInApply,"onUpdate:modelValue":k=>O.showInApply=k,onChange:()=>y(O)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(g(W),{label:"操作","min-width":"150",align:"center"},{default:n(({row:O})=>[t(g(R),{type:"primary",size:"small",onClick:k=>m(O)},{default:n(()=>b[16]||(b[16]=[w("编辑")])),_:2},1032,["onClick"]),t(g(R),{type:"danger",size:"small",onClick:k=>c(O)},{default:n(()=>b[17]||(b[17]=[w("删除")])),_:2},1032,["onClick"])]),_:1})]),_:2},1032,["data"])]),_:2},1032,["label","name"])),64))]),_:1},8,["modelValue"])]),_:1}),t(g(xe),{modelValue:i.value,"onUpdate:modelValue":b[13]||(b[13]=F=>i.value=F),title:_.value,width:"500px","destroy-on-close":""},{footer:n(()=>[l("div",js,[t(g(R),{onClick:b[12]||(b[12]=F=>i.value=!1)},{default:n(()=>b[18]||(b[18]=[w("取消")])),_:1}),t(g(R),{type:"primary",onClick:a},{default:n(()=>b[19]||(b[19]=[w("确定")])),_:1})])]),default:n(()=>[t(g(ke),{model:o.value,"label-width":"100px"},{default:n(()=>[t(g(de),{label:"字段名称",required:""},{default:n(()=>[t(g(ne),{modelValue:o.value.name,"onUpdate:modelValue":b[1]||(b[1]=F=>o.value.name=F),placeholder:"请输入字段名称"},null,8,["modelValue"])]),_:1}),t(g(de),{label:"描述",required:""},{default:n(()=>[t(g(ne),{modelValue:o.value.description,"onUpdate:modelValue":b[2]||(b[2]=F=>o.value.description=F),placeholder:"请输入字段描述"},null,8,["modelValue"])]),_:1}),t(g(de),{label:"字段类型",required:""},{default:n(()=>[t(g(le),{modelValue:o.value.type,"onUpdate:modelValue":b[3]||(b[3]=F=>o.value.type=F),placeholder:"请选择字段类型"},{default:n(()=>[(r(),v(A,null,M(s,F=>t(g(oe),{key:F.value,label:F.label,value:F.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(g(de),{label:"显示设置"},{default:n(()=>[l("div",Ts,[t(g(ae),{modelValue:o.value.showInTable,"onUpdate:modelValue":b[4]||(b[4]=F=>o.value.showInTable=F),"active-text":"表格显示"},null,8,["modelValue"]),t(g(ae),{modelValue:o.value.showInFilter,"onUpdate:modelValue":b[5]||(b[5]=F=>o.value.showInFilter=F),"active-text":"筛选显示"},null,8,["modelValue"]),t(g(ae),{modelValue:o.value.showInApply,"onUpdate:modelValue":b[6]||(b[6]=F=>o.value.showInApply=F),"active-text":"申请显示"},null,8,["modelValue"]),t(g(ae),{modelValue:o.value.showInRecommendMaster,"onUpdate:modelValue":b[7]||(b[7]=F=>o.value.showInRecommendMaster=F),"active-text":"推免显示"},null,8,["modelValue"]),t(g(ae),{modelValue:o.value.showInExamMaster,"onUpdate:modelValue":b[8]||(b[8]=F=>o.value.showInExamMaster=F),"active-text":"考研显示"},null,8,["modelValue"]),t(g(ae),{modelValue:o.value.showInPhd,"onUpdate:modelValue":b[9]||(b[9]=F=>o.value.showInPhd=F),"active-text":"博士显示"},null,8,["modelValue"]),t(g(ae),{modelValue:o.value.showInDirectPhd,"onUpdate:modelValue":b[10]||(b[10]=F=>o.value.showInDirectPhd=F),"active-text":"直博显示"},null,8,["modelValue"])])]),_:1}),t(g(de),{label:"表单区域"},{default:n(()=>[t(g(le),{modelValue:o.value.regionInForm,"onUpdate:modelValue":b[11]||(b[11]=F=>o.value.regionInForm=F),placeholder:"请选择表单区域"},{default:n(()=>[(r(),v(A,null,M(u,F=>t(g(oe),{key:F.value,label:F.label,value:F.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}}),Us=I(Os,[["__scopeId","data-v-5e3e2b2c"]]),vi=Object.freeze(Object.defineProperty({__proto__:null,default:Us},Symbol.toStringTag,{value:"Module"})),As={class:"p-6"},Ms={class:"flex justify-between items-center"},Ns={class:"flex gap-2"},Ls={class:"flex justify-between items-center"},zs={class:"button-group"},Es={__name:"index",setup(h){var p;const e=Be(),s=D(!1),u=D(e.autoLoginDays),i=D({username:((p=e.user)==null?void 0:p.username)||"",phone:e.userInfo.phone||"",email:e.userInfo.email||"",oldPassword:"",newPassword:"",confirmPassword:""}),_=async()=>{try{const m={phone:i.value.phone,email:i.value.email,auto_login_days:u.value};if(s.value&&i.value.newPassword){if(i.value.newPassword!==i.value.confirmPassword){S.error("两次输入的密码不一致");return}m.old_password=i.value.oldPassword,m.new_password=i.value.newPassword}await e.updateUserInfo(m)?(S.success("保存成功"),s.value&&d()):S.error("保存失败")}catch{S.error("保存失败")}},o=()=>{e.logout(),S.success("退出登录成功")},d=()=>{i.value.oldPassword="",i.value.newPassword="",i.value.confirmPassword="",s.value=!1};return H(async()=>{await e.fetchUserInfo(),i.value.phone=e.userInfo.phone,i.value.email=e.userInfo.email,u.value=e.autoLoginDays}),(m,a)=>{const c=R,y=ne,f=de,$=et,x=ke,b=Z,T=Xe,V=Ae;return r(),v("div",As,[t(b,null,{header:n(()=>[l("div",Ms,[a[10]||(a[10]=l("div",{class:"flex items-start flex-col"},[l("span",{class:"text-xl font-bold"},"账号设置"),l("div",{class:"text-gray-500 text-sm mt-1"}," 管理您的账户信息和安全设置 ")],-1)),l("div",Ns,[t(c,{type:"primary",onClick:a[0]||(a[0]=()=>{s.value=!0,g(S).info("请填写密码信息")}),disabled:s.value},{default:n(()=>a[8]||(a[8]=[w(" 修改密码 ")])),_:1},8,["disabled"]),t(c,{type:"danger",onClick:o},{default:n(()=>a[9]||(a[9]=[w(" 退出登录 ")])),_:1})])])]),default:n(()=>[t(V,{gutter:20},{default:n(()=>[t(T,{span:12},{default:n(()=>[t(b,{class:"box-card"},{header:n(()=>a[11]||(a[11]=[l("div",{class:"card-header"},[l("h3",null,"基本信息"),l("p",{class:"text-secondary"},"管理您的个人资料")],-1)])),default:n(()=>[t(x,{onSubmit:ye(_,["prevent"]),"label-position":"top"},{default:n(()=>[t(f,{label:"用户名"},{default:n(()=>[t(y,{modelValue:i.value.username,"onUpdate:modelValue":a[1]||(a[1]=P=>i.value.username=P),disabled:""},null,8,["modelValue"])]),_:1}),t(f,{label:"手机号码"},{default:n(()=>[t(y,{modelValue:i.value.phone,"onUpdate:modelValue":a[2]||(a[2]=P=>i.value.phone=P),placeholder:"请输入手机号码"},null,8,["modelValue"])]),_:1}),t(f,{label:"邮箱地址"},{default:n(()=>[t(y,{modelValue:i.value.email,"onUpdate:modelValue":a[3]||(a[3]=P=>i.value.email=P),placeholder:"请输入邮箱",type:"email"},null,8,["modelValue"])]),_:1}),a[14]||(a[14]=l("div",{class:"flex justify-between items-center mb-4"},[l("span",{class:"text-base font-medium"},"自动登录设置")],-1)),l("div",Ls,[t(f,null,{default:n(()=>[t($,{modelValue:u.value,"onUpdate:modelValue":a[4]||(a[4]=P=>u.value=P),min:1,max:30,"controls-position":"right"},null,8,["modelValue"]),a[12]||(a[12]=l("span",{class:"days-text"},"天",-1))]),_:1}),t(c,{type:"primary",onClick:_},{default:n(()=>a[13]||(a[13]=[w("保存修改")])),_:1})])]),_:1})]),_:1})]),_:1}),t(T,{span:12},{default:n(()=>[s.value?(r(),C(b,{key:0,class:"box-card password-card"},{header:n(()=>a[15]||(a[15]=[l("div",{class:"card-header"},[l("h3",null,"修改密码"),l("p",{class:"text-secondary"},"设置新的账号密码")],-1)])),default:n(()=>[t(x,{onSubmit:ye(_,["prevent"]),"label-position":"top"},{default:n(()=>[t(f,{label:"原密码"},{default:n(()=>[t(y,{modelValue:i.value.oldPassword,"onUpdate:modelValue":a[5]||(a[5]=P=>i.value.oldPassword=P),type:"password",placeholder:"请输入原密码","show-password":""},null,8,["modelValue"])]),_:1}),t(f,{label:"新密码"},{default:n(()=>[t(y,{modelValue:i.value.newPassword,"onUpdate:modelValue":a[6]||(a[6]=P=>i.value.newPassword=P),type:"password",placeholder:"请输入新密码","show-password":""},null,8,["modelValue"])]),_:1}),t(f,{label:"确认新密码"},{default:n(()=>[t(y,{modelValue:i.value.confirmPassword,"onUpdate:modelValue":a[7]||(a[7]=P=>i.value.confirmPassword=P),type:"password",placeholder:"请再次输入新密码","show-password":""},null,8,["modelValue"])]),_:1}),l("div",zs,[t(c,{onClick:d},{default:n(()=>a[16]||(a[16]=[w("取消修改")])),_:1}),t(c,{type:"primary","native-type":"submit"},{default:n(()=>a[17]||(a[17]=[w("确认修改")])),_:1})])]),_:1})]),_:1})):B("",!0)]),_:1})]),_:1})]),_:1})])}}},Rs=I(Es,[["__scopeId","data-v-5b97f2d0"]]),bi=Object.freeze(Object.defineProperty({__proto__:null,default:Rs},Symbol.toStringTag,{value:"Module"})),Bs={class:"contact-container"},qs={class:"contact-content"},Ys=E({__name:"Contact",setup(h){return(e,s)=>(r(),C(Me,null,{default:n(()=>[l("div",Bs,[t(g(Z),{class:"contact-card"},{default:n(()=>[l("div",qs,[s[0]||(s[0]=l("h2",{class:"text-2xl font-bold mb-6 text-center text-gray-800"}," 联系我们 ",-1)),s[1]||(s[1]=l("div",{class:"email-section"},[l("p",{class:"text-lg font-medium mb-2"},"邮箱地址"),l("p",{class:"text-xl font-semibold text-blue-600 mb-4"}," palmapplication@163.com ")],-1)),t(g(Ee)),s[2]||(s[2]=l("div",{class:"instruction-section"},[l("h3",{class:"text-lg font-medium mb-3"},"发送邮件须知"),l("ul",{class:"text-gray-700 space-y-2 text-left"},[l("li",null,"• 请在邮件中注明您的基本信息："),l("li",{class:"ml-4"},"- 学校"),l("li",{class:"ml-4"},"- 姓名"),l("li",{class:"ml-4"},"- 申请类型"),l("li",null,"• 详细描述您遇到的问题、建议或看法"),l("li",null,"• 请在邮件中附上相关材料，如截图等")])],-1)),t(g(Ee)),s[3]||(s[3]=l("div",{class:"promise-section text-center"},[l("p",{class:"text-gray-700 mb-2"},"我们会尽快回复并解决您提出的问题"),l("p",{class:"text-gray-600"},"感谢您的支持与建议！")],-1))])]),_:1})])]),_:1}))}}),Hs=I(Ys,[["__scopeId","data-v-d32391ea"]]),Ws={__name:"index",setup(h){return(e,s)=>(r(),C(Hs))}},yi=Object.freeze(Object.defineProperty({__proto__:null,default:Ws},Symbol.toStringTag,{value:"Module"})),Ks={class:"container"},Gs={class:"center-table"},Js={__name:"index",setup(h){const e=Q(),{personnel:s}=Ut(e);return H(async()=>{await e.fetchPersonnel()}),(u,i)=>(r(),C(Me,null,{default:n(()=>[l("div",Ks,[i[1]||(i[1]=l("h1",{class:"title"},"PALM实验室招收 2026 年秋季入学博士及硕士研究生",-1)),i[2]||(i[2]=l("p",{class:"welcome-message"}," 欢迎报考计算机学院、软件学院、东-蒙联合研究生院的同学申请 ",-1)),i[3]||(i[3]=l("ul",{class:"notice-list"},[l("li",null,[w(" 申请前请首先阅读 PALM 实验室招生说明 "),l("a",{href:"https://palm.seu.edu.cn/application.html",target:"_blank"},"https://palm.seu.edu.cn/application.html"),w("。 ")]),l("li",null,[w(" 报名系统网址："),l("a",{href:"https://palm.inon.space",target:"_blank"},"https://palm.inon.space"),w("。 ")]),l("li",null,[w(" 有关 PALM 实验室具体情况，请访问实验室官方网站："),l("a",{href:"https://palm.seu.edu.cn",target:"_blank"},"https://palm.seu.edu.cn"),w("。 ")])],-1)),i[4]||(i[4]=l("h3",null,"2026 年PALM实验室拟招生导师名单",-1)),l("table",Gs,[i[0]||(i[0]=l("thead",null,[l("tr",null,[l("th",null,"拟招生导师"),l("th",null,"拟招生对象"),l("th",null,"招生院系"),l("th",null,"研究方向")])],-1)),l("tbody",null,[(r(!0),v(A,null,M(g(s),(_,o)=>(r(),v("tr",{key:o},[l("td",null,U(_.name),1),l("td",null,U(_.recruitment_type),1),l("td",null,U(_.department),1),l("td",null,U(_.research_direction),1)]))),128))])])])]),_:1}))}},Zs=I(Js,[["__scopeId","data-v-039f32d5"]]),hi=Object.freeze(Object.defineProperty({__proto__:null,default:Zs},Symbol.toStringTag,{value:"Module"})),Qs={};function Xs(h,e){return" 介绍 "}const er=I(Qs,[["render",Xs]]),gi=Object.freeze(Object.defineProperty({__proto__:null,default:er},Symbol.toStringTag,{value:"Module"})),tr={};function ar(h,e){return" 新闻 "}const lr=I(tr,[["render",ar]]),wi=Object.freeze(Object.defineProperty({__proto__:null,default:lr},Symbol.toStringTag,{value:"Module"})),or={};function nr(h,e){return" 成员 "}const sr=I(or,[["render",nr]]),$i=Object.freeze(Object.defineProperty({__proto__:null,default:sr},Symbol.toStringTag,{value:"Module"})),rr={};function ir(h,e){return" 学术 "}const dr=I(rr,[["render",ir]]),xi=Object.freeze(Object.defineProperty({__proto__:null,default:dr},Symbol.toStringTag,{value:"Module"})),ur={class:"grid grid-cols-3 gap-4"},cr={class:"flex items-center gap-2"},pr={key:0,class:"text-center py-8 text-gray-500"},mr={class:"mt-4 flex justify-between"},_r={class:"flex gap-4"},fr=E({__name:"UniversityLevel",setup(h){const e=Q();H(async()=>{try{await e.fetchUniversities()}catch{S.error("加载院校数据失败")}});const s=()=>{e.universities.push({name:"",level:""})},u=async _=>{e.universities.splice(_,1),await e.saveUniversities()},i=async()=>{try{await e.saveUniversities(),S.success("院校数据提交成功")}catch{S.error("院校数据提交失败")}};return K(()=>e.universities,()=>{e.isInitializing||S.warning("您已修改院校数据，请记得提交更改")},{deep:!0}),(_,o)=>{const d=ne,p=oe,m=le,a=R;return r(),v("div",null,[l("div",ur,[(r(!0),v(A,null,M(g(e).universities,(c,y)=>(r(),v("div",{key:y,class:"border p-4 rounded"},[l("div",cr,[t(d,{modelValue:c.name,"onUpdate:modelValue":f=>c.name=f,placeholder:"请输入院校名称"},null,8,["modelValue","onUpdate:modelValue"]),t(m,{modelValue:c.level,"onUpdate:modelValue":f=>c.level=f,placeholder:"选择等级",style:{width:"120px"}},{default:n(()=>[t(p,{label:"A",value:"A"}),t(p,{label:"B",value:"B"}),t(p,{label:"C",value:"C"}),t(p,{label:"国际前100",value:"国际前100"}),t(p,{label:"国际前200",value:"国际前200"})]),_:2},1032,["modelValue","onUpdate:modelValue"]),t(a,{type:"danger",onClick:f=>u(y),size:"small"},{default:n(()=>o[0]||(o[0]=[w("删除")])),_:2},1032,["onClick"])])]))),128))]),g(e).universities.length===0?(r(),v("div",pr,U(g(e).isInitializing?"加载中...":"暂无数据"),1)):B("",!0),l("div",mr,[l("div",_r,[t(a,{type:"primary",onClick:s},{default:n(()=>o[1]||(o[1]=[w("新增院校")])),_:1})]),t(a,{type:"success",onClick:i},{default:n(()=>o[2]||(o[2]=[w("提交更改")])),_:1})])])}}}),vr=Object.freeze(Object.defineProperty({__proto__:null,default:fr},Symbol.toStringTag,{value:"Module"})),br={class:"mt-4 flex justify-between"},yr={class:"flex gap-4"},hr=E({__name:"MajorCategory",setup(h){const e=Q();H(async()=>{try{await e.fetchMajors()}catch{S.error("加载专业数据失败")}});const s=()=>{e.majors.push({name:"",category:""})},u=async _=>{e.majors.splice(_,1),await e.saveMajors()},i=async()=>{try{await e.saveMajors(),S.success("专业数据提交成功")}catch{S.error("专业数据提交失败")}};return K(()=>e.majors,()=>{e.isInitializing||S.warning("您已修改专业数据，请记得提交更改")},{deep:!0}),(_,o)=>{const d=ne,p=W,m=oe,a=le,c=R,y=ee;return r(),v("div",null,[t(y,{data:g(e).majors,style:{width:"100%"}},{default:n(()=>[t(p,{prop:"name",label:"专业名称"},{default:n(({row:f})=>[t(d,{modelValue:f.name,"onUpdate:modelValue":$=>f.name=$,placeholder:"请输入专业名称"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(p,{prop:"category",label:"分类"},{default:n(({row:f})=>[t(a,{modelValue:f.category,"onUpdate:modelValue":$=>f.category=$,placeholder:"选择分类"},{default:n(()=>[t(m,{label:"可录取专业",value:"可录取专业"}),t(m,{label:"数学类",value:"数学类"}),t(m,{label:"电子信息类",value:"电子信息类"}),t(m,{label:"自动化类",value:"自动化类"}),t(m,{label:"其他工科",value:"其他工科"}),t(m,{label:"理科（非数学）",value:"理科（非数学）"}),t(m,{label:"文商科",value:"文商科"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),t(p,{label:"操作"},{default:n(({$index:f})=>[t(c,{type:"danger",onClick:$=>u(f),size:"small"},{default:n(()=>o[0]||(o[0]=[w("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l("div",br,[l("div",yr,[t(c,{type:"primary",onClick:s},{default:n(()=>o[1]||(o[1]=[w("新增专业")])),_:1})]),t(c,{type:"success",onClick:i},{default:n(()=>o[2]||(o[2]=[w("提交更改")])),_:1})])])}}}),gr=Object.freeze(Object.defineProperty({__proto__:null,default:hr},Symbol.toStringTag,{value:"Module"})),wr={class:"mt-4 flex justify-between"},$r={class:"flex gap-4"},xr=E({__name:"PersonnelManagement",setup(h){const e=Q();H(async()=>{try{await e.fetchPersonnel()}catch{S.error("加载专业数据失败")}});const s=()=>{e.personnel.push({name:"",recruitment_type:"",department:"",research_direction:"",order:e.personnel.length})},u=async o=>{e.personnel.splice(o,1),await e.savePersonnel()},i=async()=>{try{await e.savePersonnel(),S.success("人员数据提交成功")}catch{S.error("人员数据提交失败")}};H(()=>{const o=document.querySelector(".el-table__body-wrapper tbody");o&&new Yt(o,{handle:".move-icon",animation:150,onEnd:({newIndex:d,oldIndex:p})=>{if(typeof d=="number"&&typeof p=="number"){const m=e.personnel.splice(p,1)[0];e.personnel.splice(d,0,m),e.personnel.forEach((a,c)=>{a.order=c}),S.warning("您已修改人员顺序，请记得提交更改")}}})});const _=()=>"draggable-row";return K(()=>e.personnel,()=>{e.isInitializing||S.warning("您已修改人员数据，请记得提交更改")},{deep:!0}),(o,d)=>{const p=Ge,m=W,a=ne,c=oe,y=le,f=R,$=ee;return r(),v("div",null,[t($,{data:g(e).personnel,style:{width:"100%"},"row-key":"name","row-class-name":_},{default:n(()=>[t(m,{width:"40"},{default:n(()=>[t(p,{class:"move-icon cursor-move"},{default:n(()=>[t(g(Wt))]),_:1})]),_:1}),t(m,{prop:"order",label:"序号",width:"60"},{default:n(({row:x})=>[w(U(x.order+1),1)]),_:1}),t(m,{prop:"name",label:"姓名"},{default:n(({row:x})=>[t(a,{modelValue:x.name,"onUpdate:modelValue":b=>x.name=b,placeholder:"请输入姓名"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(m,{prop:"recruitment_type",label:"招生类型"},{default:n(({row:x})=>[t(y,{modelValue:x.recruitment_type,"onUpdate:modelValue":b=>x.recruitment_type=b,placeholder:"选择招生类型"},{default:n(()=>[t(c,{label:"博士生、直博生、硕士生",value:"博士生、直博生、硕士生"}),t(c,{label:"硕士生",value:"硕士生"}),t(c,{label:"博士生、直博生",value:"博士生、直博生"}),t(c,{label:"暂不招生",value:"暂不招生"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),t(m,{prop:"department",label:"所属院系"},{default:n(({row:x})=>[t(a,{modelValue:x.department,"onUpdate:modelValue":b=>x.department=b,placeholder:"请输入所属院系"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(m,{prop:"research_direction",label:"研究方向"},{default:n(({row:x})=>[t(a,{modelValue:x.research_direction,"onUpdate:modelValue":b=>x.research_direction=b,placeholder:"请输入研究方向"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(m,{label:"操作"},{default:n(({$index:x})=>[t(f,{type:"danger",onClick:b=>u(x),size:"small"},{default:n(()=>d[0]||(d[0]=[w("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l("div",wr,[l("div",$r,[t(f,{type:"primary",onClick:s},{default:n(()=>d[1]||(d[1]=[w("新增人员")])),_:1})]),t(f,{type:"success",onClick:i},{default:n(()=>d[2]||(d[2]=[w("提交更改")])),_:1})])])}}}),kr=I(xr,[["__scopeId","data-v-69f7b6aa"]]),Vr=Object.freeze(Object.defineProperty({__proto__:null,default:kr},Symbol.toStringTag,{value:"Module"})),Sr={class:"date-setting"},Cr={class:"mb-8"},Fr={class:"flex items-center"},Dr={class:"mt-8 mb-4"},Ir={class:"flex items-center"},Pr={class:"mt-4 text-right"},Tr=E({__name:"DateSetting",setup(h){const e=Ft(),s=Q(),u=D(new Date().getFullYear());H(async()=>{try{await s.fetchYear(),s.year.year>0&&(u.value=s.year.year,_.value=u.value,await e.fetchAdmissionDatesByYear(_.value))}catch(m){console.error("初始化数据失败:",m)}});const i=async m=>{try{await s.saveYear(m),_.value=m,await e.fetchAdmissionDatesByYear(m),S.success("当前招生年份设置成功")}catch(a){console.error("保存当前招生年份失败:",a),S.error("保存当前招生年份失败")}},_=D(u.value),o=z(()=>{const m=[],a=new Date().getFullYear();for(let c=a-1;c<=a+2;c++)m.push(c);return m}),d=async m=>{await e.fetchAdmissionDatesByYear(m)},p=async()=>{await e.saveAdmissionDatesByYear(_.value)};return(m,a)=>{const c=oe,y=le,f=W,$=Et,x=ee,b=R,T=we;return r(),v("div",Sr,[l("div",Cr,[l("div",Fr,[a[2]||(a[2]=l("span",{class:"mr-2"},"当前招生年份：",-1)),t(y,{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=V=>u.value=V),placeholder:"请选择当前招生年份",class:"w-48",onChange:i},{default:n(()=>[(r(!0),v(A,null,M(o.value,V=>(r(),C(c,{key:V,label:V+"年",value:V},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),t(Dt),l("div",Dr,[l("div",Ir,[a[3]||(a[3]=l("span",{class:"mr-2"},"招生日期设置：",-1)),t(y,{modelValue:_.value,"onUpdate:modelValue":a[1]||(a[1]=V=>_.value=V),placeholder:"请选择年份",class:"w-48",onChange:d},{default:n(()=>[(r(!0),v(A,null,M(o.value,V=>(r(),C(c,{key:V,label:V+"年",value:V},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),se((r(),C(x,{data:g(e).admissionDates,border:""},{default:n(()=>[t(f,{prop:"type",label:"招生类型",width:"180"}),t(f,{label:"开始时间"},{default:n(({row:V})=>[t($,{modelValue:V.start_time,"onUpdate:modelValue":P=>V.start_time=P,type:"datetime",placeholder:"选择开始时间",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(f,{label:"结束时间"},{default:n(({row:V})=>[t($,{modelValue:V.end_time,"onUpdate:modelValue":P=>V.end_time=P,type:"datetime",placeholder:"选择结束时间",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"])),[[T,g(e).isLoading]]),l("div",Pr,[t(b,{type:"primary",onClick:p,loading:g(e).isLoading},{default:n(()=>a[4]||(a[4]=[w(" 保存设置 ")])),_:1},8,["loading"])])])}}}),jr=I(Tr,[["__scopeId","data-v-c3d4b505"]]),Or=Object.freeze(Object.defineProperty({__proto__:null,default:jr},Symbol.toStringTag,{value:"Module"})),Ur={class:"mt-4 flex justify-between"},Ar=E({__name:"AwardSetting",setup(h){const e=Q();H(async()=>{try{await e.fetchAwards()}catch{S.error("加载奖项数据失败")}});const s=()=>{e.awards.push({name:"",level:"",category:""})},u=async _=>{e.awards.splice(_,1),await e.saveAwards()},i=async()=>{try{await e.saveAwards(),S.success("奖项配置保存成功")}catch{S.error("奖项配置保存失败")}};return K(()=>e.awards,()=>{e.isInitializing||S.warning("您已修改奖项数据，请记得提交更改")},{deep:!0}),(_,o)=>{const d=ne,p=W,m=oe,a=le,c=R,y=ee;return r(),v("div",null,[t(y,{data:g(e).awards,style:{width:"100%"}},{default:n(()=>[t(p,{prop:"name",label:"奖项名称"},{default:n(({row:f})=>[t(d,{modelValue:f.name,"onUpdate:modelValue":$=>f.name=$,placeholder:"请输入奖项名称"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(p,{prop:"level",label:"奖项等级"},{default:n(({row:f})=>[t(a,{modelValue:f.level,"onUpdate:modelValue":$=>f.level=$,placeholder:"选择奖项等级"},{default:n(()=>[t(m,{label:"国家级",value:"国家级"}),t(m,{label:"省部级",value:"省部级"}),t(m,{label:"校级",value:"校级"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),t(p,{prop:"category",label:"奖项类别"},{default:n(({row:f})=>[t(d,{modelValue:f.category,"onUpdate:modelValue":$=>f.category=$,placeholder:"请输入奖项类别"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(p,{label:"操作"},{default:n(({$index:f})=>[t(c,{type:"danger",onClick:$=>u(f),size:"small"},{default:n(()=>o[0]||(o[0]=[w("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l("div",Ur,[t(c,{type:"primary",onClick:s},{default:n(()=>o[1]||(o[1]=[w("新增奖项")])),_:1}),t(c,{type:"success",onClick:i},{default:n(()=>o[2]||(o[2]=[w("提交更改")])),_:1})])])}}}),Mr=Object.freeze(Object.defineProperty({__proto__:null,default:Ar},Symbol.toStringTag,{value:"Module"})),Nr={class:"mt-4 flex justify-between"},Lr=E({__name:"YearSetting",setup(h){const e=Q();H(async()=>{try{await e.fetchYears()}catch{S.error("加载年份数据失败")}});const s=()=>{e.years.push({year:"",status:""})},u=async _=>{e.years.splice(_,1),await e.saveYears()},i=async()=>{try{await e.saveYears(),S.success("年份配置保存成功")}catch{S.error("年份配置保存失败")}};return K(()=>e.years,()=>{e.isInitializing||S.warning("您已修改年份数据，请记得提交更改")},{deep:!0}),(_,o)=>{const d=ne,p=W,m=oe,a=le,c=R,y=ee;return r(),v("div",null,[t(y,{data:g(e).years,style:{width:"100%"}},{default:n(()=>[t(p,{prop:"year",label:"年份"},{default:n(({row:f})=>[t(d,{modelValue:f.year,"onUpdate:modelValue":$=>f.year=$,placeholder:"请输入年份"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(p,{prop:"status",label:"状态"},{default:n(({row:f})=>[t(a,{modelValue:f.status,"onUpdate:modelValue":$=>f.status=$,placeholder:"选择状态"},{default:n(()=>[t(m,{label:"启用",value:"启用"}),t(m,{label:"禁用",value:"禁用"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),t(p,{label:"操作"},{default:n(({$index:f})=>[t(c,{type:"danger",onClick:$=>u(f),size:"small"},{default:n(()=>o[0]||(o[0]=[w("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l("div",Nr,[t(c,{type:"primary",onClick:s},{default:n(()=>o[1]||(o[1]=[w("新增年份")])),_:1}),t(c,{type:"success",onClick:i},{default:n(()=>o[2]||(o[2]=[w("提交更改")])),_:1})])])}}}),zr=Object.freeze(Object.defineProperty({__proto__:null,default:Lr},Symbol.toStringTag,{value:"Module"}));export{gi as A,wi as B,$i as C,xi as D,Gr as a,Jr as b,Zr as c,Qr as d,Xr as e,ei as f,ti as g,ai as h,Kr as i,li as j,oi as k,ni as l,si as m,ri as n,ii as o,di as p,ui as q,ci as r,pi as s,mi as t,_i as u,fi as v,vi as w,bi as x,yi as y,hi as z};
